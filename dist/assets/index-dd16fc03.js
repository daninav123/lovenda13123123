var $G=Object.defineProperty;var FG=(t,e,n)=>e in t?$G(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Pe=(t,e,n)=>(FG(t,typeof e!="symbol"?e+"":e,n),n);function VG(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var cn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ke(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var l3={exports:{}},Zb={},c3={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qm=Symbol.for("react.element"),BG=Symbol.for("react.portal"),UG=Symbol.for("react.fragment"),zG=Symbol.for("react.strict_mode"),WG=Symbol.for("react.profiler"),HG=Symbol.for("react.provider"),qG=Symbol.for("react.context"),GG=Symbol.for("react.forward_ref"),KG=Symbol.for("react.suspense"),YG=Symbol.for("react.memo"),XG=Symbol.for("react.lazy"),mN=Symbol.iterator;function QG(t){return t===null||typeof t!="object"?null:(t=mN&&t[mN]||t["@@iterator"],typeof t=="function"?t:null)}var u3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d3=Object.assign,f3={};function Xd(t,e,n){this.props=t,this.context=e,this.refs=f3,this.updater=n||u3}Xd.prototype.isReactComponent={};Xd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function h3(){}h3.prototype=Xd.prototype;function iP(t,e,n){this.props=t,this.context=e,this.refs=f3,this.updater=n||u3}var sP=iP.prototype=new h3;sP.constructor=iP;d3(sP,Xd.prototype);sP.isPureReactComponent=!0;var gN=Array.isArray,p3=Object.prototype.hasOwnProperty,oP={current:null},m3={key:!0,ref:!0,__self:!0,__source:!0};function g3(t,e,n){var r,s={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)p3.call(e,r)&&!m3.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Qm,type:t,key:o,ref:a,props:s,_owner:oP.current}}function ZG(t,e){return{$$typeof:Qm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function aP(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qm}function JG(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var vN=/\/+/g;function bx(t,e){return typeof t=="object"&&t!==null&&t.key!=null?JG(""+t.key):e.toString(36)}function sy(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Qm:case BG:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+bx(a,0):r,gN(s)?(n="",t!=null&&(n=t.replace(vN,"$&/")+"/"),sy(s,e,n,"",function(u){return u})):s!=null&&(aP(s)&&(s=ZG(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(vN,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",gN(t))for(var l=0;l<t.length;l++){o=t[l];var c=r+bx(o,l);a+=sy(o,e,n,c,s)}else if(c=QG(t),typeof c=="function")for(t=c.call(t),l=0;!(o=t.next()).done;)o=o.value,c=r+bx(o,l++),a+=sy(o,e,n,c,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function av(t,e,n){if(t==null)return t;var r=[],s=0;return sy(t,r,"","",function(o){return e.call(n,o,s++)}),r}function eK(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Cr={current:null},oy={transition:null},tK={ReactCurrentDispatcher:Cr,ReactCurrentBatchConfig:oy,ReactCurrentOwner:oP};function v3(){throw Error("act(...) is not supported in production builds of React.")}Ze.Children={map:av,forEach:function(t,e,n){av(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return av(t,function(){e++}),e},toArray:function(t){return av(t,function(e){return e})||[]},only:function(t){if(!aP(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ze.Component=Xd;Ze.Fragment=UG;Ze.Profiler=WG;Ze.PureComponent=iP;Ze.StrictMode=zG;Ze.Suspense=KG;Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tK;Ze.act=v3;Ze.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=d3({},t.props),s=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=oP.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)p3.call(e,c)&&!m3.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Qm,type:t.type,key:s,ref:o,props:r,_owner:a}};Ze.createContext=function(t){return t={$$typeof:qG,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:HG,_context:t},t.Consumer=t};Ze.createElement=g3;Ze.createFactory=function(t){var e=g3.bind(null,t);return e.type=t,e};Ze.createRef=function(){return{current:null}};Ze.forwardRef=function(t){return{$$typeof:GG,render:t}};Ze.isValidElement=aP;Ze.lazy=function(t){return{$$typeof:XG,_payload:{_status:-1,_result:t},_init:eK}};Ze.memo=function(t,e){return{$$typeof:YG,type:t,compare:e===void 0?null:e}};Ze.startTransition=function(t){var e=oy.transition;oy.transition={};try{t()}finally{oy.transition=e}};Ze.unstable_act=v3;Ze.useCallback=function(t,e){return Cr.current.useCallback(t,e)};Ze.useContext=function(t){return Cr.current.useContext(t)};Ze.useDebugValue=function(){};Ze.useDeferredValue=function(t){return Cr.current.useDeferredValue(t)};Ze.useEffect=function(t,e){return Cr.current.useEffect(t,e)};Ze.useId=function(){return Cr.current.useId()};Ze.useImperativeHandle=function(t,e,n){return Cr.current.useImperativeHandle(t,e,n)};Ze.useInsertionEffect=function(t,e){return Cr.current.useInsertionEffect(t,e)};Ze.useLayoutEffect=function(t,e){return Cr.current.useLayoutEffect(t,e)};Ze.useMemo=function(t,e){return Cr.current.useMemo(t,e)};Ze.useReducer=function(t,e,n){return Cr.current.useReducer(t,e,n)};Ze.useRef=function(t){return Cr.current.useRef(t)};Ze.useState=function(t){return Cr.current.useState(t)};Ze.useSyncExternalStore=function(t,e,n){return Cr.current.useSyncExternalStore(t,e,n)};Ze.useTransition=function(){return Cr.current.useTransition()};Ze.version="18.3.1";c3.exports=Ze;var F=c3.exports;const L=Ke(F),nK=VG({__proto__:null,default:L},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rK=F,iK=Symbol.for("react.element"),sK=Symbol.for("react.fragment"),oK=Object.prototype.hasOwnProperty,aK=rK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lK={key:!0,ref:!0,__self:!0,__source:!0};function y3(t,e,n){var r,s={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)oK.call(e,r)&&!lK.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:iK,type:t,key:o,ref:a,props:s,_owner:aK.current}}Zb.Fragment=sK;Zb.jsx=y3;Zb.jsxs=y3;l3.exports=Zb;var w=l3.exports,mE={},b3={exports:{}},li={},w3={exports:{}},_3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,G){var J=Y.length;Y.push(G);e:for(;0<J;){var H=J-1>>>1,V=Y[H];if(0<s(V,G))Y[H]=G,Y[J]=V,J=H;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var G=Y[0],J=Y.pop();if(J!==G){Y[0]=J;e:for(var H=0,V=Y.length,ee=V>>>1;H<ee;){var se=2*(H+1)-1,oe=Y[se],xe=se+1,Se=Y[xe];if(0>s(oe,J))xe<V&&0>s(Se,oe)?(Y[H]=Se,Y[xe]=J,H=xe):(Y[H]=oe,Y[se]=J,H=se);else if(xe<V&&0>s(Se,J))Y[H]=Se,Y[xe]=J,H=xe;else break e}}return G}function s(Y,G){var J=Y.sortIndex-G.sortIndex;return J!==0?J:Y.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,v=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(Y){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=Y)r(u),G.sortIndex=G.expirationTime,e(c,G);else break;G=n(u)}}function T(Y){if(g=!1,E(Y),!v)if(n(c)!==null)v=!0,K(S);else{var G=n(u);G!==null&&q(T,G.startTime-Y)}}function S(Y,G){v=!1,g&&(g=!1,y(P),P=-1),p=!0;var J=h;try{for(E(G),f=n(c);f!==null&&(!(f.expirationTime>G)||Y&&!j());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var V=H(f.expirationTime<=G);G=t.unstable_now(),typeof V=="function"?f.callback=V:f===n(c)&&r(c),E(G)}else r(c);f=n(c)}if(f!==null)var ee=!0;else{var se=n(u);se!==null&&q(T,se.startTime-G),ee=!1}return ee}finally{f=null,h=J,p=!1}}var A=!1,C=null,P=-1,I=5,R=-1;function j(){return!(t.unstable_now()-R<I)}function O(){if(C!==null){var Y=t.unstable_now();R=Y;var G=!0;try{G=C(!0,Y)}finally{G?D():(A=!1,C=null)}}else A=!1}var D;if(typeof x=="function")D=function(){x(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,U=N.port2;N.port1.onmessage=O,D=function(){U.postMessage(null)}}else D=function(){b(O,0)};function K(Y){C=Y,A||(A=!0,D())}function q(Y,G){P=b(function(){Y(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,K(S))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(Y){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var J=h;h=G;try{return Y()}finally{h=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,G){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var J=h;h=Y;try{return G()}finally{h=J}},t.unstable_scheduleCallback=function(Y,G,J){var H=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?H+J:H):J=H,Y){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=J+V,Y={id:d++,callback:G,priorityLevel:Y,startTime:J,expirationTime:V,sortIndex:-1},J>H?(Y.sortIndex=J,e(u,Y),n(c)===null&&Y===n(u)&&(g?(y(P),P=-1):g=!0,q(T,J-H))):(Y.sortIndex=V,e(c,Y),v||p||(v=!0,K(S))),Y},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(Y){var G=h;return function(){var J=h;h=G;try{return Y.apply(this,arguments)}finally{h=J}}}})(_3);w3.exports=_3;var cK=w3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uK=F,si=cK;function be(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var x3=new Set,dp={};function kc(t,e){Ju(t,e),Ju(t+"Capture",e)}function Ju(t,e){for(dp[t]=e,t=0;t<e.length;t++)x3.add(e[t])}var To=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gE=Object.prototype.hasOwnProperty,dK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yN={},bN={};function fK(t){return gE.call(bN,t)?!0:gE.call(yN,t)?!1:dK.test(t)?bN[t]=!0:(yN[t]=!0,!1)}function hK(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pK(t,e,n,r){if(e===null||typeof e>"u"||hK(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pr(t,e,n,r,s,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Zn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Zn[t]=new Pr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Zn[e]=new Pr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Zn[t]=new Pr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Zn[t]=new Pr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Zn[t]=new Pr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Zn[t]=new Pr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Zn[t]=new Pr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Zn[t]=new Pr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Zn[t]=new Pr(t,5,!1,t.toLowerCase(),null,!1,!1)});var lP=/[\-:]([a-z])/g;function cP(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(lP,cP);Zn[e]=new Pr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(lP,cP);Zn[e]=new Pr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(lP,cP);Zn[e]=new Pr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Zn[t]=new Pr(t,1,!1,t.toLowerCase(),null,!1,!1)});Zn.xlinkHref=new Pr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Zn[t]=new Pr(t,1,!1,t.toLowerCase(),null,!0,!0)});function uP(t,e,n,r){var s=Zn.hasOwnProperty(e)?Zn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pK(e,n,s,r)&&(n=null),r||s===null?fK(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Bo=uK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lv=Symbol.for("react.element"),fu=Symbol.for("react.portal"),hu=Symbol.for("react.fragment"),dP=Symbol.for("react.strict_mode"),vE=Symbol.for("react.profiler"),E3=Symbol.for("react.provider"),T3=Symbol.for("react.context"),fP=Symbol.for("react.forward_ref"),yE=Symbol.for("react.suspense"),bE=Symbol.for("react.suspense_list"),hP=Symbol.for("react.memo"),ua=Symbol.for("react.lazy"),S3=Symbol.for("react.offscreen"),wN=Symbol.iterator;function Hf(t){return t===null||typeof t!="object"?null:(t=wN&&t[wN]||t["@@iterator"],typeof t=="function"?t:null)}var Kt=Object.assign,wx;function bh(t){if(wx===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);wx=e&&e[1]||""}return`
`+wx+t}var _x=!1;function xx(t,e){if(!t||_x)return"";_x=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==o[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{_x=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?bh(t):""}function mK(t){switch(t.tag){case 5:return bh(t.type);case 16:return bh("Lazy");case 13:return bh("Suspense");case 19:return bh("SuspenseList");case 0:case 2:case 15:return t=xx(t.type,!1),t;case 11:return t=xx(t.type.render,!1),t;case 1:return t=xx(t.type,!0),t;default:return""}}function wE(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case hu:return"Fragment";case fu:return"Portal";case vE:return"Profiler";case dP:return"StrictMode";case yE:return"Suspense";case bE:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case T3:return(t.displayName||"Context")+".Consumer";case E3:return(t._context.displayName||"Context")+".Provider";case fP:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hP:return e=t.displayName||null,e!==null?e:wE(t.type)||"Memo";case ua:e=t._payload,t=t._init;try{return wE(t(e))}catch{}}return null}function gK(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wE(e);case 8:return e===dP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ba(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function C3(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vK(t){var e=C3(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function cv(t){t._valueTracker||(t._valueTracker=vK(t))}function P3(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=C3(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ry(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _E(t,e){var n=e.checked;return Kt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function _N(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ba(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function A3(t,e){e=e.checked,e!=null&&uP(t,"checked",e,!1)}function xE(t,e){A3(t,e);var n=Ba(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?EE(t,e.type,n):e.hasOwnProperty("defaultValue")&&EE(t,e.type,Ba(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xN(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function EE(t,e,n){(e!=="number"||Ry(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var wh=Array.isArray;function Mu(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ba(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function TE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(be(91));return Kt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function EN(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(be(92));if(wh(n)){if(1<n.length)throw Error(be(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ba(n)}}function I3(t,e){var n=Ba(e.value),r=Ba(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function TN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function O3(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function SE(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?O3(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var uv,k3=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(uv=uv||document.createElement("div"),uv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=uv.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Dh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yK=["Webkit","ms","Moz","O"];Object.keys(Dh).forEach(function(t){yK.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Dh[e]=Dh[t]})});function N3(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Dh.hasOwnProperty(t)&&Dh[t]?(""+e).trim():e+"px"}function D3(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=N3(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var bK=Kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function CE(t,e){if(e){if(bK[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(be(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(be(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(be(61))}if(e.style!=null&&typeof e.style!="object")throw Error(be(62))}}function PE(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AE=null;function pP(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var IE=null,ju=null,Lu=null;function SN(t){if(t=eg(t)){if(typeof IE!="function")throw Error(be(280));var e=t.stateNode;e&&(e=rw(e),IE(t.stateNode,t.type,e))}}function R3(t){ju?Lu?Lu.push(t):Lu=[t]:ju=t}function M3(){if(ju){var t=ju,e=Lu;if(Lu=ju=null,SN(t),e)for(t=0;t<e.length;t++)SN(e[t])}}function j3(t,e){return t(e)}function L3(){}var Ex=!1;function $3(t,e,n){if(Ex)return t(e,n);Ex=!0;try{return j3(t,e,n)}finally{Ex=!1,(ju!==null||Lu!==null)&&(L3(),M3())}}function hp(t,e){var n=t.stateNode;if(n===null)return null;var r=rw(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(be(231,e,typeof n));return n}var OE=!1;if(To)try{var qf={};Object.defineProperty(qf,"passive",{get:function(){OE=!0}}),window.addEventListener("test",qf,qf),window.removeEventListener("test",qf,qf)}catch{OE=!1}function wK(t,e,n,r,s,o,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Rh=!1,My=null,jy=!1,kE=null,_K={onError:function(t){Rh=!0,My=t}};function xK(t,e,n,r,s,o,a,l,c){Rh=!1,My=null,wK.apply(_K,arguments)}function EK(t,e,n,r,s,o,a,l,c){if(xK.apply(this,arguments),Rh){if(Rh){var u=My;Rh=!1,My=null}else throw Error(be(198));jy||(jy=!0,kE=u)}}function Nc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function F3(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function CN(t){if(Nc(t)!==t)throw Error(be(188))}function TK(t){var e=t.alternate;if(!e){if(e=Nc(t),e===null)throw Error(be(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return CN(s),t;if(o===r)return CN(s),e;o=o.sibling}throw Error(be(188))}if(n.return!==r.return)n=s,r=o;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a)throw Error(be(189))}}if(n.alternate!==r)throw Error(be(190))}if(n.tag!==3)throw Error(be(188));return n.stateNode.current===n?t:e}function V3(t){return t=TK(t),t!==null?B3(t):null}function B3(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=B3(t);if(e!==null)return e;t=t.sibling}return null}var U3=si.unstable_scheduleCallback,PN=si.unstable_cancelCallback,SK=si.unstable_shouldYield,CK=si.unstable_requestPaint,ln=si.unstable_now,PK=si.unstable_getCurrentPriorityLevel,mP=si.unstable_ImmediatePriority,z3=si.unstable_UserBlockingPriority,Ly=si.unstable_NormalPriority,AK=si.unstable_LowPriority,W3=si.unstable_IdlePriority,Jb=null,Os=null;function IK(t){if(Os&&typeof Os.onCommitFiberRoot=="function")try{Os.onCommitFiberRoot(Jb,t,void 0,(t.current.flags&128)===128)}catch{}}var Ji=Math.clz32?Math.clz32:NK,OK=Math.log,kK=Math.LN2;function NK(t){return t>>>=0,t===0?32:31-(OK(t)/kK|0)|0}var dv=64,fv=4194304;function _h(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $y(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=_h(l):(o&=a,o!==0&&(r=_h(o)))}else a=n&~s,a!==0?r=_h(a):o!==0&&(r=_h(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ji(e),s=1<<n,r|=t[n],e&=~s;return r}function DK(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RK(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Ji(o),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=DK(l,e)):c<=e&&(t.expiredLanes|=l),o&=~l}}function NE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function H3(){var t=dv;return dv<<=1,!(dv&4194240)&&(dv=64),t}function Tx(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Zm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ji(e),t[e]=n}function MK(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ji(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function gP(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ji(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var mt=0;function q3(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var G3,vP,K3,Y3,X3,DE=!1,hv=[],Ta=null,Sa=null,Ca=null,pp=new Map,mp=new Map,pa=[],jK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function AN(t,e){switch(t){case"focusin":case"focusout":Ta=null;break;case"dragenter":case"dragleave":Sa=null;break;case"mouseover":case"mouseout":Ca=null;break;case"pointerover":case"pointerout":pp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":mp.delete(e.pointerId)}}function Gf(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=eg(e),e!==null&&vP(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function LK(t,e,n,r,s){switch(e){case"focusin":return Ta=Gf(Ta,t,e,n,r,s),!0;case"dragenter":return Sa=Gf(Sa,t,e,n,r,s),!0;case"mouseover":return Ca=Gf(Ca,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return pp.set(o,Gf(pp.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,mp.set(o,Gf(mp.get(o)||null,t,e,n,r,s)),!0}return!1}function Q3(t){var e=jl(t.target);if(e!==null){var n=Nc(e);if(n!==null){if(e=n.tag,e===13){if(e=F3(n),e!==null){t.blockedOn=e,X3(t.priority,function(){K3(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ay(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=RE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);AE=r,n.target.dispatchEvent(r),AE=null}else return e=eg(n),e!==null&&vP(e),t.blockedOn=n,!1;e.shift()}return!0}function IN(t,e,n){ay(t)&&n.delete(e)}function $K(){DE=!1,Ta!==null&&ay(Ta)&&(Ta=null),Sa!==null&&ay(Sa)&&(Sa=null),Ca!==null&&ay(Ca)&&(Ca=null),pp.forEach(IN),mp.forEach(IN)}function Kf(t,e){t.blockedOn===e&&(t.blockedOn=null,DE||(DE=!0,si.unstable_scheduleCallback(si.unstable_NormalPriority,$K)))}function gp(t){function e(s){return Kf(s,t)}if(0<hv.length){Kf(hv[0],t);for(var n=1;n<hv.length;n++){var r=hv[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ta!==null&&Kf(Ta,t),Sa!==null&&Kf(Sa,t),Ca!==null&&Kf(Ca,t),pp.forEach(e),mp.forEach(e),n=0;n<pa.length;n++)r=pa[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<pa.length&&(n=pa[0],n.blockedOn===null);)Q3(n),n.blockedOn===null&&pa.shift()}var $u=Bo.ReactCurrentBatchConfig,Fy=!0;function FK(t,e,n,r){var s=mt,o=$u.transition;$u.transition=null;try{mt=1,yP(t,e,n,r)}finally{mt=s,$u.transition=o}}function VK(t,e,n,r){var s=mt,o=$u.transition;$u.transition=null;try{mt=4,yP(t,e,n,r)}finally{mt=s,$u.transition=o}}function yP(t,e,n,r){if(Fy){var s=RE(t,e,n,r);if(s===null)Rx(t,e,r,Vy,n),AN(t,r);else if(LK(s,t,e,n,r))r.stopPropagation();else if(AN(t,r),e&4&&-1<jK.indexOf(t)){for(;s!==null;){var o=eg(s);if(o!==null&&G3(o),o=RE(t,e,n,r),o===null&&Rx(t,e,r,Vy,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Rx(t,e,r,null,n)}}var Vy=null;function RE(t,e,n,r){if(Vy=null,t=pP(r),t=jl(t),t!==null)if(e=Nc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=F3(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vy=t,null}function Z3(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PK()){case mP:return 1;case z3:return 4;case Ly:case AK:return 16;case W3:return 536870912;default:return 16}default:return 16}}var wa=null,bP=null,ly=null;function J3(){if(ly)return ly;var t,e=bP,n=e.length,r,s="value"in wa?wa.value:wa.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[o-r];r++);return ly=s.slice(t,1<r?1-r:void 0)}function cy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function pv(){return!0}function ON(){return!1}function ci(t){function e(n,r,s,o,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?pv:ON,this.isPropagationStopped=ON,this}return Kt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pv)},persist:function(){},isPersistent:pv}),e}var Qd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wP=ci(Qd),Jm=Kt({},Qd,{view:0,detail:0}),BK=ci(Jm),Sx,Cx,Yf,ew=Kt({},Jm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_P,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yf&&(Yf&&t.type==="mousemove"?(Sx=t.screenX-Yf.screenX,Cx=t.screenY-Yf.screenY):Cx=Sx=0,Yf=t),Sx)},movementY:function(t){return"movementY"in t?t.movementY:Cx}}),kN=ci(ew),UK=Kt({},ew,{dataTransfer:0}),zK=ci(UK),WK=Kt({},Jm,{relatedTarget:0}),Px=ci(WK),HK=Kt({},Qd,{animationName:0,elapsedTime:0,pseudoElement:0}),qK=ci(HK),GK=Kt({},Qd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KK=ci(GK),YK=Kt({},Qd,{data:0}),NN=ci(YK),XK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JK(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ZK[t])?!!e[t]:!1}function _P(){return JK}var eY=Kt({},Jm,{key:function(t){if(t.key){var e=XK[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?QK[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_P,charCode:function(t){return t.type==="keypress"?cy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tY=ci(eY),nY=Kt({},ew,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),DN=ci(nY),rY=Kt({},Jm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_P}),iY=ci(rY),sY=Kt({},Qd,{propertyName:0,elapsedTime:0,pseudoElement:0}),oY=ci(sY),aY=Kt({},ew,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lY=ci(aY),cY=[9,13,27,32],xP=To&&"CompositionEvent"in window,Mh=null;To&&"documentMode"in document&&(Mh=document.documentMode);var uY=To&&"TextEvent"in window&&!Mh,eV=To&&(!xP||Mh&&8<Mh&&11>=Mh),RN=String.fromCharCode(32),MN=!1;function tV(t,e){switch(t){case"keyup":return cY.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nV(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pu=!1;function dY(t,e){switch(t){case"compositionend":return nV(e);case"keypress":return e.which!==32?null:(MN=!0,RN);case"textInput":return t=e.data,t===RN&&MN?null:t;default:return null}}function fY(t,e){if(pu)return t==="compositionend"||!xP&&tV(t,e)?(t=J3(),ly=bP=wa=null,pu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return eV&&e.locale!=="ko"?null:e.data;default:return null}}var hY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hY[t.type]:e==="textarea"}function rV(t,e,n,r){R3(r),e=By(e,"onChange"),0<e.length&&(n=new wP("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var jh=null,vp=null;function pY(t){pV(t,0)}function tw(t){var e=vu(t);if(P3(e))return t}function mY(t,e){if(t==="change")return e}var iV=!1;if(To){var Ax;if(To){var Ix="oninput"in document;if(!Ix){var LN=document.createElement("div");LN.setAttribute("oninput","return;"),Ix=typeof LN.oninput=="function"}Ax=Ix}else Ax=!1;iV=Ax&&(!document.documentMode||9<document.documentMode)}function $N(){jh&&(jh.detachEvent("onpropertychange",sV),vp=jh=null)}function sV(t){if(t.propertyName==="value"&&tw(vp)){var e=[];rV(e,vp,t,pP(t)),$3(pY,e)}}function gY(t,e,n){t==="focusin"?($N(),jh=e,vp=n,jh.attachEvent("onpropertychange",sV)):t==="focusout"&&$N()}function vY(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tw(vp)}function yY(t,e){if(t==="click")return tw(e)}function bY(t,e){if(t==="input"||t==="change")return tw(e)}function wY(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rs=typeof Object.is=="function"?Object.is:wY;function yp(t,e){if(rs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!gE.call(e,s)||!rs(t[s],e[s]))return!1}return!0}function FN(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function VN(t,e){var n=FN(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=FN(n)}}function oV(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?oV(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function aV(){for(var t=window,e=Ry();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ry(t.document)}return e}function EP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _Y(t){var e=aV(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&oV(n.ownerDocument.documentElement,n)){if(r!==null&&EP(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=VN(n,o);var a=VN(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xY=To&&"documentMode"in document&&11>=document.documentMode,mu=null,ME=null,Lh=null,jE=!1;function BN(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jE||mu==null||mu!==Ry(r)||(r=mu,"selectionStart"in r&&EP(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Lh&&yp(Lh,r)||(Lh=r,r=By(ME,"onSelect"),0<r.length&&(e=new wP("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mu)))}function mv(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gu={animationend:mv("Animation","AnimationEnd"),animationiteration:mv("Animation","AnimationIteration"),animationstart:mv("Animation","AnimationStart"),transitionend:mv("Transition","TransitionEnd")},Ox={},lV={};To&&(lV=document.createElement("div").style,"AnimationEvent"in window||(delete gu.animationend.animation,delete gu.animationiteration.animation,delete gu.animationstart.animation),"TransitionEvent"in window||delete gu.transitionend.transition);function nw(t){if(Ox[t])return Ox[t];if(!gu[t])return t;var e=gu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in lV)return Ox[t]=e[n];return t}var cV=nw("animationend"),uV=nw("animationiteration"),dV=nw("animationstart"),fV=nw("transitionend"),hV=new Map,UN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Za(t,e){hV.set(t,e),kc(e,[t])}for(var kx=0;kx<UN.length;kx++){var Nx=UN[kx],EY=Nx.toLowerCase(),TY=Nx[0].toUpperCase()+Nx.slice(1);Za(EY,"on"+TY)}Za(cV,"onAnimationEnd");Za(uV,"onAnimationIteration");Za(dV,"onAnimationStart");Za("dblclick","onDoubleClick");Za("focusin","onFocus");Za("focusout","onBlur");Za(fV,"onTransitionEnd");Ju("onMouseEnter",["mouseout","mouseover"]);Ju("onMouseLeave",["mouseout","mouseover"]);Ju("onPointerEnter",["pointerout","pointerover"]);Ju("onPointerLeave",["pointerout","pointerover"]);kc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kc("onBeforeInput",["compositionend","keypress","textInput","paste"]);kc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SY=new Set("cancel close invalid load scroll toggle".split(" ").concat(xh));function zN(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,EK(r,e,void 0,t),t.currentTarget=null}function pV(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;zN(s,l,u),o=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;zN(s,l,u),o=c}}}if(jy)throw t=kE,jy=!1,kE=null,t}function Mt(t,e){var n=e[BE];n===void 0&&(n=e[BE]=new Set);var r=t+"__bubble";n.has(r)||(mV(e,t,2,!1),n.add(r))}function Dx(t,e,n){var r=0;e&&(r|=4),mV(n,t,r,e)}var gv="_reactListening"+Math.random().toString(36).slice(2);function bp(t){if(!t[gv]){t[gv]=!0,x3.forEach(function(n){n!=="selectionchange"&&(SY.has(n)||Dx(n,!1,t),Dx(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gv]||(e[gv]=!0,Dx("selectionchange",!1,e))}}function mV(t,e,n,r){switch(Z3(e)){case 1:var s=FK;break;case 4:s=VK;break;default:s=yP}n=s.bind(null,e,n,t),s=void 0,!OE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Rx(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=jl(l),a===null)return;if(c=a.tag,c===5||c===6){r=o=a;continue e}l=l.parentNode}}r=r.return}$3(function(){var u=o,d=pP(n),f=[];e:{var h=hV.get(t);if(h!==void 0){var p=wP,v=t;switch(t){case"keypress":if(cy(n)===0)break e;case"keydown":case"keyup":p=tY;break;case"focusin":v="focus",p=Px;break;case"focusout":v="blur",p=Px;break;case"beforeblur":case"afterblur":p=Px;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=kN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=zK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=iY;break;case cV:case uV:case dV:p=qK;break;case fV:p=oY;break;case"scroll":p=BK;break;case"wheel":p=lY;break;case"copy":case"cut":case"paste":p=KK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=DN}var g=(e&4)!==0,b=!g&&t==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var x=u,E;x!==null;){E=x;var T=E.stateNode;if(E.tag===5&&T!==null&&(E=T,y!==null&&(T=hp(x,y),T!=null&&g.push(wp(x,T,E)))),b)break;x=x.return}0<g.length&&(h=new p(h,v,null,n,d),f.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==AE&&(v=n.relatedTarget||n.fromElement)&&(jl(v)||v[So]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?jl(v):null,v!==null&&(b=Nc(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(g=kN,T="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(g=DN,T="onPointerLeave",y="onPointerEnter",x="pointer"),b=p==null?h:vu(p),E=v==null?h:vu(v),h=new g(T,x+"leave",p,n,d),h.target=b,h.relatedTarget=E,T=null,jl(d)===u&&(g=new g(y,x+"enter",v,n,d),g.target=E,g.relatedTarget=b,T=g),b=T,p&&v)t:{for(g=p,y=v,x=0,E=g;E;E=eu(E))x++;for(E=0,T=y;T;T=eu(T))E++;for(;0<x-E;)g=eu(g),x--;for(;0<E-x;)y=eu(y),E--;for(;x--;){if(g===y||y!==null&&g===y.alternate)break t;g=eu(g),y=eu(y)}g=null}else g=null;p!==null&&WN(f,h,p,g,!1),v!==null&&b!==null&&WN(f,b,v,g,!0)}}e:{if(h=u?vu(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=mY;else if(jN(h))if(iV)S=bY;else{S=vY;var A=gY}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=yY);if(S&&(S=S(t,u))){rV(f,S,n,d);break e}A&&A(t,h,u),t==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&EE(h,"number",h.value)}switch(A=u?vu(u):window,t){case"focusin":(jN(A)||A.contentEditable==="true")&&(mu=A,ME=u,Lh=null);break;case"focusout":Lh=ME=mu=null;break;case"mousedown":jE=!0;break;case"contextmenu":case"mouseup":case"dragend":jE=!1,BN(f,n,d);break;case"selectionchange":if(xY)break;case"keydown":case"keyup":BN(f,n,d)}var C;if(xP)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else pu?tV(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(eV&&n.locale!=="ko"&&(pu||P!=="onCompositionStart"?P==="onCompositionEnd"&&pu&&(C=J3()):(wa=d,bP="value"in wa?wa.value:wa.textContent,pu=!0)),A=By(u,P),0<A.length&&(P=new NN(P,t,null,n,d),f.push({event:P,listeners:A}),C?P.data=C:(C=nV(n),C!==null&&(P.data=C)))),(C=uY?dY(t,n):fY(t,n))&&(u=By(u,"onBeforeInput"),0<u.length&&(d=new NN("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=C))}pV(f,e)})}function wp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function By(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=hp(t,n),o!=null&&r.unshift(wp(t,o,s)),o=hp(t,e),o!=null&&r.push(wp(t,o,s))),t=t.return}return r}function eu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function WN(t,e,n,r,s){for(var o=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=hp(n,o),c!=null&&a.unshift(wp(n,c,l))):s||(c=hp(n,o),c!=null&&a.push(wp(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var CY=/\r\n?/g,PY=/\u0000|\uFFFD/g;function HN(t){return(typeof t=="string"?t:""+t).replace(CY,`
`).replace(PY,"")}function vv(t,e,n){if(e=HN(e),HN(t)!==e&&n)throw Error(be(425))}function Uy(){}var LE=null,$E=null;function FE(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var VE=typeof setTimeout=="function"?setTimeout:void 0,AY=typeof clearTimeout=="function"?clearTimeout:void 0,qN=typeof Promise=="function"?Promise:void 0,IY=typeof queueMicrotask=="function"?queueMicrotask:typeof qN<"u"?function(t){return qN.resolve(null).then(t).catch(OY)}:VE;function OY(t){setTimeout(function(){throw t})}function Mx(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),gp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);gp(e)}function Pa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function GN(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Zd=Math.random().toString(36).slice(2),Es="__reactFiber$"+Zd,_p="__reactProps$"+Zd,So="__reactContainer$"+Zd,BE="__reactEvents$"+Zd,kY="__reactListeners$"+Zd,NY="__reactHandles$"+Zd;function jl(t){var e=t[Es];if(e)return e;for(var n=t.parentNode;n;){if(e=n[So]||n[Es]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=GN(t);t!==null;){if(n=t[Es])return n;t=GN(t)}return e}t=n,n=t.parentNode}return null}function eg(t){return t=t[Es]||t[So],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(be(33))}function rw(t){return t[_p]||null}var UE=[],yu=-1;function Ja(t){return{current:t}}function Vt(t){0>yu||(t.current=UE[yu],UE[yu]=null,yu--)}function Nt(t,e){yu++,UE[yu]=t.current,t.current=e}var Ua={},hr=Ja(Ua),Lr=Ja(!1),ic=Ua;function ed(t,e){var n=t.type.contextTypes;if(!n)return Ua;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function $r(t){return t=t.childContextTypes,t!=null}function zy(){Vt(Lr),Vt(hr)}function KN(t,e,n){if(hr.current!==Ua)throw Error(be(168));Nt(hr,e),Nt(Lr,n)}function gV(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(be(108,gK(t)||"Unknown",s));return Kt({},n,r)}function Wy(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ua,ic=hr.current,Nt(hr,t),Nt(Lr,Lr.current),!0}function YN(t,e,n){var r=t.stateNode;if(!r)throw Error(be(169));n?(t=gV(t,e,ic),r.__reactInternalMemoizedMergedChildContext=t,Vt(Lr),Vt(hr),Nt(hr,t)):Vt(Lr),Nt(Lr,n)}var io=null,iw=!1,jx=!1;function vV(t){io===null?io=[t]:io.push(t)}function DY(t){iw=!0,vV(t)}function el(){if(!jx&&io!==null){jx=!0;var t=0,e=mt;try{var n=io;for(mt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}io=null,iw=!1}catch(s){throw io!==null&&(io=io.slice(t+1)),U3(mP,el),s}finally{mt=e,jx=!1}}return null}var bu=[],wu=0,Hy=null,qy=0,_i=[],xi=0,sc=null,so=1,oo="";function El(t,e){bu[wu++]=qy,bu[wu++]=Hy,Hy=t,qy=e}function yV(t,e,n){_i[xi++]=so,_i[xi++]=oo,_i[xi++]=sc,sc=t;var r=so;t=oo;var s=32-Ji(r)-1;r&=~(1<<s),n+=1;var o=32-Ji(e)+s;if(30<o){var a=s-s%5;o=(r&(1<<a)-1).toString(32),r>>=a,s-=a,so=1<<32-Ji(e)+s|n<<s|r,oo=o+t}else so=1<<o|n<<s|r,oo=t}function TP(t){t.return!==null&&(El(t,1),yV(t,1,0))}function SP(t){for(;t===Hy;)Hy=bu[--wu],bu[wu]=null,qy=bu[--wu],bu[wu]=null;for(;t===sc;)sc=_i[--xi],_i[xi]=null,oo=_i[--xi],_i[xi]=null,so=_i[--xi],_i[xi]=null}var ni=null,ti=null,Ut=!1,Gi=null;function bV(t,e){var n=Ci(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function XN(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ni=t,ti=Pa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ni=t,ti=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=sc!==null?{id:so,overflow:oo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ci(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ni=t,ti=null,!0):!1;default:return!1}}function zE(t){return(t.mode&1)!==0&&(t.flags&128)===0}function WE(t){if(Ut){var e=ti;if(e){var n=e;if(!XN(t,e)){if(zE(t))throw Error(be(418));e=Pa(n.nextSibling);var r=ni;e&&XN(t,e)?bV(r,n):(t.flags=t.flags&-4097|2,Ut=!1,ni=t)}}else{if(zE(t))throw Error(be(418));t.flags=t.flags&-4097|2,Ut=!1,ni=t}}}function QN(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ni=t}function yv(t){if(t!==ni)return!1;if(!Ut)return QN(t),Ut=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!FE(t.type,t.memoizedProps)),e&&(e=ti)){if(zE(t))throw wV(),Error(be(418));for(;e;)bV(t,e),e=Pa(e.nextSibling)}if(QN(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(be(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ti=Pa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ti=null}}else ti=ni?Pa(t.stateNode.nextSibling):null;return!0}function wV(){for(var t=ti;t;)t=Pa(t.nextSibling)}function td(){ti=ni=null,Ut=!1}function CP(t){Gi===null?Gi=[t]:Gi.push(t)}var RY=Bo.ReactCurrentBatchConfig;function Xf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(be(309));var r=n.stateNode}if(!r)throw Error(be(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var l=s.refs;a===null?delete l[o]:l[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(be(284));if(!n._owner)throw Error(be(290,t))}return t}function bv(t,e){throw t=Object.prototype.toString.call(e),Error(be(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ZN(t){var e=t._init;return e(t._payload)}function _V(t){function e(y,x){if(t){var E=y.deletions;E===null?(y.deletions=[x],y.flags|=16):E.push(x)}}function n(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function s(y,x){return y=ka(y,x),y.index=0,y.sibling=null,y}function o(y,x,E){return y.index=E,t?(E=y.alternate,E!==null?(E=E.index,E<x?(y.flags|=2,x):E):(y.flags|=2,x)):(y.flags|=1048576,x)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,x,E,T){return x===null||x.tag!==6?(x=zx(E,y.mode,T),x.return=y,x):(x=s(x,E),x.return=y,x)}function c(y,x,E,T){var S=E.type;return S===hu?d(y,x,E.props.children,T,E.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ua&&ZN(S)===x.type)?(T=s(x,E.props),T.ref=Xf(y,x,E),T.return=y,T):(T=gy(E.type,E.key,E.props,null,y.mode,T),T.ref=Xf(y,x,E),T.return=y,T)}function u(y,x,E,T){return x===null||x.tag!==4||x.stateNode.containerInfo!==E.containerInfo||x.stateNode.implementation!==E.implementation?(x=Wx(E,y.mode,T),x.return=y,x):(x=s(x,E.children||[]),x.return=y,x)}function d(y,x,E,T,S){return x===null||x.tag!==7?(x=Gl(E,y.mode,T,S),x.return=y,x):(x=s(x,E),x.return=y,x)}function f(y,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return x=zx(""+x,y.mode,E),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case lv:return E=gy(x.type,x.key,x.props,null,y.mode,E),E.ref=Xf(y,null,x),E.return=y,E;case fu:return x=Wx(x,y.mode,E),x.return=y,x;case ua:var T=x._init;return f(y,T(x._payload),E)}if(wh(x)||Hf(x))return x=Gl(x,y.mode,E,null),x.return=y,x;bv(y,x)}return null}function h(y,x,E,T){var S=x!==null?x.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return S!==null?null:l(y,x,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case lv:return E.key===S?c(y,x,E,T):null;case fu:return E.key===S?u(y,x,E,T):null;case ua:return S=E._init,h(y,x,S(E._payload),T)}if(wh(E)||Hf(E))return S!==null?null:d(y,x,E,T,null);bv(y,E)}return null}function p(y,x,E,T,S){if(typeof T=="string"&&T!==""||typeof T=="number")return y=y.get(E)||null,l(x,y,""+T,S);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case lv:return y=y.get(T.key===null?E:T.key)||null,c(x,y,T,S);case fu:return y=y.get(T.key===null?E:T.key)||null,u(x,y,T,S);case ua:var A=T._init;return p(y,x,E,A(T._payload),S)}if(wh(T)||Hf(T))return y=y.get(E)||null,d(x,y,T,S,null);bv(x,T)}return null}function v(y,x,E,T){for(var S=null,A=null,C=x,P=x=0,I=null;C!==null&&P<E.length;P++){C.index>P?(I=C,C=null):I=C.sibling;var R=h(y,C,E[P],T);if(R===null){C===null&&(C=I);break}t&&C&&R.alternate===null&&e(y,C),x=o(R,x,P),A===null?S=R:A.sibling=R,A=R,C=I}if(P===E.length)return n(y,C),Ut&&El(y,P),S;if(C===null){for(;P<E.length;P++)C=f(y,E[P],T),C!==null&&(x=o(C,x,P),A===null?S=C:A.sibling=C,A=C);return Ut&&El(y,P),S}for(C=r(y,C);P<E.length;P++)I=p(C,y,P,E[P],T),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?P:I.key),x=o(I,x,P),A===null?S=I:A.sibling=I,A=I);return t&&C.forEach(function(j){return e(y,j)}),Ut&&El(y,P),S}function g(y,x,E,T){var S=Hf(E);if(typeof S!="function")throw Error(be(150));if(E=S.call(E),E==null)throw Error(be(151));for(var A=S=null,C=x,P=x=0,I=null,R=E.next();C!==null&&!R.done;P++,R=E.next()){C.index>P?(I=C,C=null):I=C.sibling;var j=h(y,C,R.value,T);if(j===null){C===null&&(C=I);break}t&&C&&j.alternate===null&&e(y,C),x=o(j,x,P),A===null?S=j:A.sibling=j,A=j,C=I}if(R.done)return n(y,C),Ut&&El(y,P),S;if(C===null){for(;!R.done;P++,R=E.next())R=f(y,R.value,T),R!==null&&(x=o(R,x,P),A===null?S=R:A.sibling=R,A=R);return Ut&&El(y,P),S}for(C=r(y,C);!R.done;P++,R=E.next())R=p(C,y,P,R.value,T),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?P:R.key),x=o(R,x,P),A===null?S=R:A.sibling=R,A=R);return t&&C.forEach(function(O){return e(y,O)}),Ut&&El(y,P),S}function b(y,x,E,T){if(typeof E=="object"&&E!==null&&E.type===hu&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case lv:e:{for(var S=E.key,A=x;A!==null;){if(A.key===S){if(S=E.type,S===hu){if(A.tag===7){n(y,A.sibling),x=s(A,E.props.children),x.return=y,y=x;break e}}else if(A.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ua&&ZN(S)===A.type){n(y,A.sibling),x=s(A,E.props),x.ref=Xf(y,A,E),x.return=y,y=x;break e}n(y,A);break}else e(y,A);A=A.sibling}E.type===hu?(x=Gl(E.props.children,y.mode,T,E.key),x.return=y,y=x):(T=gy(E.type,E.key,E.props,null,y.mode,T),T.ref=Xf(y,x,E),T.return=y,y=T)}return a(y);case fu:e:{for(A=E.key;x!==null;){if(x.key===A)if(x.tag===4&&x.stateNode.containerInfo===E.containerInfo&&x.stateNode.implementation===E.implementation){n(y,x.sibling),x=s(x,E.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else e(y,x);x=x.sibling}x=Wx(E,y.mode,T),x.return=y,y=x}return a(y);case ua:return A=E._init,b(y,x,A(E._payload),T)}if(wh(E))return v(y,x,E,T);if(Hf(E))return g(y,x,E,T);bv(y,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,x!==null&&x.tag===6?(n(y,x.sibling),x=s(x,E),x.return=y,y=x):(n(y,x),x=zx(E,y.mode,T),x.return=y,y=x),a(y)):n(y,x)}return b}var nd=_V(!0),xV=_V(!1),Gy=Ja(null),Ky=null,_u=null,PP=null;function AP(){PP=_u=Ky=null}function IP(t){var e=Gy.current;Vt(Gy),t._currentValue=e}function HE(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Fu(t,e){Ky=t,PP=_u=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Nr=!0),t.firstContext=null)}function ki(t){var e=t._currentValue;if(PP!==t)if(t={context:t,memoizedValue:e,next:null},_u===null){if(Ky===null)throw Error(be(308));_u=t,Ky.dependencies={lanes:0,firstContext:t}}else _u=_u.next=t;return e}var Ll=null;function OP(t){Ll===null?Ll=[t]:Ll.push(t)}function EV(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,OP(e)):(n.next=s.next,s.next=n),e.interleaved=n,Co(t,r)}function Co(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var da=!1;function kP(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TV(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Aa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,st&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Co(t,n)}return s=r.interleaved,s===null?(e.next=e,OP(r)):(e.next=s.next,s.next=e),r.interleaved=e,Co(t,n)}function uy(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gP(t,n)}}function JN(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Yy(t,e,n,r){var s=t.updateQueue;da=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;a=0,d=u=c=null,l=o;do{var h=l.lane,p=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,g=l;switch(h=e,p=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(p,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,h=typeof v=="function"?v.call(p,f,h):v,h==null)break e;f=Kt({},f,h);break e;case 2:da=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,a|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(1);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);ac|=a,t.lanes=a,t.memoizedState=f}}function e2(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(be(191,s));s.call(r)}}}var tg={},ks=Ja(tg),xp=Ja(tg),Ep=Ja(tg);function $l(t){if(t===tg)throw Error(be(174));return t}function NP(t,e){switch(Nt(Ep,e),Nt(xp,t),Nt(ks,tg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:SE(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=SE(e,t)}Vt(ks),Nt(ks,e)}function rd(){Vt(ks),Vt(xp),Vt(Ep)}function SV(t){$l(Ep.current);var e=$l(ks.current),n=SE(e,t.type);e!==n&&(Nt(xp,t),Nt(ks,n))}function DP(t){xp.current===t&&(Vt(ks),Vt(xp))}var Wt=Ja(0);function Xy(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Lx=[];function RP(){for(var t=0;t<Lx.length;t++)Lx[t]._workInProgressVersionPrimary=null;Lx.length=0}var dy=Bo.ReactCurrentDispatcher,$x=Bo.ReactCurrentBatchConfig,oc=0,Gt=null,En=null,$n=null,Qy=!1,$h=!1,Tp=0,MY=0;function rr(){throw Error(be(321))}function MP(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!rs(t[n],e[n]))return!1;return!0}function jP(t,e,n,r,s,o){if(oc=o,Gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dy.current=t===null||t.memoizedState===null?FY:VY,t=n(r,s),$h){o=0;do{if($h=!1,Tp=0,25<=o)throw Error(be(301));o+=1,$n=En=null,e.updateQueue=null,dy.current=BY,t=n(r,s)}while($h)}if(dy.current=Zy,e=En!==null&&En.next!==null,oc=0,$n=En=Gt=null,Qy=!1,e)throw Error(be(300));return t}function LP(){var t=Tp!==0;return Tp=0,t}function ws(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?Gt.memoizedState=$n=t:$n=$n.next=t,$n}function Ni(){if(En===null){var t=Gt.alternate;t=t!==null?t.memoizedState:null}else t=En.next;var e=$n===null?Gt.memoizedState:$n.next;if(e!==null)$n=e,En=t;else{if(t===null)throw Error(be(310));En=t,t={memoizedState:En.memoizedState,baseState:En.baseState,baseQueue:En.baseQueue,queue:En.queue,next:null},$n===null?Gt.memoizedState=$n=t:$n=$n.next=t}return $n}function Sp(t,e){return typeof e=="function"?e(t):e}function Fx(t){var e=Ni(),n=e.queue;if(n===null)throw Error(be(311));n.lastRenderedReducer=t;var r=En,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((oc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,Gt.lanes|=d,ac|=d}u=u.next}while(u!==null&&u!==o);c===null?a=r:c.next=l,rs(r,e.memoizedState)||(Nr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,Gt.lanes|=o,ac|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vx(t){var e=Ni(),n=e.queue;if(n===null)throw Error(be(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do o=t(o,a.action),a=a.next;while(a!==s);rs(o,e.memoizedState)||(Nr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function CV(){}function PV(t,e){var n=Gt,r=Ni(),s=e(),o=!rs(r.memoizedState,s);if(o&&(r.memoizedState=s,Nr=!0),r=r.queue,$P(OV.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||$n!==null&&$n.memoizedState.tag&1){if(n.flags|=2048,Cp(9,IV.bind(null,n,r,s,e),void 0,null),Bn===null)throw Error(be(349));oc&30||AV(n,e,s)}return s}function AV(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Gt.updateQueue,e===null?(e={lastEffect:null,stores:null},Gt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function IV(t,e,n,r){e.value=n,e.getSnapshot=r,kV(e)&&NV(t)}function OV(t,e,n){return n(function(){kV(e)&&NV(t)})}function kV(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!rs(t,n)}catch{return!0}}function NV(t){var e=Co(t,1);e!==null&&es(e,t,1,-1)}function t2(t){var e=ws();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sp,lastRenderedState:t},e.queue=t,t=t.dispatch=$Y.bind(null,Gt,t),[e.memoizedState,t]}function Cp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Gt.updateQueue,e===null?(e={lastEffect:null,stores:null},Gt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function DV(){return Ni().memoizedState}function fy(t,e,n,r){var s=ws();Gt.flags|=t,s.memoizedState=Cp(1|e,n,void 0,r===void 0?null:r)}function sw(t,e,n,r){var s=Ni();r=r===void 0?null:r;var o=void 0;if(En!==null){var a=En.memoizedState;if(o=a.destroy,r!==null&&MP(r,a.deps)){s.memoizedState=Cp(e,n,o,r);return}}Gt.flags|=t,s.memoizedState=Cp(1|e,n,o,r)}function n2(t,e){return fy(8390656,8,t,e)}function $P(t,e){return sw(2048,8,t,e)}function RV(t,e){return sw(4,2,t,e)}function MV(t,e){return sw(4,4,t,e)}function jV(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function LV(t,e,n){return n=n!=null?n.concat([t]):null,sw(4,4,jV.bind(null,e,t),n)}function FP(){}function $V(t,e){var n=Ni();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&MP(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function FV(t,e){var n=Ni();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&MP(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function VV(t,e,n){return oc&21?(rs(n,e)||(n=H3(),Gt.lanes|=n,ac|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Nr=!0),t.memoizedState=n)}function jY(t,e){var n=mt;mt=n!==0&&4>n?n:4,t(!0);var r=$x.transition;$x.transition={};try{t(!1),e()}finally{mt=n,$x.transition=r}}function BV(){return Ni().memoizedState}function LY(t,e,n){var r=Oa(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},UV(t))zV(e,n);else if(n=EV(t,e,n,r),n!==null){var s=Sr();es(n,t,r,s),WV(n,e,r)}}function $Y(t,e,n){var r=Oa(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(UV(t))zV(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,l=o(a,n);if(s.hasEagerState=!0,s.eagerState=l,rs(l,a)){var c=e.interleaved;c===null?(s.next=s,OP(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=EV(t,e,s,r),n!==null&&(s=Sr(),es(n,t,r,s),WV(n,e,r))}}function UV(t){var e=t.alternate;return t===Gt||e!==null&&e===Gt}function zV(t,e){$h=Qy=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function WV(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gP(t,n)}}var Zy={readContext:ki,useCallback:rr,useContext:rr,useEffect:rr,useImperativeHandle:rr,useInsertionEffect:rr,useLayoutEffect:rr,useMemo:rr,useReducer:rr,useRef:rr,useState:rr,useDebugValue:rr,useDeferredValue:rr,useTransition:rr,useMutableSource:rr,useSyncExternalStore:rr,useId:rr,unstable_isNewReconciler:!1},FY={readContext:ki,useCallback:function(t,e){return ws().memoizedState=[t,e===void 0?null:e],t},useContext:ki,useEffect:n2,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fy(4194308,4,jV.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fy(4194308,4,t,e)},useInsertionEffect:function(t,e){return fy(4,2,t,e)},useMemo:function(t,e){var n=ws();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ws();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=LY.bind(null,Gt,t),[r.memoizedState,t]},useRef:function(t){var e=ws();return t={current:t},e.memoizedState=t},useState:t2,useDebugValue:FP,useDeferredValue:function(t){return ws().memoizedState=t},useTransition:function(){var t=t2(!1),e=t[0];return t=jY.bind(null,t[1]),ws().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Gt,s=ws();if(Ut){if(n===void 0)throw Error(be(407));n=n()}else{if(n=e(),Bn===null)throw Error(be(349));oc&30||AV(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,n2(OV.bind(null,r,o,t),[t]),r.flags|=2048,Cp(9,IV.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ws(),e=Bn.identifierPrefix;if(Ut){var n=oo,r=so;n=(r&~(1<<32-Ji(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Tp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=MY++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},VY={readContext:ki,useCallback:$V,useContext:ki,useEffect:$P,useImperativeHandle:LV,useInsertionEffect:RV,useLayoutEffect:MV,useMemo:FV,useReducer:Fx,useRef:DV,useState:function(){return Fx(Sp)},useDebugValue:FP,useDeferredValue:function(t){var e=Ni();return VV(e,En.memoizedState,t)},useTransition:function(){var t=Fx(Sp)[0],e=Ni().memoizedState;return[t,e]},useMutableSource:CV,useSyncExternalStore:PV,useId:BV,unstable_isNewReconciler:!1},BY={readContext:ki,useCallback:$V,useContext:ki,useEffect:$P,useImperativeHandle:LV,useInsertionEffect:RV,useLayoutEffect:MV,useMemo:FV,useReducer:Vx,useRef:DV,useState:function(){return Vx(Sp)},useDebugValue:FP,useDeferredValue:function(t){var e=Ni();return En===null?e.memoizedState=t:VV(e,En.memoizedState,t)},useTransition:function(){var t=Vx(Sp)[0],e=Ni().memoizedState;return[t,e]},useMutableSource:CV,useSyncExternalStore:PV,useId:BV,unstable_isNewReconciler:!1};function Hi(t,e){if(t&&t.defaultProps){e=Kt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function qE(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Kt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ow={isMounted:function(t){return(t=t._reactInternals)?Nc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Sr(),s=Oa(t),o=mo(r,s);o.payload=e,n!=null&&(o.callback=n),e=Aa(t,o,s),e!==null&&(es(e,t,s,r),uy(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Sr(),s=Oa(t),o=mo(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Aa(t,o,s),e!==null&&(es(e,t,s,r),uy(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Sr(),r=Oa(t),s=mo(n,r);s.tag=2,e!=null&&(s.callback=e),e=Aa(t,s,r),e!==null&&(es(e,t,r,n),uy(e,t,r))}};function r2(t,e,n,r,s,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!yp(n,r)||!yp(s,o):!0}function HV(t,e,n){var r=!1,s=Ua,o=e.contextType;return typeof o=="object"&&o!==null?o=ki(o):(s=$r(e)?ic:hr.current,r=e.contextTypes,o=(r=r!=null)?ed(t,s):Ua),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ow,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function i2(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ow.enqueueReplaceState(e,e.state,null)}function GE(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},kP(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=ki(o):(o=$r(e)?ic:hr.current,s.context=ed(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(qE(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ow.enqueueReplaceState(s,s.state,null),Yy(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function id(t,e){try{var n="",r=e;do n+=mK(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function Bx(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function KE(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var UY=typeof WeakMap=="function"?WeakMap:Map;function qV(t,e,n){n=mo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){e0||(e0=!0,iT=r),KE(t,e)},n}function GV(t,e,n){n=mo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){KE(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){KE(t,e),typeof r!="function"&&(Ia===null?Ia=new Set([this]):Ia.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function s2(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new UY;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=nX.bind(null,t,e,n),e.then(t,t))}function o2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function a2(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=mo(-1,1),e.tag=2,Aa(n,e,1))),n.lanes|=1),t)}var zY=Bo.ReactCurrentOwner,Nr=!1;function _r(t,e,n,r){e.child=t===null?xV(e,null,n,r):nd(e,t.child,n,r)}function l2(t,e,n,r,s){n=n.render;var o=e.ref;return Fu(e,s),r=jP(t,e,n,r,o,s),n=LP(),t!==null&&!Nr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Po(t,e,s)):(Ut&&n&&TP(e),e.flags|=1,_r(t,e,r,s),e.child)}function c2(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!GP(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,KV(t,e,o,r,s)):(t=gy(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:yp,n(a,r)&&t.ref===e.ref)return Po(t,e,s)}return e.flags|=1,t=ka(o,r),t.ref=e.ref,t.return=e,e.child=t}function KV(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(yp(o,r)&&t.ref===e.ref)if(Nr=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(Nr=!0);else return e.lanes=t.lanes,Po(t,e,s)}return YE(t,e,n,r,s)}function YV(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nt(Eu,Zr),Zr|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Nt(Eu,Zr),Zr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Nt(Eu,Zr),Zr|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Nt(Eu,Zr),Zr|=r;return _r(t,e,s,n),e.child}function XV(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function YE(t,e,n,r,s){var o=$r(n)?ic:hr.current;return o=ed(e,o),Fu(e,s),n=jP(t,e,n,r,o,s),r=LP(),t!==null&&!Nr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Po(t,e,s)):(Ut&&r&&TP(e),e.flags|=1,_r(t,e,n,s),e.child)}function u2(t,e,n,r,s){if($r(n)){var o=!0;Wy(e)}else o=!1;if(Fu(e,s),e.stateNode===null)hy(t,e),HV(e,n,r),GE(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=ki(u):(u=$r(n)?ic:hr.current,u=ed(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&i2(e,a,r,u),da=!1;var h=e.memoizedState;a.state=h,Yy(e,r,a,s),c=e.memoizedState,l!==r||h!==c||Lr.current||da?(typeof d=="function"&&(qE(e,n,d,r),c=e.memoizedState),(l=da||r2(e,n,l,r,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,TV(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Hi(e.type,l),a.props=u,f=e.pendingProps,h=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=ki(c):(c=$r(n)?ic:hr.current,c=ed(e,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==c)&&i2(e,a,r,c),da=!1,h=e.memoizedState,a.state=h,Yy(e,r,a,s);var v=e.memoizedState;l!==f||h!==v||Lr.current||da?(typeof p=="function"&&(qE(e,n,p,r),v=e.memoizedState),(u=da||r2(e,n,u,r,h,v,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return XE(t,e,n,r,o,s)}function XE(t,e,n,r,s,o){XV(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&YN(e,n,!1),Po(t,e,o);r=e.stateNode,zY.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=nd(e,t.child,null,o),e.child=nd(e,null,l,o)):_r(t,e,l,o),e.memoizedState=r.state,s&&YN(e,n,!0),e.child}function QV(t){var e=t.stateNode;e.pendingContext?KN(t,e.pendingContext,e.pendingContext!==e.context):e.context&&KN(t,e.context,!1),NP(t,e.containerInfo)}function d2(t,e,n,r,s){return td(),CP(s),e.flags|=256,_r(t,e,n,r),e.child}var QE={dehydrated:null,treeContext:null,retryLane:0};function ZE(t){return{baseLanes:t,cachePool:null,transitions:null}}function ZV(t,e,n){var r=e.pendingProps,s=Wt.current,o=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Nt(Wt,s&1),t===null)return WE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=cw(a,r,0,null),t=Gl(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=ZE(n),e.memoizedState=QE,t):VP(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return WY(t,e,a,r,l,s,n);if(o){o=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ka(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=ka(l,o):(o=Gl(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?ZE(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=QE,r}return o=t.child,t=o.sibling,r=ka(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function VP(t,e){return e=cw({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function wv(t,e,n,r){return r!==null&&CP(r),nd(e,t.child,null,n),t=VP(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function WY(t,e,n,r,s,o,a){if(n)return e.flags&256?(e.flags&=-257,r=Bx(Error(be(422))),wv(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=cw({mode:"visible",children:r.children},s,0,null),o=Gl(o,s,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&nd(e,t.child,null,a),e.child.memoizedState=ZE(a),e.memoizedState=QE,o);if(!(e.mode&1))return wv(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(be(419)),r=Bx(o,r,void 0),wv(t,e,a,r)}if(l=(a&t.childLanes)!==0,Nr||l){if(r=Bn,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Co(t,s),es(r,t,s,-1))}return qP(),r=Bx(Error(be(421))),wv(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=rX.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,ti=Pa(s.nextSibling),ni=e,Ut=!0,Gi=null,t!==null&&(_i[xi++]=so,_i[xi++]=oo,_i[xi++]=sc,so=t.id,oo=t.overflow,sc=e),e=VP(e,r.children),e.flags|=4096,e)}function f2(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),HE(t.return,e,n)}function Ux(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function JV(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(_r(t,e,r.children,n),r=Wt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&f2(t,n,e);else if(t.tag===19)f2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Nt(Wt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Xy(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ux(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Xy(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ux(e,!0,n,null,o);break;case"together":Ux(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hy(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Po(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ac|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(be(153));if(e.child!==null){for(t=e.child,n=ka(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ka(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function HY(t,e,n){switch(e.tag){case 3:QV(e),td();break;case 5:SV(e);break;case 1:$r(e.type)&&Wy(e);break;case 4:NP(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Nt(Gy,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Nt(Wt,Wt.current&1),e.flags|=128,null):n&e.child.childLanes?ZV(t,e,n):(Nt(Wt,Wt.current&1),t=Po(t,e,n),t!==null?t.sibling:null);Nt(Wt,Wt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return JV(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Nt(Wt,Wt.current),r)break;return null;case 22:case 23:return e.lanes=0,YV(t,e,n)}return Po(t,e,n)}var e5,JE,t5,n5;e5=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};JE=function(){};t5=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,$l(ks.current);var o=null;switch(n){case"input":s=_E(t,s),r=_E(t,r),o=[];break;case"select":s=Kt({},s,{value:void 0}),r=Kt({},r,{value:void 0}),o=[];break;case"textarea":s=TE(t,s),r=TE(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Uy)}CE(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(dp.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(dp.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Mt("scroll",t),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};n5=function(t,e,n,r){n!==r&&(e.flags|=4)};function Qf(t,e){if(!Ut)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ir(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function qY(t,e,n){var r=e.pendingProps;switch(SP(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ir(e),null;case 1:return $r(e.type)&&zy(),ir(e),null;case 3:return r=e.stateNode,rd(),Vt(Lr),Vt(hr),RP(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(yv(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gi!==null&&(aT(Gi),Gi=null))),JE(t,e),ir(e),null;case 5:DP(e);var s=$l(Ep.current);if(n=e.type,t!==null&&e.stateNode!=null)t5(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(be(166));return ir(e),null}if(t=$l(ks.current),yv(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Es]=e,r[_p]=o,t=(e.mode&1)!==0,n){case"dialog":Mt("cancel",r),Mt("close",r);break;case"iframe":case"object":case"embed":Mt("load",r);break;case"video":case"audio":for(s=0;s<xh.length;s++)Mt(xh[s],r);break;case"source":Mt("error",r);break;case"img":case"image":case"link":Mt("error",r),Mt("load",r);break;case"details":Mt("toggle",r);break;case"input":_N(r,o),Mt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Mt("invalid",r);break;case"textarea":EN(r,o),Mt("invalid",r)}CE(n,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&vv(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&vv(r.textContent,l,t),s=["children",""+l]):dp.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Mt("scroll",r)}switch(n){case"input":cv(r),xN(r,o,!0);break;case"textarea":cv(r),TN(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Uy)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=O3(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Es]=e,t[_p]=r,e5(t,e,!1,!1),e.stateNode=t;e:{switch(a=PE(n,r),n){case"dialog":Mt("cancel",t),Mt("close",t),s=r;break;case"iframe":case"object":case"embed":Mt("load",t),s=r;break;case"video":case"audio":for(s=0;s<xh.length;s++)Mt(xh[s],t);s=r;break;case"source":Mt("error",t),s=r;break;case"img":case"image":case"link":Mt("error",t),Mt("load",t),s=r;break;case"details":Mt("toggle",t),s=r;break;case"input":_N(t,r),s=_E(t,r),Mt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Kt({},r,{value:void 0}),Mt("invalid",t);break;case"textarea":EN(t,r),s=TE(t,r),Mt("invalid",t);break;default:s=r}CE(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?D3(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&k3(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&fp(t,c):typeof c=="number"&&fp(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(dp.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Mt("scroll",t):c!=null&&uP(t,o,c,a))}switch(n){case"input":cv(t),xN(t,r,!1);break;case"textarea":cv(t),TN(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ba(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Mu(t,!!r.multiple,o,!1):r.defaultValue!=null&&Mu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Uy)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ir(e),null;case 6:if(t&&e.stateNode!=null)n5(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(be(166));if(n=$l(Ep.current),$l(ks.current),yv(e)){if(r=e.stateNode,n=e.memoizedProps,r[Es]=e,(o=r.nodeValue!==n)&&(t=ni,t!==null))switch(t.tag){case 3:vv(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vv(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Es]=e,e.stateNode=r}return ir(e),null;case 13:if(Vt(Wt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ut&&ti!==null&&e.mode&1&&!(e.flags&128))wV(),td(),e.flags|=98560,o=!1;else if(o=yv(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(be(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(be(317));o[Es]=e}else td(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ir(e),o=!1}else Gi!==null&&(aT(Gi),Gi=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Wt.current&1?Pn===0&&(Pn=3):qP())),e.updateQueue!==null&&(e.flags|=4),ir(e),null);case 4:return rd(),JE(t,e),t===null&&bp(e.stateNode.containerInfo),ir(e),null;case 10:return IP(e.type._context),ir(e),null;case 17:return $r(e.type)&&zy(),ir(e),null;case 19:if(Vt(Wt),o=e.memoizedState,o===null)return ir(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Qf(o,!1);else{if(Pn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Xy(t),a!==null){for(e.flags|=128,Qf(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Nt(Wt,Wt.current&1|2),e.child}t=t.sibling}o.tail!==null&&ln()>sd&&(e.flags|=128,r=!0,Qf(o,!1),e.lanes=4194304)}else{if(!r)if(t=Xy(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qf(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ut)return ir(e),null}else 2*ln()-o.renderingStartTime>sd&&n!==1073741824&&(e.flags|=128,r=!0,Qf(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ln(),e.sibling=null,n=Wt.current,Nt(Wt,r?n&1|2:n&1),e):(ir(e),null);case 22:case 23:return HP(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Zr&1073741824&&(ir(e),e.subtreeFlags&6&&(e.flags|=8192)):ir(e),null;case 24:return null;case 25:return null}throw Error(be(156,e.tag))}function GY(t,e){switch(SP(e),e.tag){case 1:return $r(e.type)&&zy(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return rd(),Vt(Lr),Vt(hr),RP(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return DP(e),null;case 13:if(Vt(Wt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(be(340));td()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Vt(Wt),null;case 4:return rd(),null;case 10:return IP(e.type._context),null;case 22:case 23:return HP(),null;case 24:return null;default:return null}}var _v=!1,cr=!1,KY=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function xu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qt(t,e,r)}else n.current=null}function eT(t,e,n){try{n()}catch(r){Qt(t,e,r)}}var h2=!1;function YY(t,e){if(LE=Fy,t=aV(),EP(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==o||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++u===s&&(l=a),h===o&&++d===r&&(c=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for($E={focusedElem:t,selectionRange:n},Fy=!1,Ae=e;Ae!==null;)if(e=Ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ae=t;else for(;Ae!==null;){e=Ae;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,b=v.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:Hi(e.type,g),b);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(be(163))}}catch(T){Qt(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,Ae=t;break}Ae=e.return}return v=h2,h2=!1,v}function Fh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&eT(e,n,o)}s=s.next}while(s!==r)}}function aw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function tT(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function r5(t){var e=t.alternate;e!==null&&(t.alternate=null,r5(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Es],delete e[_p],delete e[BE],delete e[kY],delete e[NY])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function i5(t){return t.tag===5||t.tag===3||t.tag===4}function p2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||i5(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nT(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Uy));else if(r!==4&&(t=t.child,t!==null))for(nT(t,e,n),t=t.sibling;t!==null;)nT(t,e,n),t=t.sibling}function rT(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(rT(t,e,n),t=t.sibling;t!==null;)rT(t,e,n),t=t.sibling}var qn=null,qi=!1;function sa(t,e,n){for(n=n.child;n!==null;)s5(t,e,n),n=n.sibling}function s5(t,e,n){if(Os&&typeof Os.onCommitFiberUnmount=="function")try{Os.onCommitFiberUnmount(Jb,n)}catch{}switch(n.tag){case 5:cr||xu(n,e);case 6:var r=qn,s=qi;qn=null,sa(t,e,n),qn=r,qi=s,qn!==null&&(qi?(t=qn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qn.removeChild(n.stateNode));break;case 18:qn!==null&&(qi?(t=qn,n=n.stateNode,t.nodeType===8?Mx(t.parentNode,n):t.nodeType===1&&Mx(t,n),gp(t)):Mx(qn,n.stateNode));break;case 4:r=qn,s=qi,qn=n.stateNode.containerInfo,qi=!0,sa(t,e,n),qn=r,qi=s;break;case 0:case 11:case 14:case 15:if(!cr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&eT(n,e,a),s=s.next}while(s!==r)}sa(t,e,n);break;case 1:if(!cr&&(xu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Qt(n,e,l)}sa(t,e,n);break;case 21:sa(t,e,n);break;case 22:n.mode&1?(cr=(r=cr)||n.memoizedState!==null,sa(t,e,n),cr=r):sa(t,e,n);break;default:sa(t,e,n)}}function m2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new KY),e.forEach(function(r){var s=iX.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function zi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:qn=l.stateNode,qi=!1;break e;case 3:qn=l.stateNode.containerInfo,qi=!0;break e;case 4:qn=l.stateNode.containerInfo,qi=!0;break e}l=l.return}if(qn===null)throw Error(be(160));s5(o,a,s),qn=null,qi=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Qt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)o5(e,t),e=e.sibling}function o5(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zi(e,t),ys(t),r&4){try{Fh(3,t,t.return),aw(3,t)}catch(g){Qt(t,t.return,g)}try{Fh(5,t,t.return)}catch(g){Qt(t,t.return,g)}}break;case 1:zi(e,t),ys(t),r&512&&n!==null&&xu(n,n.return);break;case 5:if(zi(e,t),ys(t),r&512&&n!==null&&xu(n,n.return),t.flags&32){var s=t.stateNode;try{fp(s,"")}catch(g){Qt(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&A3(s,o),PE(l,a);var u=PE(l,o);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?D3(s,f):d==="dangerouslySetInnerHTML"?k3(s,f):d==="children"?fp(s,f):uP(s,d,f,u)}switch(l){case"input":xE(s,o);break;case"textarea":I3(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Mu(s,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Mu(s,!!o.multiple,o.defaultValue,!0):Mu(s,!!o.multiple,o.multiple?[]:"",!1))}s[_p]=o}catch(g){Qt(t,t.return,g)}}break;case 6:if(zi(e,t),ys(t),r&4){if(t.stateNode===null)throw Error(be(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(g){Qt(t,t.return,g)}}break;case 3:if(zi(e,t),ys(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gp(e.containerInfo)}catch(g){Qt(t,t.return,g)}break;case 4:zi(e,t),ys(t);break;case 13:zi(e,t),ys(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(zP=ln())),r&4&&m2(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(cr=(u=cr)||d,zi(e,t),cr=u):zi(e,t),ys(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Ae=t,d=t.child;d!==null;){for(f=Ae=d;Ae!==null;){switch(h=Ae,p=h.child,h.tag){case 0:case 11:case 14:case 15:Fh(4,h,h.return);break;case 1:xu(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){Qt(r,n,g)}}break;case 5:xu(h,h.return);break;case 22:if(h.memoizedState!==null){v2(f);continue}}p!==null?(p.return=h,Ae=p):v2(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=N3("display",a))}catch(g){Qt(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Qt(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:zi(e,t),ys(t),r&4&&m2(t);break;case 21:break;default:zi(e,t),ys(t)}}function ys(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(i5(n)){var r=n;break e}n=n.return}throw Error(be(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(fp(s,""),r.flags&=-33);var o=p2(t);rT(t,o,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=p2(t);nT(t,l,a);break;default:throw Error(be(161))}}catch(c){Qt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function XY(t,e,n){Ae=t,a5(t)}function a5(t,e,n){for(var r=(t.mode&1)!==0;Ae!==null;){var s=Ae,o=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||_v;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||cr;l=_v;var u=cr;if(_v=a,(cr=c)&&!u)for(Ae=s;Ae!==null;)a=Ae,c=a.child,a.tag===22&&a.memoizedState!==null?y2(s):c!==null?(c.return=a,Ae=c):y2(s);for(;o!==null;)Ae=o,a5(o),o=o.sibling;Ae=s,_v=l,cr=u}g2(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,Ae=o):g2(t)}}function g2(t){for(;Ae!==null;){var e=Ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:cr||aw(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!cr)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Hi(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&e2(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}e2(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&gp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(be(163))}cr||e.flags&512&&tT(e)}catch(h){Qt(e,e.return,h)}}if(e===t){Ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ae=n;break}Ae=e.return}}function v2(t){for(;Ae!==null;){var e=Ae;if(e===t){Ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ae=n;break}Ae=e.return}}function y2(t){for(;Ae!==null;){var e=Ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{aw(4,e)}catch(c){Qt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Qt(e,s,c)}}var o=e.return;try{tT(e)}catch(c){Qt(e,o,c)}break;case 5:var a=e.return;try{tT(e)}catch(c){Qt(e,a,c)}}}catch(c){Qt(e,e.return,c)}if(e===t){Ae=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Ae=l;break}Ae=e.return}}var QY=Math.ceil,Jy=Bo.ReactCurrentDispatcher,BP=Bo.ReactCurrentOwner,Ii=Bo.ReactCurrentBatchConfig,st=0,Bn=null,yn=null,Xn=0,Zr=0,Eu=Ja(0),Pn=0,Pp=null,ac=0,lw=0,UP=0,Vh=null,kr=null,zP=0,sd=1/0,to=null,e0=!1,iT=null,Ia=null,xv=!1,_a=null,t0=0,Bh=0,sT=null,py=-1,my=0;function Sr(){return st&6?ln():py!==-1?py:py=ln()}function Oa(t){return t.mode&1?st&2&&Xn!==0?Xn&-Xn:RY.transition!==null?(my===0&&(my=H3()),my):(t=mt,t!==0||(t=window.event,t=t===void 0?16:Z3(t.type)),t):1}function es(t,e,n,r){if(50<Bh)throw Bh=0,sT=null,Error(be(185));Zm(t,n,r),(!(st&2)||t!==Bn)&&(t===Bn&&(!(st&2)&&(lw|=n),Pn===4&&ma(t,Xn)),Fr(t,r),n===1&&st===0&&!(e.mode&1)&&(sd=ln()+500,iw&&el()))}function Fr(t,e){var n=t.callbackNode;RK(t,e);var r=$y(t,t===Bn?Xn:0);if(r===0)n!==null&&PN(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&PN(n),e===1)t.tag===0?DY(b2.bind(null,t)):vV(b2.bind(null,t)),IY(function(){!(st&6)&&el()}),n=null;else{switch(q3(r)){case 1:n=mP;break;case 4:n=z3;break;case 16:n=Ly;break;case 536870912:n=W3;break;default:n=Ly}n=m5(n,l5.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function l5(t,e){if(py=-1,my=0,st&6)throw Error(be(327));var n=t.callbackNode;if(Vu()&&t.callbackNode!==n)return null;var r=$y(t,t===Bn?Xn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=n0(t,r);else{e=r;var s=st;st|=2;var o=u5();(Bn!==t||Xn!==e)&&(to=null,sd=ln()+500,ql(t,e));do try{eX();break}catch(l){c5(t,l)}while(1);AP(),Jy.current=o,st=s,yn!==null?e=0:(Bn=null,Xn=0,e=Pn)}if(e!==0){if(e===2&&(s=NE(t),s!==0&&(r=s,e=oT(t,s))),e===1)throw n=Pp,ql(t,0),ma(t,r),Fr(t,ln()),n;if(e===6)ma(t,r);else{if(s=t.current.alternate,!(r&30)&&!ZY(s)&&(e=n0(t,r),e===2&&(o=NE(t),o!==0&&(r=o,e=oT(t,o))),e===1))throw n=Pp,ql(t,0),ma(t,r),Fr(t,ln()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(be(345));case 2:Tl(t,kr,to);break;case 3:if(ma(t,r),(r&130023424)===r&&(e=zP+500-ln(),10<e)){if($y(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Sr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=VE(Tl.bind(null,t,kr,to),e);break}Tl(t,kr,to);break;case 4:if(ma(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-Ji(r);o=1<<a,a=e[a],a>s&&(s=a),r&=~o}if(r=s,r=ln()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*QY(r/1960))-r,10<r){t.timeoutHandle=VE(Tl.bind(null,t,kr,to),r);break}Tl(t,kr,to);break;case 5:Tl(t,kr,to);break;default:throw Error(be(329))}}}return Fr(t,ln()),t.callbackNode===n?l5.bind(null,t):null}function oT(t,e){var n=Vh;return t.current.memoizedState.isDehydrated&&(ql(t,e).flags|=256),t=n0(t,e),t!==2&&(e=kr,kr=n,e!==null&&aT(e)),t}function aT(t){kr===null?kr=t:kr.push.apply(kr,t)}function ZY(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!rs(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ma(t,e){for(e&=~UP,e&=~lw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ji(e),r=1<<n;t[n]=-1,e&=~r}}function b2(t){if(st&6)throw Error(be(327));Vu();var e=$y(t,0);if(!(e&1))return Fr(t,ln()),null;var n=n0(t,e);if(t.tag!==0&&n===2){var r=NE(t);r!==0&&(e=r,n=oT(t,r))}if(n===1)throw n=Pp,ql(t,0),ma(t,e),Fr(t,ln()),n;if(n===6)throw Error(be(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Tl(t,kr,to),Fr(t,ln()),null}function WP(t,e){var n=st;st|=1;try{return t(e)}finally{st=n,st===0&&(sd=ln()+500,iw&&el())}}function lc(t){_a!==null&&_a.tag===0&&!(st&6)&&Vu();var e=st;st|=1;var n=Ii.transition,r=mt;try{if(Ii.transition=null,mt=1,t)return t()}finally{mt=r,Ii.transition=n,st=e,!(st&6)&&el()}}function HP(){Zr=Eu.current,Vt(Eu)}function ql(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,AY(n)),yn!==null)for(n=yn.return;n!==null;){var r=n;switch(SP(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zy();break;case 3:rd(),Vt(Lr),Vt(hr),RP();break;case 5:DP(r);break;case 4:rd();break;case 13:Vt(Wt);break;case 19:Vt(Wt);break;case 10:IP(r.type._context);break;case 22:case 23:HP()}n=n.return}if(Bn=t,yn=t=ka(t.current,null),Xn=Zr=e,Pn=0,Pp=null,UP=lw=ac=0,kr=Vh=null,Ll!==null){for(e=0;e<Ll.length;e++)if(n=Ll[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=s,r.next=a}n.pending=r}Ll=null}return t}function c5(t,e){do{var n=yn;try{if(AP(),dy.current=Zy,Qy){for(var r=Gt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Qy=!1}if(oc=0,$n=En=Gt=null,$h=!1,Tp=0,BP.current=null,n===null||n.return===null){Pn=1,Pp=e,yn=null;break}e:{var o=t,a=n.return,l=n,c=e;if(e=Xn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=o2(a);if(p!==null){p.flags&=-257,a2(p,a,l,o,e),p.mode&1&&s2(o,u,e),e=p,c=u;var v=e.updateQueue;if(v===null){var g=new Set;g.add(c),e.updateQueue=g}else v.add(c);break e}else{if(!(e&1)){s2(o,u,e),qP();break e}c=Error(be(426))}}else if(Ut&&l.mode&1){var b=o2(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),a2(b,a,l,o,e),CP(id(c,l));break e}}o=c=id(c,l),Pn!==4&&(Pn=2),Vh===null?Vh=[o]:Vh.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=qV(o,c,e);JN(o,y);break e;case 1:l=c;var x=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Ia===null||!Ia.has(E)))){o.flags|=65536,e&=-e,o.lanes|=e;var T=GV(o,l,e);JN(o,T);break e}}o=o.return}while(o!==null)}f5(n)}catch(S){e=S,yn===n&&n!==null&&(yn=n=n.return);continue}break}while(1)}function u5(){var t=Jy.current;return Jy.current=Zy,t===null?Zy:t}function qP(){(Pn===0||Pn===3||Pn===2)&&(Pn=4),Bn===null||!(ac&268435455)&&!(lw&268435455)||ma(Bn,Xn)}function n0(t,e){var n=st;st|=2;var r=u5();(Bn!==t||Xn!==e)&&(to=null,ql(t,e));do try{JY();break}catch(s){c5(t,s)}while(1);if(AP(),st=n,Jy.current=r,yn!==null)throw Error(be(261));return Bn=null,Xn=0,Pn}function JY(){for(;yn!==null;)d5(yn)}function eX(){for(;yn!==null&&!SK();)d5(yn)}function d5(t){var e=p5(t.alternate,t,Zr);t.memoizedProps=t.pendingProps,e===null?f5(t):yn=e,BP.current=null}function f5(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=GY(n,e),n!==null){n.flags&=32767,yn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pn=6,yn=null;return}}else if(n=qY(n,e,Zr),n!==null){yn=n;return}if(e=e.sibling,e!==null){yn=e;return}yn=e=t}while(e!==null);Pn===0&&(Pn=5)}function Tl(t,e,n){var r=mt,s=Ii.transition;try{Ii.transition=null,mt=1,tX(t,e,n,r)}finally{Ii.transition=s,mt=r}return null}function tX(t,e,n,r){do Vu();while(_a!==null);if(st&6)throw Error(be(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(be(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(MK(t,o),t===Bn&&(yn=Bn=null,Xn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xv||(xv=!0,m5(Ly,function(){return Vu(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ii.transition,Ii.transition=null;var a=mt;mt=1;var l=st;st|=4,BP.current=null,YY(t,n),o5(n,t),_Y($E),Fy=!!LE,$E=LE=null,t.current=n,XY(n),CK(),st=l,mt=a,Ii.transition=o}else t.current=n;if(xv&&(xv=!1,_a=t,t0=s),o=t.pendingLanes,o===0&&(Ia=null),IK(n.stateNode),Fr(t,ln()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(e0)throw e0=!1,t=iT,iT=null,t;return t0&1&&t.tag!==0&&Vu(),o=t.pendingLanes,o&1?t===sT?Bh++:(Bh=0,sT=t):Bh=0,el(),null}function Vu(){if(_a!==null){var t=q3(t0),e=Ii.transition,n=mt;try{if(Ii.transition=null,mt=16>t?16:t,_a===null)var r=!1;else{if(t=_a,_a=null,t0=0,st&6)throw Error(be(331));var s=st;for(st|=4,Ae=t.current;Ae!==null;){var o=Ae,a=o.child;if(Ae.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ae=u;Ae!==null;){var d=Ae;switch(d.tag){case 0:case 11:case 15:Fh(8,d,o)}var f=d.child;if(f!==null)f.return=d,Ae=f;else for(;Ae!==null;){d=Ae;var h=d.sibling,p=d.return;if(r5(d),d===u){Ae=null;break}if(h!==null){h.return=p,Ae=h;break}Ae=p}}}var v=o.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}Ae=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Ae=a;else e:for(;Ae!==null;){if(o=Ae,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Fh(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,Ae=y;break e}Ae=o.return}}var x=t.current;for(Ae=x;Ae!==null;){a=Ae;var E=a.child;if(a.subtreeFlags&2064&&E!==null)E.return=a,Ae=E;else e:for(a=x;Ae!==null;){if(l=Ae,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:aw(9,l)}}catch(S){Qt(l,l.return,S)}if(l===a){Ae=null;break e}var T=l.sibling;if(T!==null){T.return=l.return,Ae=T;break e}Ae=l.return}}if(st=s,el(),Os&&typeof Os.onPostCommitFiberRoot=="function")try{Os.onPostCommitFiberRoot(Jb,t)}catch{}r=!0}return r}finally{mt=n,Ii.transition=e}}return!1}function w2(t,e,n){e=id(n,e),e=qV(t,e,1),t=Aa(t,e,1),e=Sr(),t!==null&&(Zm(t,1,e),Fr(t,e))}function Qt(t,e,n){if(t.tag===3)w2(t,t,n);else for(;e!==null;){if(e.tag===3){w2(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ia===null||!Ia.has(r))){t=id(n,t),t=GV(e,t,1),e=Aa(e,t,1),t=Sr(),e!==null&&(Zm(e,1,t),Fr(e,t));break}}e=e.return}}function nX(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Sr(),t.pingedLanes|=t.suspendedLanes&n,Bn===t&&(Xn&n)===n&&(Pn===4||Pn===3&&(Xn&130023424)===Xn&&500>ln()-zP?ql(t,0):UP|=n),Fr(t,e)}function h5(t,e){e===0&&(t.mode&1?(e=fv,fv<<=1,!(fv&130023424)&&(fv=4194304)):e=1);var n=Sr();t=Co(t,e),t!==null&&(Zm(t,e,n),Fr(t,n))}function rX(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),h5(t,n)}function iX(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(be(314))}r!==null&&r.delete(e),h5(t,n)}var p5;p5=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Lr.current)Nr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Nr=!1,HY(t,e,n);Nr=!!(t.flags&131072)}else Nr=!1,Ut&&e.flags&1048576&&yV(e,qy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;hy(t,e),t=e.pendingProps;var s=ed(e,hr.current);Fu(e,n),s=jP(null,e,r,t,s,n);var o=LP();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$r(r)?(o=!0,Wy(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,kP(e),s.updater=ow,e.stateNode=s,s._reactInternals=e,GE(e,r,t,n),e=XE(null,e,r,!0,o,n)):(e.tag=0,Ut&&o&&TP(e),_r(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(hy(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=oX(r),t=Hi(r,t),s){case 0:e=YE(null,e,r,t,n);break e;case 1:e=u2(null,e,r,t,n);break e;case 11:e=l2(null,e,r,t,n);break e;case 14:e=c2(null,e,r,Hi(r.type,t),n);break e}throw Error(be(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Hi(r,s),YE(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Hi(r,s),u2(t,e,r,s,n);case 3:e:{if(QV(e),t===null)throw Error(be(387));r=e.pendingProps,o=e.memoizedState,s=o.element,TV(t,e),Yy(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=id(Error(be(423)),e),e=d2(t,e,r,n,s);break e}else if(r!==s){s=id(Error(be(424)),e),e=d2(t,e,r,n,s);break e}else for(ti=Pa(e.stateNode.containerInfo.firstChild),ni=e,Ut=!0,Gi=null,n=xV(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(td(),r===s){e=Po(t,e,n);break e}_r(t,e,r,n)}e=e.child}return e;case 5:return SV(e),t===null&&WE(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,a=s.children,FE(r,s)?a=null:o!==null&&FE(r,o)&&(e.flags|=32),XV(t,e),_r(t,e,a,n),e.child;case 6:return t===null&&WE(e),null;case 13:return ZV(t,e,n);case 4:return NP(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=nd(e,null,r,n):_r(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Hi(r,s),l2(t,e,r,s,n);case 7:return _r(t,e,e.pendingProps,n),e.child;case 8:return _r(t,e,e.pendingProps.children,n),e.child;case 12:return _r(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,a=s.value,Nt(Gy,r._currentValue),r._currentValue=a,o!==null)if(rs(o.value,a)){if(o.children===s.children&&!Lr.current){e=Po(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=mo(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),HE(o.return,n,e),l.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(be(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),HE(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}_r(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Fu(e,n),s=ki(s),r=r(s),e.flags|=1,_r(t,e,r,n),e.child;case 14:return r=e.type,s=Hi(r,e.pendingProps),s=Hi(r.type,s),c2(t,e,r,s,n);case 15:return KV(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Hi(r,s),hy(t,e),e.tag=1,$r(r)?(t=!0,Wy(e)):t=!1,Fu(e,n),HV(e,r,s),GE(e,r,s,n),XE(null,e,r,!0,t,n);case 19:return JV(t,e,n);case 22:return YV(t,e,n)}throw Error(be(156,e.tag))};function m5(t,e){return U3(t,e)}function sX(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ci(t,e,n,r){return new sX(t,e,n,r)}function GP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oX(t){if(typeof t=="function")return GP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===fP)return 11;if(t===hP)return 14}return 2}function ka(t,e){var n=t.alternate;return n===null?(n=Ci(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function gy(t,e,n,r,s,o){var a=2;if(r=t,typeof t=="function")GP(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case hu:return Gl(n.children,s,o,e);case dP:a=8,s|=8;break;case vE:return t=Ci(12,n,e,s|2),t.elementType=vE,t.lanes=o,t;case yE:return t=Ci(13,n,e,s),t.elementType=yE,t.lanes=o,t;case bE:return t=Ci(19,n,e,s),t.elementType=bE,t.lanes=o,t;case S3:return cw(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case E3:a=10;break e;case T3:a=9;break e;case fP:a=11;break e;case hP:a=14;break e;case ua:a=16,r=null;break e}throw Error(be(130,t==null?t:typeof t,""))}return e=Ci(a,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function Gl(t,e,n,r){return t=Ci(7,t,r,e),t.lanes=n,t}function cw(t,e,n,r){return t=Ci(22,t,r,e),t.elementType=S3,t.lanes=n,t.stateNode={isHidden:!1},t}function zx(t,e,n){return t=Ci(6,t,null,e),t.lanes=n,t}function Wx(t,e,n){return e=Ci(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function aX(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tx(0),this.expirationTimes=Tx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tx(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function KP(t,e,n,r,s,o,a,l,c){return t=new aX(t,e,n,l,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ci(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kP(o),t}function lX(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function g5(t){if(!t)return Ua;t=t._reactInternals;e:{if(Nc(t)!==t||t.tag!==1)throw Error(be(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($r(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(be(171))}if(t.tag===1){var n=t.type;if($r(n))return gV(t,n,e)}return e}function v5(t,e,n,r,s,o,a,l,c){return t=KP(n,r,!0,t,s,o,a,l,c),t.context=g5(null),n=t.current,r=Sr(),s=Oa(n),o=mo(r,s),o.callback=e??null,Aa(n,o,s),t.current.lanes=s,Zm(t,s,r),Fr(t,r),t}function uw(t,e,n,r){var s=e.current,o=Sr(),a=Oa(s);return n=g5(n),e.context===null?e.context=n:e.pendingContext=n,e=mo(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Aa(s,e,a),t!==null&&(es(t,s,a,o),uy(t,s,a)),a}function r0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function YP(t,e){_2(t,e),(t=t.alternate)&&_2(t,e)}function cX(){return null}var y5=typeof reportError=="function"?reportError:function(t){console.error(t)};function XP(t){this._internalRoot=t}dw.prototype.render=XP.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(be(409));uw(t,e,null,null)};dw.prototype.unmount=XP.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;lc(function(){uw(null,t,null,null)}),e[So]=null}};function dw(t){this._internalRoot=t}dw.prototype.unstable_scheduleHydration=function(t){if(t){var e=Y3();t={blockedOn:null,target:t,priority:e};for(var n=0;n<pa.length&&e!==0&&e<pa[n].priority;n++);pa.splice(n,0,t),n===0&&Q3(t)}};function QP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function x2(){}function uX(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=r0(a);o.call(u)}}var a=v5(e,r,t,0,null,!1,!1,"",x2);return t._reactRootContainer=a,t[So]=a.current,bp(t.nodeType===8?t.parentNode:t),lc(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=r0(c);l.call(u)}}var c=KP(t,0,!1,null,null,!1,!1,"",x2);return t._reactRootContainer=c,t[So]=c.current,bp(t.nodeType===8?t.parentNode:t),lc(function(){uw(e,c,n,r)}),c}function hw(t,e,n,r,s){var o=n._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var l=s;s=function(){var c=r0(a);l.call(c)}}uw(e,a,t,s)}else a=uX(n,e,t,s,r);return r0(a)}G3=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=_h(e.pendingLanes);n!==0&&(gP(e,n|1),Fr(e,ln()),!(st&6)&&(sd=ln()+500,el()))}break;case 13:lc(function(){var r=Co(t,1);if(r!==null){var s=Sr();es(r,t,1,s)}}),YP(t,1)}};vP=function(t){if(t.tag===13){var e=Co(t,134217728);if(e!==null){var n=Sr();es(e,t,134217728,n)}YP(t,134217728)}};K3=function(t){if(t.tag===13){var e=Oa(t),n=Co(t,e);if(n!==null){var r=Sr();es(n,t,e,r)}YP(t,e)}};Y3=function(){return mt};X3=function(t,e){var n=mt;try{return mt=t,e()}finally{mt=n}};IE=function(t,e,n){switch(e){case"input":if(xE(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=rw(r);if(!s)throw Error(be(90));P3(r),xE(r,s)}}}break;case"textarea":I3(t,n);break;case"select":e=n.value,e!=null&&Mu(t,!!n.multiple,e,!1)}};j3=WP;L3=lc;var dX={usingClientEntryPoint:!1,Events:[eg,vu,rw,R3,M3,WP]},Zf={findFiberByHostInstance:jl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fX={bundleType:Zf.bundleType,version:Zf.version,rendererPackageName:Zf.rendererPackageName,rendererConfig:Zf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=V3(t),t===null?null:t.stateNode},findFiberByHostInstance:Zf.findFiberByHostInstance||cX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ev=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ev.isDisabled&&Ev.supportsFiber)try{Jb=Ev.inject(fX),Os=Ev}catch{}}li.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dX;li.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!QP(e))throw Error(be(200));return lX(t,e,null,n)};li.createRoot=function(t,e){if(!QP(t))throw Error(be(299));var n=!1,r="",s=y5;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=KP(t,1,!1,null,null,n,!1,r,s),t[So]=e.current,bp(t.nodeType===8?t.parentNode:t),new XP(e)};li.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(be(188)):(t=Object.keys(t).join(","),Error(be(268,t)));return t=V3(e),t=t===null?null:t.stateNode,t};li.flushSync=function(t){return lc(t)};li.hydrate=function(t,e,n){if(!fw(e))throw Error(be(200));return hw(null,t,e,!0,n)};li.hydrateRoot=function(t,e,n){if(!QP(t))throw Error(be(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",a=y5;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=v5(e,null,t,1,n??null,s,!1,o,a),t[So]=e.current,bp(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new dw(e)};li.render=function(t,e,n){if(!fw(e))throw Error(be(200));return hw(null,t,e,!1,n)};li.unmountComponentAtNode=function(t){if(!fw(t))throw Error(be(40));return t._reactRootContainer?(lc(function(){hw(null,null,t,!1,function(){t._reactRootContainer=null,t[So]=null})}),!0):!1};li.unstable_batchedUpdates=WP;li.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!fw(n))throw Error(be(200));if(t==null||t._reactInternals===void 0)throw Error(be(38));return hw(t,e,n,!1,r)};li.version="18.3.1-next-f1338f8080-20240426";function b5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b5)}catch(t){console.error(t)}}b5(),b3.exports=li;var w5=b3.exports;const _5=Ke(w5);var E2=w5;mE.createRoot=E2.createRoot,mE.hydrateRoot=E2.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ap(){return Ap=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ap.apply(this,arguments)}var xa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xa||(xa={}));const T2="popstate";function hX(t){t===void 0&&(t={});function e(r,s){let{pathname:o,search:a,hash:l}=r.location;return lT("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:i0(s)}return mX(e,n,null,t)}function fn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function x5(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pX(){return Math.random().toString(36).substr(2,8)}function S2(t,e){return{usr:t.state,key:t.key,idx:e}}function lT(t,e,n,r){return n===void 0&&(n=null),Ap({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Jd(e):e,{state:n,key:e&&e.key||r||pX()})}function i0(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Jd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function mX(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,a=s.history,l=xa.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(Ap({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){l=xa.Pop;let b=d(),y=b==null?null:b-u;u=b,c&&c({action:l,location:g.location,delta:y})}function h(b,y){l=xa.Push;let x=lT(g.location,b,y);n&&n(x,b),u=d()+1;let E=S2(x,u),T=g.createHref(x);try{a.pushState(E,"",T)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(T)}o&&c&&c({action:l,location:g.location,delta:1})}function p(b,y){l=xa.Replace;let x=lT(g.location,b,y);n&&n(x,b),u=d();let E=S2(x,u),T=g.createHref(x);a.replaceState(E,"",T),o&&c&&c({action:l,location:g.location,delta:0})}function v(b){let y=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof b=="string"?b:i0(b);return x=x.replace(/ $/,"%20"),fn(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let g={get action(){return l},get location(){return t(s,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(T2,f),c=b,()=>{s.removeEventListener(T2,f),c=null}},createHref(b){return e(s,b)},createURL:v,encodeLocation(b){let y=v(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(b){return a.go(b)}};return g}var C2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(C2||(C2={}));function gX(t,e,n){return n===void 0&&(n="/"),vX(t,e,n,!1)}function vX(t,e,n,r){let s=typeof e=="string"?Jd(e):e,o=ZP(s.pathname||"/",n);if(o==null)return null;let a=E5(t);yX(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=IX(o);l=PX(a[c],u,r)}return l}function E5(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(fn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Na([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(fn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),E5(o.children,e,d,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:SX(u,o.index),routesMeta:d})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let c of T5(o.path))s(o,a,c)}),e}function T5(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let a=T5(r.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function yX(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:CX(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const bX=/^:[\w-]+$/,wX=3,_X=2,xX=1,EX=10,TX=-2,P2=t=>t==="*";function SX(t,e){let n=t.split("/"),r=n.length;return n.some(P2)&&(r+=TX),e&&(r+=_X),n.filter(s=>!P2(s)).reduce((s,o)=>s+(bX.test(o)?wX:o===""?xX:EX),r)}function CX(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function PX(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},o="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",f=A2({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=A2({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Na([o,f.pathname]),pathnameBase:DX(Na([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Na([o,f.pathnameBase]))}return a}function A2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=AX(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=l[f]||"";a=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const v=l[f];return p&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:t}}function AX(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),x5(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function IX(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return x5(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ZP(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function OX(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Jd(t):t;return{pathname:n?n.startsWith("/")?n:kX(n,e):e,search:RX(r),hash:MX(s)}}function kX(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Hx(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function NX(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function JP(t,e){let n=NX(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function eA(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Jd(t):(s=Ap({},t),fn(!s.pathname||!s.pathname.includes("?"),Hx("?","pathname","search",s)),fn(!s.pathname||!s.pathname.includes("#"),Hx("#","pathname","hash",s)),fn(!s.search||!s.search.includes("#"),Hx("#","search","hash",s)));let o=t===""||s.pathname==="",a=o?"/":s.pathname,l;if(a==null)l=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?e[f]:"/"}let c=OX(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Na=t=>t.join("/").replace(/\/\/+/g,"/"),DX=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),RX=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,MX=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function jX(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const S5=["post","put","patch","delete"];new Set(S5);const LX=["get",...S5];new Set(LX);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ip(){return Ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ip.apply(this,arguments)}const tA=F.createContext(null),$X=F.createContext(null),tl=F.createContext(null),pw=F.createContext(null),Uo=F.createContext({outlet:null,matches:[],isDataRoute:!1}),C5=F.createContext(null);function FX(t,e){let{relative:n}=e===void 0?{}:e;ef()||fn(!1);let{basename:r,navigator:s}=F.useContext(tl),{hash:o,pathname:a,search:l}=A5(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Na([r,a])),s.createHref({pathname:c,search:l,hash:o})}function ef(){return F.useContext(pw)!=null}function Dc(){return ef()||fn(!1),F.useContext(pw).location}function P5(t){F.useContext(tl).static||F.useLayoutEffect(t)}function Rc(){let{isDataRoute:t}=F.useContext(Uo);return t?eQ():VX()}function VX(){ef()||fn(!1);let t=F.useContext(tA),{basename:e,future:n,navigator:r}=F.useContext(tl),{matches:s}=F.useContext(Uo),{pathname:o}=Dc(),a=JSON.stringify(JP(s,n.v7_relativeSplatPath)),l=F.useRef(!1);return P5(()=>{l.current=!0}),F.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=eA(u,JSON.parse(a),o,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Na([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,a,o,t])}const BX=F.createContext(null);function UX(t){let e=F.useContext(Uo).outlet;return e&&F.createElement(BX.Provider,{value:t},e)}function A5(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=F.useContext(tl),{matches:s}=F.useContext(Uo),{pathname:o}=Dc(),a=JSON.stringify(JP(s,r.v7_relativeSplatPath));return F.useMemo(()=>eA(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function zX(t,e){return WX(t,e)}function WX(t,e,n,r){ef()||fn(!1);let{navigator:s}=F.useContext(tl),{matches:o}=F.useContext(Uo),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Dc(),d;if(e){var f;let b=typeof e=="string"?Jd(e):e;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||fn(!1),d=b}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=gX(t,{pathname:p}),g=YX(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Na([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Na([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r);return e&&g?F.createElement(pw.Provider,{value:{location:Ip({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:xa.Pop}},g):g}function HX(){let t=JX(),e=jX(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:s},n):null,o)}const qX=F.createElement(HX,null);class GX extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?F.createElement(Uo.Provider,{value:this.props.routeContext},F.createElement(C5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function KX(t){let{routeContext:e,match:n,children:r}=t,s=F.useContext(tA);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),F.createElement(Uo.Provider,{value:e},r)}function YX(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||fn(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=n,v=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let p,v=!1,g=null,b=null;n&&(p=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||qX,c&&(u<0&&h===0?(tQ("route-fallback",!1),v=!0,b=null):u===h&&(v=!0,b=f.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,h+1)),x=()=>{let E;return p?E=g:v?E=b:f.route.Component?E=F.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=d,F.createElement(KX,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?F.createElement(GX,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var I5=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(I5||{}),s0=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(s0||{});function XX(t){let e=F.useContext(tA);return e||fn(!1),e}function QX(t){let e=F.useContext($X);return e||fn(!1),e}function ZX(t){let e=F.useContext(Uo);return e||fn(!1),e}function O5(t){let e=ZX(),n=e.matches[e.matches.length-1];return n.route.id||fn(!1),n.route.id}function JX(){var t;let e=F.useContext(C5),n=QX(s0.UseRouteError),r=O5(s0.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function eQ(){let{router:t}=XX(I5.UseNavigateStable),e=O5(s0.UseNavigateStable),n=F.useRef(!1);return P5(()=>{n.current=!0}),F.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ip({fromRouteId:e},o)))},[t,e])}const I2={};function tQ(t,e,n){!e&&!I2[t]&&(I2[t]=!0)}function nQ(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function cT(t){let{to:e,replace:n,state:r,relative:s}=t;ef()||fn(!1);let{future:o,static:a}=F.useContext(tl),{matches:l}=F.useContext(Uo),{pathname:c}=Dc(),u=Rc(),d=eA(e,JP(l,o.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return F.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function mw(t){return UX(t.context)}function Ct(t){fn(!1)}function rQ(t){let{basename:e="/",children:n=null,location:r,navigationType:s=xa.Pop,navigator:o,static:a=!1,future:l}=t;ef()&&fn(!1);let c=e.replace(/^\/*/,"/"),u=F.useMemo(()=>({basename:c,navigator:o,static:a,future:Ip({v7_relativeSplatPath:!1},l)}),[c,l,o,a]);typeof r=="string"&&(r=Jd(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:v="default"}=r,g=F.useMemo(()=>{let b=ZP(d,c);return b==null?null:{location:{pathname:b,search:f,hash:h,state:p,key:v},navigationType:s}},[c,d,f,h,p,v,s]);return g==null?null:F.createElement(tl.Provider,{value:u},F.createElement(pw.Provider,{children:n,value:g}))}function iQ(t){let{children:e,location:n}=t;return zX(uT(e),n)}new Promise(()=>{});function uT(t,e){e===void 0&&(e=[]);let n=[];return F.Children.forEach(t,(r,s)=>{if(!F.isValidElement(r))return;let o=[...e,s];if(r.type===F.Fragment){n.push.apply(n,uT(r.props.children,o));return}r.type!==Ct&&fn(!1),!r.props.index||!r.props.children||fn(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=uT(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dT(){return dT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dT.apply(this,arguments)}function sQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function oQ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aQ(t,e){return t.button===0&&(!e||e==="_self")&&!oQ(t)}const lQ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],cQ="6";try{window.__reactRouterVersion=cQ}catch{}const uQ="startTransition",O2=nK[uQ];function dQ(t){let{basename:e,children:n,future:r,window:s}=t,o=F.useRef();o.current==null&&(o.current=hX({window:s,v5Compat:!0}));let a=o.current,[l,c]=F.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=F.useCallback(f=>{u&&O2?O2(()=>c(f)):c(f)},[c,u]);return F.useLayoutEffect(()=>a.listen(d),[a,d]),F.useEffect(()=>nQ(r),[r]),F.createElement(rQ,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const fQ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hQ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gn=F.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:o,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,h=sQ(e,lQ),{basename:p}=F.useContext(tl),v,g=!1;if(typeof u=="string"&&hQ.test(u)&&(v=u,fQ))try{let E=new URL(window.location.href),T=u.startsWith("//")?new URL(E.protocol+u):new URL(u),S=ZP(T.pathname,p);T.origin===E.origin&&S!=null?u=S+T.search+T.hash:g=!0}catch{}let b=FX(u,{relative:s}),y=pQ(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function x(E){r&&r(E),E.defaultPrevented||y(E)}return F.createElement("a",dT({},h,{href:v||b,onClick:g||o?r:x,ref:n,target:c}))});var k2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(k2||(k2={}));var N2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(N2||(N2={}));function pQ(t,e){let{target:n,replace:r,state:s,preventScrollReset:o,relative:a,viewTransition:l}=e===void 0?{}:e,c=Rc(),u=Dc(),d=A5(t,{relative:a});return F.useCallback(f=>{if(aQ(f,n)){f.preventDefault();let h=r!==void 0?r:i0(u)===i0(d);c(t,{replace:h,state:s,preventScrollReset:o,relative:a,viewTransition:l})}},[u,c,d,r,s,n,t,o,a,l])}function k5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=k5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function qe(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=k5(t))&&(r&&(r+=" "),r+=e);return r}function mQ(t){if(!t||typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}mQ(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var ng=t=>typeof t=="number"&&!isNaN(t),cc=t=>typeof t=="string",Ao=t=>typeof t=="function",gQ=t=>cc(t)||ng(t),fT=t=>cc(t)||Ao(t)?t:null,vQ=(t,e)=>t===!1||ng(t)&&t>0?t:e,hT=t=>F.isValidElement(t)||cc(t)||Ao(t)||ng(t);function yQ(t,e,n=300){let{scrollHeight:r,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function bQ({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:o,position:a,preventExitTransition:l,done:c,nodeRef:u,isIn:d,playToast:f}){let h=n?`${t}--${a}`:t,p=n?`${e}--${a}`:e,v=F.useRef(0);return F.useLayoutEffect(()=>{let g=u.current,b=h.split(" "),y=x=>{x.target===u.current&&(f(),g.removeEventListener("animationend",y),g.removeEventListener("animationcancel",y),v.current===0&&x.type!=="animationcancel"&&g.classList.remove(...b))};g.classList.add(...b),g.addEventListener("animationend",y),g.addEventListener("animationcancel",y)},[]),F.useEffect(()=>{let g=u.current,b=()=>{g.removeEventListener("animationend",b),r?yQ(g,c,s):c()};d||(l?b():(v.current=1,g.className+=` ${p}`,g.addEventListener("animationend",b)))},[d]),L.createElement(L.Fragment,null,o)}}function D2(t,e){return{content:N5(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function N5(t,e,n=!1){return F.isValidElement(t)&&!cc(t.type)?F.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Ao(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function wQ({closeToast:t,theme:e,ariaLabel:n="close"}){return L.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},L.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},L.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function _Q({delay:t,isRunning:e,closeToast:n,type:r="default",hide:s,className:o,controlledProgress:a,progress:l,rtl:c,isIn:u,theme:d}){let f=s||a&&l===0,h={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};a&&(h.transform=`scaleX(${l})`);let p=qe("Toastify__progress-bar",a?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":c}),v=Ao(o)?o({rtl:c,type:r,defaultClassName:p}):qe(p,o),g={[a&&l>=1?"onTransitionEnd":"onAnimationEnd"]:a&&l<1?null:()=>{u&&n()}};return L.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},L.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${r}`}),L.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:v,style:h,...g}))}var xQ=1,D5=()=>`${xQ++}`;function EQ(t,e,n){let r=1,s=0,o=[],a=[],l=e,c=new Map,u=new Set,d=x=>(u.add(x),()=>u.delete(x)),f=()=>{a=Array.from(c.values()),u.forEach(x=>x())},h=({containerId:x,toastId:E,updateId:T})=>{let S=x?x!==t:t!==1,A=c.has(E)&&T==null;return S||A},p=(x,E)=>{c.forEach(T=>{var S;(E==null||E===T.props.toastId)&&((S=T.toggle)==null||S.call(T,x))})},v=x=>{var E,T;(T=(E=x.props)==null?void 0:E.onClose)==null||T.call(E,x.removalReason),x.isActive=!1},g=x=>{if(x==null)c.forEach(v);else{let E=c.get(x);E&&v(E)}f()},b=()=>{s-=o.length,o=[]},y=x=>{var E,T;let{toastId:S,updateId:A}=x.props,C=A==null;x.staleId&&c.delete(x.staleId),x.isActive=!0,c.set(S,x),f(),n(D2(x,C?"added":"updated")),C&&((T=(E=x.props).onOpen)==null||T.call(E))};return{id:t,props:l,observe:d,toggle:p,removeToast:g,toasts:c,clearQueue:b,buildToast:(x,E)=>{if(h(E))return;let{toastId:T,updateId:S,data:A,staleId:C,delay:P}=E,I=S==null;I&&s++;let R={...l,style:l.toastStyle,key:r++,...Object.fromEntries(Object.entries(E).filter(([O,D])=>D!=null)),toastId:T,updateId:S,data:A,isIn:!1,className:fT(E.className||l.toastClassName),progressClassName:fT(E.progressClassName||l.progressClassName),autoClose:E.isLoading?!1:vQ(E.autoClose,l.autoClose),closeToast(O){c.get(T).removalReason=O,g(T)},deleteToast(){let O=c.get(T);if(O!=null){if(n(D2(O,"removed")),c.delete(T),s--,s<0&&(s=0),o.length>0){y(o.shift());return}f()}}};R.closeButton=l.closeButton,E.closeButton===!1||hT(E.closeButton)?R.closeButton=E.closeButton:E.closeButton===!0&&(R.closeButton=hT(l.closeButton)?l.closeButton:!0);let j={content:x,props:R,staleId:C};l.limit&&l.limit>0&&s>l.limit&&I?o.push(j):ng(P)?setTimeout(()=>{y(j)},P):y(j)},setProps(x){l=x},setToggle:(x,E)=>{let T=c.get(x);T&&(T.toggle=E)},isToastActive:x=>{var E;return(E=c.get(x))==null?void 0:E.isActive},getSnapshot:()=>a}}var Er=new Map,Op=[],pT=new Set,TQ=t=>pT.forEach(e=>e(t)),R5=()=>Er.size>0;function SQ(){Op.forEach(t=>j5(t.content,t.options)),Op=[]}var CQ=(t,{containerId:e})=>{var n;return(n=Er.get(e||1))==null?void 0:n.toasts.get(t)};function M5(t,e){var n;if(e)return!!((n=Er.get(e))!=null&&n.isToastActive(t));let r=!1;return Er.forEach(s=>{s.isToastActive(t)&&(r=!0)}),r}function PQ(t){if(!R5()){Op=Op.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||gQ(t))Er.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Er.get(t.containerId);e?e.removeToast(t.id):Er.forEach(n=>{n.removeToast(t.id)})}}var AQ=(t={})=>{Er.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function j5(t,e){hT(t)&&(R5()||Op.push({content:t,options:e}),Er.forEach(n=>{n.buildToast(t,e)}))}function IQ(t){var e;(e=Er.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function L5(t,e){Er.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function OQ(t){let e=t.containerId||1;return{subscribe(n){let r=EQ(e,t,TQ);Er.set(e,r);let s=r.observe(n);return SQ(),()=>{s(),Er.delete(e)}},setProps(n){var r;(r=Er.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=Er.get(e))==null?void 0:n.getSnapshot()}}}function kQ(t){return pT.add(t),()=>{pT.delete(t)}}function NQ(t){return t&&(cc(t.toastId)||ng(t.toastId))?t.toastId:D5()}function rg(t,e){return j5(t,e),e.toastId}function gw(t,e){return{...e,type:e&&e.type||t,toastId:NQ(e)}}function vw(t){return(e,n)=>rg(e,gw(t,n))}function Ye(t,e){return rg(t,gw("default",e))}Ye.loading=(t,e)=>rg(t,gw("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function DQ(t,{pending:e,error:n,success:r},s){let o;e&&(o=cc(e)?Ye.loading(e,s):Ye.loading(e.render,{...s,...e}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,f)=>{if(d==null){Ye.dismiss(o);return}let h={type:u,...a,...s,data:f},p=cc(d)?{render:d}:d;return o?Ye.update(o,{...h,...p}):Ye(p.render,{...h,...p}),f},c=Ao(t)?t():t;return c.then(u=>l("success",r,u)).catch(u=>l("error",n,u)),c}Ye.promise=DQ;Ye.success=vw("success");Ye.info=vw("info");Ye.error=vw("error");Ye.warning=vw("warning");Ye.warn=Ye.warning;Ye.dark=(t,e)=>rg(t,gw("default",{theme:"dark",...e}));function RQ(t){PQ(t)}Ye.dismiss=RQ;Ye.clearWaitingQueue=AQ;Ye.isActive=M5;Ye.update=(t,e={})=>{let n=CQ(t,e);if(n){let{props:r,content:s}=n,o={delay:100,...r,...e,toastId:e.toastId||t,updateId:D5()};o.toastId!==t&&(o.staleId=t);let a=o.render||s;delete o.render,rg(a,o)}};Ye.done=t=>{Ye.update(t,{progress:1})};Ye.onChange=kQ;Ye.play=t=>L5(!0,t);Ye.pause=t=>L5(!1,t);function MQ(t){var e;let{subscribe:n,getSnapshot:r,setProps:s}=F.useRef(OQ(t)).current;s(t);let o=(e=F.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function a(l){if(!o)return[];let c=new Map;return t.newestOnTop&&o.reverse(),o.forEach(u=>{let{position:d}=u.props;c.has(d)||c.set(d,[]),c.get(d).push(u)}),Array.from(c,u=>l(u[0],u[1]))}return{getToastToRender:a,isToastActive:M5,count:o==null?void 0:o.length}}function jQ(t){let[e,n]=F.useState(!1),[r,s]=F.useState(!1),o=F.useRef(null),a=F.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:f}=t;IQ({id:t.toastId,containerId:t.containerId,fn:n}),F.useEffect(()=>{if(t.pauseOnFocusLoss)return h(),()=>{p()}},[t.pauseOnFocusLoss]);function h(){document.hasFocus()||y(),window.addEventListener("focus",b),window.addEventListener("blur",y)}function p(){window.removeEventListener("focus",b),window.removeEventListener("blur",y)}function v(C){if(t.draggable===!0||t.draggable===C.pointerType){x();let P=o.current;a.canCloseOnClick=!0,a.canDrag=!0,P.style.transition="none",t.draggableDirection==="x"?(a.start=C.clientX,a.removalDistance=P.offsetWidth*(t.draggablePercent/100)):(a.start=C.clientY,a.removalDistance=P.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function g(C){let{top:P,bottom:I,left:R,right:j}=o.current.getBoundingClientRect();C.nativeEvent.type!=="touchend"&&t.pauseOnHover&&C.clientX>=R&&C.clientX<=j&&C.clientY>=P&&C.clientY<=I?y():b()}function b(){n(!0)}function y(){n(!1)}function x(){a.didMove=!1,document.addEventListener("pointermove",T),document.addEventListener("pointerup",S)}function E(){document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",S)}function T(C){let P=o.current;if(a.canDrag&&P){a.didMove=!0,e&&y(),t.draggableDirection==="x"?a.delta=C.clientX-a.start:a.delta=C.clientY-a.start,a.start!==C.clientX&&(a.canCloseOnClick=!1);let I=t.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`;P.style.transform=`translate3d(${I},0)`,P.style.opacity=`${1-Math.abs(a.delta/a.removalDistance)}`}}function S(){E();let C=o.current;if(a.canDrag&&a.didMove&&C){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance){s(!0),t.closeToast(!0),t.collapseAll();return}C.style.transition="transform 0.2s, opacity 0.2s",C.style.removeProperty("transform"),C.style.removeProperty("opacity")}}let A={onPointerDown:v,onPointerUp:g};return l&&c&&(A.onMouseEnter=y,t.stacked||(A.onMouseLeave=b)),f&&(A.onClick=C=>{d&&d(C),a.canCloseOnClick&&u(!0)}),{playToast:b,pauseToast:y,isRunning:e,preventExitTransition:r,toastRef:o,eventHandlers:A}}var LQ=typeof window<"u"?F.useLayoutEffect:F.useEffect,yw=({theme:t,type:e,isLoading:n,...r})=>L.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function $Q(t){return L.createElement(yw,{...t},L.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function FQ(t){return L.createElement(yw,{...t},L.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function VQ(t){return L.createElement(yw,{...t},L.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function BQ(t){return L.createElement(yw,{...t},L.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function UQ(){return L.createElement("div",{className:"Toastify__spinner"})}var mT={info:FQ,warning:$Q,success:VQ,error:BQ,spinner:UQ},zQ=t=>t in mT;function WQ({theme:t,type:e,isLoading:n,icon:r}){let s=null,o={theme:t,type:e};return r===!1||(Ao(r)?s=r({...o,isLoading:n}):F.isValidElement(r)?s=F.cloneElement(r,o):n?s=mT.spinner():zQ(e)&&(s=mT[e](o))),s}var HQ=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:o}=jQ(t),{closeButton:a,children:l,autoClose:c,onClick:u,type:d,hideProgressBar:f,closeToast:h,transition:p,position:v,className:g,style:b,progressClassName:y,updateId:x,role:E,progress:T,rtl:S,toastId:A,deleteToast:C,isIn:P,isLoading:I,closeOnClick:R,theme:j,ariaLabel:O}=t,D=qe("Toastify__toast",`Toastify__toast-theme--${j}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":S},{"Toastify__toast--close-on-click":R}),N=Ao(g)?g({rtl:S,position:v,type:d,defaultClassName:D}):qe(D,g),U=WQ(t),K=!!T||!c,q={closeToast:h,type:d,theme:j},Y=null;return a===!1||(Ao(a)?Y=a(q):F.isValidElement(a)?Y=F.cloneElement(a,q):Y=wQ(q)),L.createElement(p,{isIn:P,done:C,position:v,preventExitTransition:n,nodeRef:r,playToast:o},L.createElement("div",{id:A,tabIndex:0,onClick:u,"data-in":P,className:N,...s,style:b,ref:r,...P&&{role:E,"aria-label":O}},U!=null&&L.createElement("div",{className:qe("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},U),N5(l,t,!e),Y,!t.customProgressBar&&L.createElement(_Q,{...x&&!K?{key:`p-${x}`}:{},rtl:S,theme:j,delay:c,isRunning:e,isIn:P,closeToast:h,hide:f,type:d,className:y,controlledProgress:K,progress:T||0})))},qQ=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),GQ=bQ(qQ("bounce",!0)),KQ={position:"top-right",transition:GQ,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function YQ(t){let e={...KQ,...t},n=t.stacked,[r,s]=F.useState(!0),o=F.useRef(null),{getToastToRender:a,isToastActive:l,count:c}=MQ(e),{className:u,style:d,rtl:f,containerId:h,hotKeys:p}=e;function v(b){let y=qe("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":f});return Ao(u)?u({position:b,rtl:f,defaultClassName:y}):qe(y,fT(u))}function g(){n&&(s(!0),Ye.play())}return LQ(()=>{var b;if(n){let y=o.current.querySelectorAll('[data-in="true"]'),x=12,E=(b=e.position)==null?void 0:b.includes("top"),T=0,S=0;Array.from(y).reverse().forEach((A,C)=>{let P=A;P.classList.add("Toastify__toast--stacked"),C>0&&(P.dataset.collapsed=`${r}`),P.dataset.pos||(P.dataset.pos=E?"top":"bot");let I=T*(r?.2:1)+(r?0:x*C);P.style.setProperty("--y",`${E?I:I*-1}px`),P.style.setProperty("--g",`${x}`),P.style.setProperty("--s",`${1-(r?S:0)}`),T+=P.offsetHeight,S+=.025})}},[r,c,n]),F.useEffect(()=>{function b(y){var x;let E=o.current;p(y)&&((x=E.querySelector('[tabIndex="0"]'))==null||x.focus(),s(!1),Ye.pause()),y.key==="Escape"&&(document.activeElement===E||E!=null&&E.contains(document.activeElement))&&(s(!0),Ye.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[p]),L.createElement("section",{ref:o,className:"Toastify",id:h,onMouseEnter:()=>{n&&(s(!1),Ye.pause())},onMouseLeave:g,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},a((b,y)=>{let x=y.length?{...d}:{...d,pointerEvents:"none"};return L.createElement("div",{tabIndex:-1,className:v(b),"data-stacked":n,style:x,key:`c-${b}`},y.map(({content:E,props:T})=>L.createElement(HQ,{...T,stacked:n,collapseAll:g,isIn:l(T.toastId,T.containerId),key:`t-${T.key}`},E)))}))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _e=function(t,e){if(!t)throw tf(e)},tf=function(t){return new Error("Firebase Database ("+$5.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},XQ=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],a=t[n++],l=t[n++],c=((s&7)<<18|(o&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|a&63)}}return e.join("")},nA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],a=s+1<t.length,l=a?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=o>>2,f=(o&3)<<4|l>>4;let h=(l&15)<<2|u>>6,p=u&63;c||(p=64,a||(h=64)),r.push(n[d],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(F5(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):XQ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||l==null||u==null||f==null)throw new QQ;const h=o<<2|l>>4;if(r.push(h),u!==64){const p=l<<4&240|u>>2;if(r.push(p),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class QQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V5=function(t){const e=F5(t);return nA.encodeByteArray(e,!0)},o0=function(t){return V5(t).replace(/\./g,"")},a0=function(t){try{return nA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZQ(t){return B5(void 0,t)}function B5(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!JQ(n)||(t[n]=B5(t[n],e[n]));return t}function JQ(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tZ=()=>eZ().__FIREBASE_DEFAULTS__,nZ=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rZ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&a0(t[1]);return e&&JSON.parse(e)},bw=()=>{try{return tZ()||nZ()||rZ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},U5=t=>{var e,n;return(n=(e=bw())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},iZ=t=>{const e=U5(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},z5=()=>{var t;return(t=bw())===null||t===void 0?void 0:t.config},W5=t=>{var e;return(e=bw())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[o0(JSON.stringify(n)),o0(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pr())}function sZ(){var t;const e=(t=bw())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oZ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function q5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aZ(){const t=pr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function G5(){return $5.NODE_ADMIN===!0}function lZ(){return!sZ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oA(){try{return typeof indexedDB=="object"}catch{return!1}}function aA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function K5(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cZ="FirebaseError";class ls extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=cZ,Object.setPrototypeOf(this,ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mc.prototype.create)}}class Mc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],a=o?uZ(o,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new ls(s,l,r)}}function uZ(t,e){return t.replace(dZ,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const dZ=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(t){return JSON.parse(t)}function Vn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5=function(t){let e={},n={},r={},s="";try{const o=t.split(".");e=kp(a0(o[0])||""),n=kp(a0(o[1])||""),s=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},fZ=function(t){const e=Y5(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},hZ=function(t){const e=Y5(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function od(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function gT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function l0(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function ad(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],a=e[s];if(R2(o)&&R2(a)){if(!ad(o,a))return!1}else if(o!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function R2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Eh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Th(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pZ{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const h=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(h<<1|h>>>31)&4294967295}let s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4],u,d;for(let f=0;f<80;f++){f<40?f<20?(u=l^o&(a^l),d=1518500249):(u=o^a^l,d=1859775393):f<60?(u=o&a|l&(o|a),d=2400959708):(u=o^a^l,d=3395469782);const h=(s<<5|s>>>27)+u+c+d+r[f]&4294967295;c=l,l=a,a=(o<<30|o>>>2)&4294967295,o=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const o=this.buf_;let a=this.inbuf_;for(;s<n;){if(a===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(o[a]=e.charCodeAt(s),++a,++s,a===this.blockSize){this.compress_(o),a=0;break}}else for(;s<n;)if(o[a]=e[s],++a,++s,a===this.blockSize){this.compress_(o),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[s]>>o&255,++r;return e}}function mZ(t,e){const n=new gZ(t,e);return n.subscribe.bind(n)}class gZ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vZ(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=qx),s.error===void 0&&(s.error=qx),s.complete===void 0&&(s.complete=qx);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vZ(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qx(){}function X5(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yZ=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const o=s-55296;r++,_e(r<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(r)-56320;s=65536+(o<<10)+a}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ww=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bZ=1e3,wZ=2,_Z=4*60*60*1e3,xZ=.5;function M2(t,e=bZ,n=wZ){const r=e*Math.pow(n,t),s=Math.round(xZ*r*(Math.random()-.5)*2);return Math.min(_Z,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t){return t&&t._delegate?t._delegate:t}class Di{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EZ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SZ(e))try{this.getOrInitializeService({instanceIdentifier:Sl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Sl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sl){return this.instances.has(e)}getOptions(e=Sl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&a.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const a=this.instances.get(s);return a&&e(a,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TZ(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Sl){return this.component?this.component.multipleInstances?e:Sl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TZ(t){return t===Sl?void 0:t}function SZ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new EZ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(et||(et={}));const PZ={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},AZ=et.INFO,IZ={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},OZ=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=IZ[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ig{constructor(e){this.name=e,this._logLevel=AZ,this._logHandler=OZ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PZ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const kZ=(t,e)=>e.some(n=>t instanceof n);let j2,L2;function NZ(){return j2||(j2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DZ(){return L2||(L2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q5=new WeakMap,vT=new WeakMap,Z5=new WeakMap,Gx=new WeakMap,lA=new WeakMap;function RZ(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Da(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Q5.set(n,t)}).catch(()=>{}),lA.set(e,t),e}function MZ(t){if(vT.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});vT.set(t,e)}let yT={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Z5.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Da(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jZ(t){yT=t(yT)}function LZ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Kx(this),e,...n);return Z5.set(r,e.sort?e.sort():[e]),Da(r)}:DZ().includes(t)?function(...e){return t.apply(Kx(this),e),Da(Q5.get(this))}:function(...e){return Da(t.apply(Kx(this),e))}}function $Z(t){return typeof t=="function"?LZ(t):(t instanceof IDBTransaction&&MZ(t),kZ(t,NZ())?new Proxy(t,yT):t)}function Da(t){if(t instanceof IDBRequest)return RZ(t);if(Gx.has(t))return Gx.get(t);const e=$Z(t);return e!==t&&(Gx.set(t,e),lA.set(e,t)),e}const Kx=t=>lA.get(t);function J5(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const a=indexedDB.open(t,e),l=Da(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Da(a.result),c.oldVersion,c.newVersion,Da(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const FZ=["get","getKey","getAll","getAllKeys","count"],VZ=["put","add","delete","clear"],Yx=new Map;function $2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yx.get(e))return Yx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=VZ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||FZ.includes(n)))return;const o=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return Yx.set(e,o),o}jZ(t=>({...t,get:(e,n,r)=>$2(e,n)||t.get(e,n,r),has:(e,n)=>!!$2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BZ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UZ(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function UZ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bT="@firebase/app",F2="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=new ig("@firebase/app"),zZ="@firebase/app-compat",WZ="@firebase/analytics-compat",HZ="@firebase/analytics",qZ="@firebase/app-check-compat",GZ="@firebase/app-check",KZ="@firebase/auth",YZ="@firebase/auth-compat",XZ="@firebase/database",QZ="@firebase/data-connect",ZZ="@firebase/database-compat",JZ="@firebase/functions",eJ="@firebase/functions-compat",tJ="@firebase/installations",nJ="@firebase/installations-compat",rJ="@firebase/messaging",iJ="@firebase/messaging-compat",sJ="@firebase/performance",oJ="@firebase/performance-compat",aJ="@firebase/remote-config",lJ="@firebase/remote-config-compat",cJ="@firebase/storage",uJ="@firebase/storage-compat",dJ="@firebase/firestore",fJ="@firebase/vertexai-preview",hJ="@firebase/firestore-compat",pJ="firebase",mJ="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="[DEFAULT]",gJ={[bT]:"fire-core",[zZ]:"fire-core-compat",[HZ]:"fire-analytics",[WZ]:"fire-analytics-compat",[GZ]:"fire-app-check",[qZ]:"fire-app-check-compat",[KZ]:"fire-auth",[YZ]:"fire-auth-compat",[XZ]:"fire-rtdb",[QZ]:"fire-data-connect",[ZZ]:"fire-rtdb-compat",[JZ]:"fire-fn",[eJ]:"fire-fn-compat",[tJ]:"fire-iid",[nJ]:"fire-iid-compat",[rJ]:"fire-fcm",[iJ]:"fire-fcm-compat",[sJ]:"fire-perf",[oJ]:"fire-perf-compat",[aJ]:"fire-rc",[lJ]:"fire-rc-compat",[cJ]:"fire-gcs",[uJ]:"fire-gcs-compat",[dJ]:"fire-fst",[hJ]:"fire-fst-compat",[fJ]:"fire-vertex","fire-js":"fire-js",[pJ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=new Map,vJ=new Map,_T=new Map;function V2(t,e){try{t.container.addComponent(e)}catch(n){Io.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function is(t){const e=t.name;if(_T.has(e))return Io.debug(`There were multiple attempts to register component ${e}.`),!1;_T.set(e,t);for(const n of c0.values())V2(n,t);for(const n of vJ.values())V2(n,t);return!0}function nl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function As(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yJ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ra=new Mc("app","Firebase",yJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bJ{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ra.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=mJ;function eB(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wT,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ra.create("bad-app-name",{appName:String(s)});if(n||(n=z5()),!n)throw Ra.create("no-options");const o=c0.get(s);if(o){if(ad(n,o.options)&&ad(r,o.config))return o;throw Ra.create("duplicate-app",{appName:s})}const a=new CZ(s);for(const c of _T.values())a.addComponent(c);const l=new bJ(n,r,a);return c0.set(s,l),l}function cA(t=wT){const e=c0.get(t);if(!e&&t===wT&&z5())return eB();if(!e)throw Ra.create("no-app",{appName:t});return e}function Vr(t,e,n){var r;let s=(r=gJ[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const l=[`Unable to register library "${s}" with version "${e}":`];o&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Io.warn(l.join(" "));return}is(new Di(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wJ="firebase-heartbeat-database",_J=1,Np="firebase-heartbeat-store";let Xx=null;function tB(){return Xx||(Xx=J5(wJ,_J,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Np)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ra.create("idb-open",{originalErrorMessage:t.message})})),Xx}async function xJ(t){try{const n=(await tB()).transaction(Np),r=await n.objectStore(Np).get(nB(t));return await n.done,r}catch(e){if(e instanceof ls)Io.warn(e.message);else{const n=Ra.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Io.warn(n.message)}}}async function B2(t,e){try{const r=(await tB()).transaction(Np,"readwrite");await r.objectStore(Np).put(e,nB(t)),await r.done}catch(n){if(n instanceof ls)Io.warn(n.message);else{const r=Ra.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Io.warn(r.message)}}}function nB(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EJ=1024,TJ=30*24*60*60*1e3;class SJ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PJ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=U2();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=TJ}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Io.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=U2(),{heartbeatsToSend:r,unsentEntries:s}=CJ(this._heartbeatsCache.heartbeats),o=o0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Io.warn(n),""}}}function U2(){return new Date().toISOString().substring(0,10)}function CJ(t,e=EJ){const n=[];let r=t.slice();for(const s of t){const o=n.find(a=>a.agent===s.agent);if(o){if(o.dates.push(s.date),z2(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),z2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class PJ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oA()?aA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xJ(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return B2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return B2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function z2(t){return o0(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AJ(t){is(new Di("platform-logger",e=>new BZ(e),"PRIVATE")),is(new Di("heartbeat",e=>new SJ(e),"PRIVATE")),Vr(bT,F2,t),Vr(bT,F2,"esm2017"),Vr("fire-js","")}AJ("");var IJ="firebase",OJ="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr(IJ,OJ,"app");function uA(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function rB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kJ=rB,iB=new Mc("auth","Firebase",rB());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=new ig("@firebase/auth");function NJ(t,...e){u0.logLevel<=et.WARN&&u0.warn(`Auth (${jc}): ${t}`,...e)}function vy(t,...e){u0.logLevel<=et.ERROR&&u0.error(`Auth (${jc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t,...e){throw dA(t,...e)}function Ns(t,...e){return dA(t,...e)}function sB(t,e,n){const r=Object.assign(Object.assign({},kJ()),{[e]:n});return new Mc("auth","Firebase",r).create(e,{appName:t.name})}function go(t){return sB(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dA(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return iB.create(t,...e)}function $e(t,e,...n){if(!t)throw dA(e,...n)}function ao(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vy(e),new Error(e)}function Oo(t,e){t||ao(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function DJ(){return W2()==="http:"||W2()==="https:"}function W2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RJ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DJ()||sA()||"connection"in navigator)?navigator.onLine:!0}function MJ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n){this.shortDelay=e,this.longDelay=n,Oo(n>e,"Short delay should be less than long delay!"),this.isMobile=iA()||q5()}get(){return RJ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(t,e){Oo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ao("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ao("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ao("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LJ=new sg(3e4,6e4);function rl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Wo(t,e,n,r,s={}){return aB(t,s,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const l=nf(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},o);return oZ()||(u.referrerPolicy="no-referrer"),oB.fetch()(lB(t,t.config.apiHost,n,l),u)})}async function aB(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},jJ),e);try{const s=new FJ(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Tv(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const l=o.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tv(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Tv(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Tv(t,"user-disabled",a);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw sB(t,d,u);ss(t,d)}}catch(s){if(s instanceof ls)throw s;ss(t,"network-request-failed",{message:String(s)})}}async function og(t,e,n,r,s={}){const o=await Wo(t,e,n,r,s);return"mfaPendingCredential"in o&&ss(t,"multi-factor-auth-required",{_serverResponse:o}),o}function lB(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?fA(t.config,s):`${t.config.apiScheme}://${s}`}function $J(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FJ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ns(this.auth,"network-request-failed")),LJ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tv(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ns(t,e,r);return s.customData._tokenResponse=n,s}function H2(t){return t!==void 0&&t.enterprise!==void 0}class VJ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $J(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function BJ(t,e){return Wo(t,"GET","/v2/recaptchaConfig",rl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UJ(t,e){return Wo(t,"POST","/v1/accounts:delete",e)}async function cB(t,e){return Wo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zJ(t,e=!1){const n=hn(t),r=await n.getIdToken(e),s=hA(r);$e(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Uh(Qx(s.auth_time)),issuedAtTime:Uh(Qx(s.iat)),expirationTime:Uh(Qx(s.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Qx(t){return Number(t)*1e3}function hA(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vy("JWT malformed, contained fewer than 3 sections"),null;try{const s=a0(n);return s?JSON.parse(s):(vy("Failed to decode base64 JWT payload"),null)}catch(s){return vy("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function q2(t){const e=hA(t);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ld(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ls&&WJ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function WJ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HJ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uh(this.lastLoginAt),this.creationTime=Uh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d0(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ld(t,cB(n,{idToken:r}));$e(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?uB(o.providerUserInfo):[],l=GJ(t.providerData,a),c=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new ET(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function qJ(t){const e=hn(t);await d0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GJ(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function uB(t){return t.map(e=>{var{providerId:n}=e,r=uA(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KJ(t,e){const n=await aB(t,{},async()=>{const r=nf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,a=lB(t,s,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",oB.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function YJ(t,e){return Wo(t,"POST","/v2/accounts:revokeToken",rl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):q2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){$e(e.length!==0,"internal-error");const n=q2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:($e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await KJ(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,a=new Bu;return r&&($e(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&($e(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),o&&($e(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bu,this.toJSON())}_performRefresh(){return ao("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(t,e){$e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class lo{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,o=uA(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ET(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ld(this,this.stsTokenManager.getToken(this.auth,e));return $e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zJ(this,e)}reload(){return qJ(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new lo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await d0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(As(this.auth.app))return Promise.reject(go(this.auth));const e=await this.getIdToken();return await ld(this,UJ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,o,a,l,c,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(s=n.email)!==null&&s!==void 0?s:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(a=n.photoURL)!==null&&a!==void 0?a:void 0,g=(l=n.tenantId)!==null&&l!==void 0?l:void 0,b=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,x=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:T,isAnonymous:S,providerData:A,stsTokenManager:C}=n;$e(E&&C,e,"internal-error");const P=Bu.fromJSON(this.name,C);$e(typeof E=="string",e,"internal-error"),oa(f,e.name),oa(h,e.name),$e(typeof T=="boolean",e,"internal-error"),$e(typeof S=="boolean",e,"internal-error"),oa(p,e.name),oa(v,e.name),oa(g,e.name),oa(b,e.name),oa(y,e.name),oa(x,e.name);const I=new lo({uid:E,auth:e,email:h,emailVerified:T,displayName:f,isAnonymous:S,photoURL:v,phoneNumber:p,tenantId:g,stsTokenManager:P,createdAt:y,lastLoginAt:x});return A&&Array.isArray(A)&&(I.providerData=A.map(R=>Object.assign({},R))),b&&(I._redirectEventId=b),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new Bu;s.updateFromServerResponse(n);const o=new lo({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await d0(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];$e(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?uB(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),l=new Bu;l.updateFromIdToken(r);const c=new lo({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ET(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=new Map;function co(t){Oo(t instanceof Function,"Expected a class definition");let e=G2.get(t);return e?(Oo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,G2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dB.type="NONE";const K2=dB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t,e,n){return`firebase:${t}:${e}:${n}`}class Uu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=yy(this.userKey,s.apiKey,o),this.fullPersistenceKey=yy("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?lo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Uu(co(K2),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=s[0]||co(K2);const a=yy(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(a);if(d){const f=lo._fromJSON(e,d);u!==o&&(l=f),o=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Uu(o,e,r):(o=c[0],l&&await o._set(a,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new Uu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vB(e))return"Blackberry";if(yB(e))return"Webos";if(hB(e))return"Safari";if((e.includes("chrome/")||pB(e))&&!e.includes("edge/"))return"Chrome";if(gB(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function fB(t=pr()){return/firefox\//i.test(t)}function hB(t=pr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pB(t=pr()){return/crios\//i.test(t)}function mB(t=pr()){return/iemobile/i.test(t)}function gB(t=pr()){return/android/i.test(t)}function vB(t=pr()){return/blackberry/i.test(t)}function yB(t=pr()){return/webos/i.test(t)}function pA(t=pr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function XJ(t=pr()){var e;return pA(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QJ(){return aZ()&&document.documentMode===10}function bB(t=pr()){return pA(t)||gB(t)||yB(t)||vB(t)||/windows phone/i.test(t)||mB(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(t,e=[]){let n;switch(t){case"Browser":n=Y2(pr());break;case"Worker":n=`${Y2(pr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${jc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZJ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,l)=>{try{const c=e(o);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JJ(t,e={}){return Wo(t,"GET","/v2/passwordPolicy",rl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eee=6;class tee{constructor(e){var n,r,s,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:eee,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,o,a,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nee{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X2(this),this.idTokenSubscription=new X2(this),this.beforeStateQueue=new ZJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=co(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Uu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cB(this,{idToken:e}),r=await lo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(As(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(s=c.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return $e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await d0(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MJ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(As(this.app))return Promise.reject(go(this));const n=e?hn(e):null;return n&&$e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&$e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return As(this.app)?Promise.reject(go(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return As(this.app)?Promise.reject(go(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(co(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JJ(this),n=new tee(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Mc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await YJ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&co(e)||this._popupRedirectResolver;$e(n,this,"argument-error"),this.redirectPersistenceManager=await Uu.create(this,[co(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if($e(l,this,"internal-error"),l.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&NJ(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Lc(t){return hn(t)}class X2{constructor(e){this.auth=e,this.observer=null,this.addObserver=mZ(n=>this.observer=n)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _w={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ree(t){_w=t}function _B(t){return _w.loadJS(t)}function iee(){return _w.recaptchaEnterpriseScript}function see(){return _w.gapiScript}function oee(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const aee="recaptcha-enterprise",lee="NO_RECAPTCHA";class cee{constructor(e){this.type=aee,this.auth=Lc(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,l)=>{BJ(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new VJ(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,a(u.siteKey)}}).catch(c=>{l(c)})})}function s(o,a,l){const c=window.grecaptcha;H2(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{a(u)}).catch(()=>{a(lee)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{r(this.auth).then(l=>{if(!n&&H2(window.grecaptcha))s(l,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=iee();c.length!==0&&(c+=l),_B(c).then(()=>{s(l,o,a)}).catch(u=>{a(u)})}}).catch(l=>{a(l)})})}}async function Q2(t,e,n,r=!1){const s=new cee(t);let o;try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function TT(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Q2(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Q2(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uee(t,e){const n=nl(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(ad(o,e??{}))return s;ss(s,"already-initialized")}return n.initialize({options:e})}function dee(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(co);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function fee(t,e,n){const r=Lc(t);$e(r._canInitEmulator,r,"emulator-config-failed"),$e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),o=xB(e),{host:a,port:l}=hee(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${o}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||pee()}function xB(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hee(t){const e=xB(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:Z2(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:Z2(a)}}}function Z2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function pee(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ao("not implemented")}_getIdTokenResponse(e){return ao("not implemented")}_linkToIdToken(e,n){return ao("not implemented")}_getReauthenticationResolver(e){return ao("not implemented")}}async function mee(t,e){return Wo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gee(t,e){return og(t,"POST","/v1/accounts:signInWithPassword",rl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vee(t,e){return og(t,"POST","/v1/accounts:signInWithEmailLink",rl(t,e))}async function yee(t,e){return og(t,"POST","/v1/accounts:signInWithEmailLink",rl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp extends mA{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Dp(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Dp(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return TT(e,n,"signInWithPassword",gee);case"emailLink":return vee(e,{email:this._email,oobCode:this._password});default:ss(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return TT(e,r,"signUpPassword",mee);case"emailLink":return yee(e,{idToken:n,email:this._email,oobCode:this._password});default:ss(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(t,e){return og(t,"POST","/v1/accounts:signInWithIdp",rl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bee="http://localhost";class uc extends mA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new uc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ss("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,o=uA(n,["providerId","signInMethod"]);if(!r||!s)return null;const a=new uc(r,s);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return zu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,zu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zu(e,n)}buildRequest(){const e={requestUri:bee,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wee(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _ee(t){const e=Eh(Th(t)).link,n=e?Eh(Th(e)).deep_link_id:null,r=Eh(Th(t)).deep_link_id;return(r?Eh(Th(r)).link:null)||r||n||e||t}class gA{constructor(e){var n,r,s,o,a,l;const c=Eh(Th(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,f=wee((s=c.mode)!==null&&s!==void 0?s:null);$e(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=c.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=_ee(e);try{return new gA(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(){this.providerId=rf.PROVIDER_ID}static credential(e,n){return Dp._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=gA.parseLink(n);return $e(r,"argument-error"),Dp._fromEmailAndCode(e,r.code,r.tenantId)}}rf.PROVIDER_ID="password";rf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag extends EB{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga extends ag{constructor(){super("facebook.com")}static credential(e){return uc._fromParams({providerId:ga.PROVIDER_ID,signInMethod:ga.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ga.credentialFromTaggedObject(e)}static credentialFromError(e){return ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ga.credential(e.oauthAccessToken)}catch{return null}}}ga.FACEBOOK_SIGN_IN_METHOD="facebook.com";ga.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va extends ag{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return uc._fromParams({providerId:va.PROVIDER_ID,signInMethod:va.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return va.credentialFromTaggedObject(e)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return va.credential(n,r)}catch{return null}}}va.GOOGLE_SIGN_IN_METHOD="google.com";va.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends ag{constructor(){super("github.com")}static credential(e){return uc._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ya.credential(e.oauthAccessToken)}catch{return null}}}ya.GITHUB_SIGN_IN_METHOD="github.com";ya.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba extends ag{constructor(){super("twitter.com")}static credential(e,n){return uc._fromParams({providerId:ba.PROVIDER_ID,signInMethod:ba.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ba.credentialFromTaggedObject(e)}static credentialFromError(e){return ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ba.credential(n,r)}catch{return null}}}ba.TWITTER_SIGN_IN_METHOD="twitter.com";ba.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xee(t,e){return og(t,"POST","/v1/accounts:signUp",rl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await lo._fromIdTokenResponse(e,r,s),a=J2(r);return new dc({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=J2(r);return new dc({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function J2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0 extends ls{constructor(e,n,r,s){var o;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,f0.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new f0(e,n,r,s)}}function TB(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?f0._fromErrorAndOperation(t,o,e,r):o})}async function Eee(t,e,n=!1){const r=await ld(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return dc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tee(t,e,n=!1){const{auth:r}=t;if(As(r.app))return Promise.reject(go(r));const s="reauthenticate";try{const o=await ld(t,TB(r,s,e,t),n);$e(o.idToken,r,"internal-error");const a=hA(o.idToken);$e(a,r,"internal-error");const{sub:l}=a;return $e(t.uid===l,r,"user-mismatch"),dc._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ss(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SB(t,e,n=!1){if(As(t.app))return Promise.reject(go(t));const r="signIn",s=await TB(t,r,e),o=await dc._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function See(t,e){return SB(Lc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CB(t){const e=Lc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Cee(t,e,n){if(As(t.app))return Promise.reject(go(t));const r=Lc(t),a=await TT(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xee).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&CB(t),c}),l=await dc._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function Pee(t,e,n){return As(t.app)?Promise.reject(go(t)):See(hn(t),rf.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&CB(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aee(t,e){return Wo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iee(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=hn(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await ld(r,Aee(r.auth,o));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oee(t,e){return hn(t).setPersistence(e)}function kee(t,e,n,r){return hn(t).onIdTokenChanged(e,n,r)}function Nee(t,e,n){return hn(t).beforeAuthStateChanged(e,n)}function Dee(t,e,n,r){return hn(t).onAuthStateChanged(e,n,r)}function Ree(t){return hn(t).signOut()}const h0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(h0,"1"),this.storage.removeItem(h0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mee=1e3,jee=10;class AB extends PB{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bB(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);QJ()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,jee):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Mee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}AB.type="LOCAL";const IB=AB;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB extends PB{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}OB.type="SESSION";const vA=OB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lee(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new xw(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async u=>u(n.origin,o)),c=await Lee(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xw.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ee{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const u=yA("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(h.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(){return window}function Fee(t){Ds().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kB(){return typeof Ds().WorkerGlobalScope<"u"&&typeof Ds().importScripts=="function"}async function Vee(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Bee(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Uee(){return kB()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB="firebaseLocalStorageDb",zee=1,p0="firebaseLocalStorage",DB="fbase_key";class lg{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ew(t,e){return t.transaction([p0],e?"readwrite":"readonly").objectStore(p0)}function Wee(){const t=indexedDB.deleteDatabase(NB);return new lg(t).toPromise()}function ST(){const t=indexedDB.open(NB,zee);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(p0,{keyPath:DB})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(p0)?e(r):(r.close(),await Wee(),e(await ST()))})})}async function eD(t,e,n){const r=Ew(t,!0).put({[DB]:e,value:n});return new lg(r).toPromise()}async function Hee(t,e){const n=Ew(t,!1).get(e),r=await new lg(n).toPromise();return r===void 0?null:r.value}function tD(t,e){const n=Ew(t,!0).delete(e);return new lg(n).toPromise()}const qee=800,Gee=3;class RB{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ST(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Gee)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kB()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xw._getInstance(Uee()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Vee(),!this.activeServiceWorker)return;this.sender=new $ee(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Bee()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ST();return await eD(e,h0,"1"),await tD(e,h0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>eD(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Hee(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tD(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Ew(s,!1).getAll();return new lg(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RB.type="LOCAL";const Kee=RB;new sg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yee(t,e){return e?co(e):($e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA extends mA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Xee(t){return SB(t.auth,new bA(t),t.bypassAuthState)}function Qee(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),Tee(n,new bA(t),t.bypassAuthState)}async function Zee(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),Eee(n,new bA(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Xee;case"linkViaPopup":case"linkViaRedirect":return Zee;case"reauthViaPopup":case"reauthViaRedirect":return Qee;default:ss(this.auth,"internal-error")}}resolve(e){Oo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jee=new sg(2e3,1e4);class Tu extends MB{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Tu.currentPopupAction&&Tu.currentPopupAction.cancel(),Tu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $e(e,this.auth,"internal-error"),e}async onExecution(){Oo(this.filter.length===1,"Popup operations only handle one event");const e=yA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ns(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ns(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Tu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ns(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Jee.get())};e()}}Tu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ete="pendingRedirect",by=new Map;class tte extends MB{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=by.get(this.auth._key());if(!e){try{const r=await nte(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}by.set(this.auth._key(),e)}return this.bypassAuthState||by.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nte(t,e){const n=ste(e),r=ite(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function rte(t,e){by.set(t._key(),e)}function ite(t){return co(t._redirectPersistence)}function ste(t){return yy(ete,t.config.apiKey,t.name)}async function ote(t,e,n=!1){if(As(t.app))return Promise.reject(go(t));const r=Lc(t),s=Yee(r,e),a=await new tte(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ate=10*60*1e3;class lte{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cte(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jB(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ns(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ate&&this.cachedEventUids.clear(),this.cachedEventUids.has(nD(e))}saveEventToCache(e){this.cachedEventUids.add(nD(e)),this.lastProcessedEventTime=Date.now()}}function nD(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jB({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cte(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jB(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ute(t,e={}){return Wo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dte=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fte=/^https?/;async function hte(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ute(t);for(const n of e)try{if(pte(n))return}catch{}ss(t,"unauthorized-domain")}function pte(t){const e=xT(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!fte.test(n))return!1;if(dte.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mte=new sg(3e4,6e4);function rD(){const t=Ds().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function gte(t){return new Promise((e,n)=>{var r,s,o;function a(){rD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rD(),n(Ns(t,"network-request-failed"))},timeout:mte.get()})}if(!((s=(r=Ds().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Ds().gapi)===null||o===void 0)&&o.load)a();else{const l=oee("iframefcb");return Ds()[l]=()=>{gapi.load?a():n(Ns(t,"network-request-failed"))},_B(`${see()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw wy=null,e})}let wy=null;function vte(t){return wy=wy||gte(t),wy}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yte=new sg(5e3,15e3),bte="__/auth/iframe",wte="emulator/auth/iframe",_te={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xte=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ete(t){const e=t.config;$e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fA(e,wte):`https://${t.config.authDomain}/${bte}`,r={apiKey:e.apiKey,appName:t.name,v:jc},s=xte.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${nf(r).slice(1)}`}async function Tte(t){const e=await vte(t),n=Ds().gapi;return $e(n,t,"internal-error"),e.open({where:document.body,url:Ete(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_te,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const a=Ns(t,"network-request-failed"),l=Ds().setTimeout(()=>{o(a)},yte.get());function c(){Ds().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ste={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Cte=500,Pte=600,Ate="_blank",Ite="http://localhost";class iD{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ote(t,e,n,r=Cte,s=Pte){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},Ste),{width:r.toString(),height:s.toString(),top:o,left:a}),u=pr().toLowerCase();n&&(l=pB(u)?Ate:n),fB(u)&&(e=e||Ite,c.scrollbars="yes");const d=Object.entries(c).reduce((h,[p,v])=>`${h}${p}=${v},`,"");if(XJ(u)&&l!=="_self")return kte(e||"",l),new iD(null);const f=window.open(e||"",l,d);$e(f,t,"popup-blocked");try{f.focus()}catch{}return new iD(f)}function kte(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nte="__/auth/handler",Dte="emulator/auth/handler",Rte=encodeURIComponent("fac");async function sD(t,e,n,r,s,o){$e(t.config.authDomain,t,"auth-domain-config-required"),$e(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:jc,eventId:s};if(e instanceof EB){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",gT(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(o||{}))a[d]=f}if(e instanceof ag){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${Rte}=${encodeURIComponent(c)}`:"";return`${Mte(t)}?${nf(l).slice(1)}${u}`}function Mte({config:t}){return t.emulator?fA(t,Dte):`https://${t.authDomain}/${Nte}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="webStorageSupport";class jte{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vA,this._completeRedirectFn=ote,this._overrideRedirectResult=rte}async _openPopup(e,n,r,s){var o;Oo((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await sD(e,n,r,xT(),s);return Ote(e,a,yA())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await sD(e,n,r,xT(),s);return Fee(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Oo(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Tte(e),r=new lte(e);return n.register("authEvent",s=>($e(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zx,{type:Zx},s=>{var o;const a=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[Zx];a!==void 0&&n(!!a),ss(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hte(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bB()||hB()||pA()}}const Lte=jte;var oD="@firebase/auth",aD="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $te{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fte(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Vte(t){is(new Di("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;$e(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wB(t)},u=new nee(r,s,o,c);return dee(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),is(new Di("auth-internal",e=>{const n=Lc(e.getProvider("auth").getImmediate());return(r=>new $te(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vr(oD,aD,Fte(t)),Vr(oD,aD,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bte=5*60,Ute=W5("authIdTokenMaxAge")||Bte;let lD=null;const zte=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Ute)return;const s=n==null?void 0:n.token;lD!==s&&(lD=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Wte(t=cA()){const e=nl(t,"auth");if(e.isInitialized())return e.getImmediate();const n=uee(t,{popupRedirectResolver:Lte,persistence:[Kee,IB,vA]}),r=W5("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=zte(o.toString());Nee(n,a,()=>a(n.currentUser)),kee(n,l=>a(l))}}const s=U5("auth");return s&&fee(n,`http://${s}`),n}function Hte(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ree({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=Ns("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",Hte().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Vte("Browser");var cD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kl,LB;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,P){function I(){}I.prototype=P.prototype,C.D=P.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(R,j,O){for(var D=Array(arguments.length-2),N=2;N<arguments.length;N++)D[N-2]=arguments[N];return P.prototype[j].apply(R,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,P,I){I||(I=0);var R=Array(16);if(typeof P=="string")for(var j=0;16>j;++j)R[j]=P.charCodeAt(I++)|P.charCodeAt(I++)<<8|P.charCodeAt(I++)<<16|P.charCodeAt(I++)<<24;else for(j=0;16>j;++j)R[j]=P[I++]|P[I++]<<8|P[I++]<<16|P[I++]<<24;P=C.g[0],I=C.g[1],j=C.g[2];var O=C.g[3],D=P+(O^I&(j^O))+R[0]+3614090360&4294967295;P=I+(D<<7&4294967295|D>>>25),D=O+(j^P&(I^j))+R[1]+3905402710&4294967295,O=P+(D<<12&4294967295|D>>>20),D=j+(I^O&(P^I))+R[2]+606105819&4294967295,j=O+(D<<17&4294967295|D>>>15),D=I+(P^j&(O^P))+R[3]+3250441966&4294967295,I=j+(D<<22&4294967295|D>>>10),D=P+(O^I&(j^O))+R[4]+4118548399&4294967295,P=I+(D<<7&4294967295|D>>>25),D=O+(j^P&(I^j))+R[5]+1200080426&4294967295,O=P+(D<<12&4294967295|D>>>20),D=j+(I^O&(P^I))+R[6]+2821735955&4294967295,j=O+(D<<17&4294967295|D>>>15),D=I+(P^j&(O^P))+R[7]+4249261313&4294967295,I=j+(D<<22&4294967295|D>>>10),D=P+(O^I&(j^O))+R[8]+1770035416&4294967295,P=I+(D<<7&4294967295|D>>>25),D=O+(j^P&(I^j))+R[9]+2336552879&4294967295,O=P+(D<<12&4294967295|D>>>20),D=j+(I^O&(P^I))+R[10]+4294925233&4294967295,j=O+(D<<17&4294967295|D>>>15),D=I+(P^j&(O^P))+R[11]+2304563134&4294967295,I=j+(D<<22&4294967295|D>>>10),D=P+(O^I&(j^O))+R[12]+1804603682&4294967295,P=I+(D<<7&4294967295|D>>>25),D=O+(j^P&(I^j))+R[13]+4254626195&4294967295,O=P+(D<<12&4294967295|D>>>20),D=j+(I^O&(P^I))+R[14]+2792965006&4294967295,j=O+(D<<17&4294967295|D>>>15),D=I+(P^j&(O^P))+R[15]+1236535329&4294967295,I=j+(D<<22&4294967295|D>>>10),D=P+(j^O&(I^j))+R[1]+4129170786&4294967295,P=I+(D<<5&4294967295|D>>>27),D=O+(I^j&(P^I))+R[6]+3225465664&4294967295,O=P+(D<<9&4294967295|D>>>23),D=j+(P^I&(O^P))+R[11]+643717713&4294967295,j=O+(D<<14&4294967295|D>>>18),D=I+(O^P&(j^O))+R[0]+3921069994&4294967295,I=j+(D<<20&4294967295|D>>>12),D=P+(j^O&(I^j))+R[5]+3593408605&4294967295,P=I+(D<<5&4294967295|D>>>27),D=O+(I^j&(P^I))+R[10]+38016083&4294967295,O=P+(D<<9&4294967295|D>>>23),D=j+(P^I&(O^P))+R[15]+3634488961&4294967295,j=O+(D<<14&4294967295|D>>>18),D=I+(O^P&(j^O))+R[4]+3889429448&4294967295,I=j+(D<<20&4294967295|D>>>12),D=P+(j^O&(I^j))+R[9]+568446438&4294967295,P=I+(D<<5&4294967295|D>>>27),D=O+(I^j&(P^I))+R[14]+3275163606&4294967295,O=P+(D<<9&4294967295|D>>>23),D=j+(P^I&(O^P))+R[3]+4107603335&4294967295,j=O+(D<<14&4294967295|D>>>18),D=I+(O^P&(j^O))+R[8]+1163531501&4294967295,I=j+(D<<20&4294967295|D>>>12),D=P+(j^O&(I^j))+R[13]+2850285829&4294967295,P=I+(D<<5&4294967295|D>>>27),D=O+(I^j&(P^I))+R[2]+4243563512&4294967295,O=P+(D<<9&4294967295|D>>>23),D=j+(P^I&(O^P))+R[7]+1735328473&4294967295,j=O+(D<<14&4294967295|D>>>18),D=I+(O^P&(j^O))+R[12]+2368359562&4294967295,I=j+(D<<20&4294967295|D>>>12),D=P+(I^j^O)+R[5]+4294588738&4294967295,P=I+(D<<4&4294967295|D>>>28),D=O+(P^I^j)+R[8]+2272392833&4294967295,O=P+(D<<11&4294967295|D>>>21),D=j+(O^P^I)+R[11]+1839030562&4294967295,j=O+(D<<16&4294967295|D>>>16),D=I+(j^O^P)+R[14]+4259657740&4294967295,I=j+(D<<23&4294967295|D>>>9),D=P+(I^j^O)+R[1]+2763975236&4294967295,P=I+(D<<4&4294967295|D>>>28),D=O+(P^I^j)+R[4]+1272893353&4294967295,O=P+(D<<11&4294967295|D>>>21),D=j+(O^P^I)+R[7]+4139469664&4294967295,j=O+(D<<16&4294967295|D>>>16),D=I+(j^O^P)+R[10]+3200236656&4294967295,I=j+(D<<23&4294967295|D>>>9),D=P+(I^j^O)+R[13]+681279174&4294967295,P=I+(D<<4&4294967295|D>>>28),D=O+(P^I^j)+R[0]+3936430074&4294967295,O=P+(D<<11&4294967295|D>>>21),D=j+(O^P^I)+R[3]+3572445317&4294967295,j=O+(D<<16&4294967295|D>>>16),D=I+(j^O^P)+R[6]+76029189&4294967295,I=j+(D<<23&4294967295|D>>>9),D=P+(I^j^O)+R[9]+3654602809&4294967295,P=I+(D<<4&4294967295|D>>>28),D=O+(P^I^j)+R[12]+3873151461&4294967295,O=P+(D<<11&4294967295|D>>>21),D=j+(O^P^I)+R[15]+530742520&4294967295,j=O+(D<<16&4294967295|D>>>16),D=I+(j^O^P)+R[2]+3299628645&4294967295,I=j+(D<<23&4294967295|D>>>9),D=P+(j^(I|~O))+R[0]+4096336452&4294967295,P=I+(D<<6&4294967295|D>>>26),D=O+(I^(P|~j))+R[7]+1126891415&4294967295,O=P+(D<<10&4294967295|D>>>22),D=j+(P^(O|~I))+R[14]+2878612391&4294967295,j=O+(D<<15&4294967295|D>>>17),D=I+(O^(j|~P))+R[5]+4237533241&4294967295,I=j+(D<<21&4294967295|D>>>11),D=P+(j^(I|~O))+R[12]+1700485571&4294967295,P=I+(D<<6&4294967295|D>>>26),D=O+(I^(P|~j))+R[3]+2399980690&4294967295,O=P+(D<<10&4294967295|D>>>22),D=j+(P^(O|~I))+R[10]+4293915773&4294967295,j=O+(D<<15&4294967295|D>>>17),D=I+(O^(j|~P))+R[1]+2240044497&4294967295,I=j+(D<<21&4294967295|D>>>11),D=P+(j^(I|~O))+R[8]+1873313359&4294967295,P=I+(D<<6&4294967295|D>>>26),D=O+(I^(P|~j))+R[15]+4264355552&4294967295,O=P+(D<<10&4294967295|D>>>22),D=j+(P^(O|~I))+R[6]+2734768916&4294967295,j=O+(D<<15&4294967295|D>>>17),D=I+(O^(j|~P))+R[13]+1309151649&4294967295,I=j+(D<<21&4294967295|D>>>11),D=P+(j^(I|~O))+R[4]+4149444226&4294967295,P=I+(D<<6&4294967295|D>>>26),D=O+(I^(P|~j))+R[11]+3174756917&4294967295,O=P+(D<<10&4294967295|D>>>22),D=j+(P^(O|~I))+R[2]+718787259&4294967295,j=O+(D<<15&4294967295|D>>>17),D=I+(O^(j|~P))+R[9]+3951481745&4294967295,C.g[0]=C.g[0]+P&4294967295,C.g[1]=C.g[1]+(j+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+j&4294967295,C.g[3]=C.g[3]+O&4294967295}r.prototype.u=function(C,P){P===void 0&&(P=C.length);for(var I=P-this.blockSize,R=this.B,j=this.h,O=0;O<P;){if(j==0)for(;O<=I;)s(this,C,O),O+=this.blockSize;if(typeof C=="string"){for(;O<P;)if(R[j++]=C.charCodeAt(O++),j==this.blockSize){s(this,R),j=0;break}}else for(;O<P;)if(R[j++]=C[O++],j==this.blockSize){s(this,R),j=0;break}}this.h=j,this.o+=P},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var P=1;P<C.length-8;++P)C[P]=0;var I=8*this.o;for(P=C.length-8;P<C.length;++P)C[P]=I&255,I/=256;for(this.u(C),C=Array(16),P=I=0;4>P;++P)for(var R=0;32>R;R+=8)C[I++]=this.g[P]>>>R&255;return C};function o(C,P){var I=l;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=P(C)}function a(C,P){this.h=P;for(var I=[],R=!0,j=C.length-1;0<=j;j--){var O=C[j]|0;R&&O==P||(I[j]=O,R=!1)}this.g=I}var l={};function c(C){return-128<=C&&128>C?o(C,function(P){return new a([P|0],0>P?-1:0)}):new a([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return b(u(-C));for(var P=[],I=1,R=0;C>=I;R++)P[R]=C/I|0,I*=4294967296;return new a(P,0)}function d(C,P){if(C.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(C.charAt(0)=="-")return b(d(C.substring(1),P));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(P,8)),R=f,j=0;j<C.length;j+=8){var O=Math.min(8,C.length-j),D=parseInt(C.substring(j,j+O),P);8>O?(O=u(Math.pow(P,O)),R=R.j(O).add(u(D))):(R=R.j(I),R=R.add(u(D)))}return R}var f=c(0),h=c(1),p=c(16777216);t=a.prototype,t.m=function(){if(g(this))return-b(this).m();for(var C=0,P=1,I=0;I<this.g.length;I++){var R=this.i(I);C+=(0<=R?R:4294967296+R)*P,P*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(v(this))return"0";if(g(this))return"-"+b(this).toString(C);for(var P=u(Math.pow(C,6)),I=this,R="";;){var j=T(I,P).g;I=y(I,j.j(P));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=j,v(I))return O+R;for(;6>O.length;)O="0"+O;R=O+R}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function v(C){if(C.h!=0)return!1;for(var P=0;P<C.g.length;P++)if(C.g[P]!=0)return!1;return!0}function g(C){return C.h==-1}t.l=function(C){return C=y(this,C),g(C)?-1:v(C)?0:1};function b(C){for(var P=C.g.length,I=[],R=0;R<P;R++)I[R]=~C.g[R];return new a(I,~C.h).add(h)}t.abs=function(){return g(this)?b(this):this},t.add=function(C){for(var P=Math.max(this.g.length,C.g.length),I=[],R=0,j=0;j<=P;j++){var O=R+(this.i(j)&65535)+(C.i(j)&65535),D=(O>>>16)+(this.i(j)>>>16)+(C.i(j)>>>16);R=D>>>16,O&=65535,D&=65535,I[j]=D<<16|O}return new a(I,I[I.length-1]&-2147483648?-1:0)};function y(C,P){return C.add(b(P))}t.j=function(C){if(v(this)||v(C))return f;if(g(this))return g(C)?b(this).j(b(C)):b(b(this).j(C));if(g(C))return b(this.j(b(C)));if(0>this.l(p)&&0>C.l(p))return u(this.m()*C.m());for(var P=this.g.length+C.g.length,I=[],R=0;R<2*P;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var j=0;j<C.g.length;j++){var O=this.i(R)>>>16,D=this.i(R)&65535,N=C.i(j)>>>16,U=C.i(j)&65535;I[2*R+2*j]+=D*U,x(I,2*R+2*j),I[2*R+2*j+1]+=O*U,x(I,2*R+2*j+1),I[2*R+2*j+1]+=D*N,x(I,2*R+2*j+1),I[2*R+2*j+2]+=O*N,x(I,2*R+2*j+2)}for(R=0;R<P;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=P;R<2*P;R++)I[R]=0;return new a(I,0)};function x(C,P){for(;(C[P]&65535)!=C[P];)C[P+1]+=C[P]>>>16,C[P]&=65535,P++}function E(C,P){this.g=C,this.h=P}function T(C,P){if(v(P))throw Error("division by zero");if(v(C))return new E(f,f);if(g(C))return P=T(b(C),P),new E(b(P.g),b(P.h));if(g(P))return P=T(C,b(P)),new E(b(P.g),P.h);if(30<C.g.length){if(g(C)||g(P))throw Error("slowDivide_ only works with positive integers.");for(var I=h,R=P;0>=R.l(C);)I=S(I),R=S(R);var j=A(I,1),O=A(R,1);for(R=A(R,2),I=A(I,2);!v(R);){var D=O.add(R);0>=D.l(C)&&(j=j.add(I),O=D),R=A(R,1),I=A(I,1)}return P=y(C,j.j(P)),new E(j,P)}for(j=f;0<=C.l(P);){for(I=Math.max(1,Math.floor(C.m()/P.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),O=u(I),D=O.j(P);g(D)||0<D.l(C);)I-=R,O=u(I),D=O.j(P);v(O)&&(O=h),j=j.add(O),C=y(C,D)}return new E(j,C)}t.A=function(C){return T(this,C).h},t.and=function(C){for(var P=Math.max(this.g.length,C.g.length),I=[],R=0;R<P;R++)I[R]=this.i(R)&C.i(R);return new a(I,this.h&C.h)},t.or=function(C){for(var P=Math.max(this.g.length,C.g.length),I=[],R=0;R<P;R++)I[R]=this.i(R)|C.i(R);return new a(I,this.h|C.h)},t.xor=function(C){for(var P=Math.max(this.g.length,C.g.length),I=[],R=0;R<P;R++)I[R]=this.i(R)^C.i(R);return new a(I,this.h^C.h)};function S(C){for(var P=C.g.length+1,I=[],R=0;R<P;R++)I[R]=C.i(R)<<1|C.i(R-1)>>>31;return new a(I,C.h)}function A(C,P){var I=P>>5;P%=32;for(var R=C.g.length-I,j=[],O=0;O<R;O++)j[O]=0<P?C.i(O+I)>>>P|C.i(O+I+1)<<32-P:C.i(O+I);return new a(j,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,LB=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,Kl=a}).apply(typeof cD<"u"?cD:typeof self<"u"?self:typeof window<"u"?window:{});var Sv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $B,Sh,FB,_y,CT,VB,BB,UB;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,k,$){return _==Array.prototype||_==Object.prototype||(_[k]=$.value),_};function n(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sv=="object"&&Sv];for(var k=0;k<_.length;++k){var $=_[k];if($&&$.Math==Math)return $}throw Error("Cannot find global object")}var r=n(this);function s(_,k){if(k)e:{var $=r;_=_.split(".");for(var B=0;B<_.length-1;B++){var ne=_[B];if(!(ne in $))break e;$=$[ne]}_=_[_.length-1],B=$[_],k=k(B),k!=B&&k!=null&&e($,_,{configurable:!0,writable:!0,value:k})}}function o(_,k){_ instanceof String&&(_+="");var $=0,B=!1,ne={next:function(){if(!B&&$<_.length){var le=$++;return{value:k(le,_[le]),done:!1}}return B=!0,{done:!0,value:void 0}}};return ne[Symbol.iterator]=function(){return ne},ne}s("Array.prototype.values",function(_){return _||function(){return o(this,function(k,$){return $})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(_){var k=typeof _;return k=k!="object"?k:_?Array.isArray(_)?"array":k:"null",k=="array"||k=="object"&&typeof _.length=="number"}function u(_){var k=typeof _;return k=="object"&&_!=null||k=="function"}function d(_,k,$){return _.call.apply(_.bind,arguments)}function f(_,k,$){if(!_)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var ne=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ne,B),_.apply(k,ne)}}return function(){return _.apply(k,arguments)}}function h(_,k,$){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function p(_,k){var $=Array.prototype.slice.call(arguments,1);return function(){var B=$.slice();return B.push.apply(B,arguments),_.apply(this,B)}}function v(_,k){function $(){}$.prototype=k.prototype,_.aa=k.prototype,_.prototype=new $,_.prototype.constructor=_,_.Qb=function(B,ne,le){for(var Ee=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)Ee[_t-2]=arguments[_t];return k.prototype[ne].apply(B,Ee)}}function g(_){const k=_.length;if(0<k){const $=Array(k);for(let B=0;B<k;B++)$[B]=_[B];return $}return[]}function b(_,k){for(let $=1;$<arguments.length;$++){const B=arguments[$];if(c(B)){const ne=_.length||0,le=B.length||0;_.length=ne+le;for(let Ee=0;Ee<le;Ee++)_[ne+Ee]=B[Ee]}else _.push(B)}}class y{constructor(k,$){this.i=k,this.j=$,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function x(_){return/^[\s\xa0]*$/.test(_)}function E(){var _=l.navigator;return _&&(_=_.userAgent)?_:""}function T(_){return T[" "](_),_}T[" "]=function(){};var S=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function A(_,k,$){for(const B in _)k.call($,_[B],B,_)}function C(_,k){for(const $ in _)k.call(void 0,_[$],$,_)}function P(_){const k={};for(const $ in _)k[$]=_[$];return k}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(_,k){let $,B;for(let ne=1;ne<arguments.length;ne++){B=arguments[ne];for($ in B)_[$]=B[$];for(let le=0;le<I.length;le++)$=I[le],Object.prototype.hasOwnProperty.call(B,$)&&(_[$]=B[$])}}function j(_){var k=1;_=_.split(":");const $=[];for(;0<k&&_.length;)$.push(_.shift()),k--;return _.length&&$.push(_.join(":")),$}function O(_){l.setTimeout(()=>{throw _},0)}function D(){var _=G;let k=null;return _.g&&(k=_.g,_.g=_.g.next,_.g||(_.h=null),k.next=null),k}class N{constructor(){this.h=this.g=null}add(k,$){const B=U.get();B.set(k,$),this.h?this.h.next=B:this.g=B,this.h=B}}var U=new y(()=>new K,_=>_.reset());class K{constructor(){this.next=this.g=this.h=null}set(k,$){this.h=k,this.g=$,this.next=null}reset(){this.next=this.g=this.h=null}}let q,Y=!1,G=new N,J=()=>{const _=l.Promise.resolve(void 0);q=()=>{_.then(H)}};var H=()=>{for(var _;_=D();){try{_.h.call(_.g)}catch($){O($)}var k=U;k.j(_),100>k.h&&(k.h++,_.next=k.g,k.g=_)}Y=!1};function V(){this.s=this.s,this.C=this.C}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(_,k){this.type=_,this.g=this.target=k,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var _=!1,k=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const $=()=>{};l.addEventListener("test",$,k),l.removeEventListener("test",$,k)}catch{}return _}();function oe(_,k){if(ee.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var $=this.type=_.type,B=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=k,k=_.relatedTarget){if(S){e:{try{T(k.nodeName);var ne=!0;break e}catch{}ne=!1}ne||(k=null)}}else $=="mouseover"?k=_.fromElement:$=="mouseout"&&(k=_.toElement);this.relatedTarget=k,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:xe[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&oe.aa.h.call(this)}}v(oe,ee);var xe={2:"touch",3:"pen",4:"mouse"};oe.prototype.h=function(){oe.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),ye=0;function ie(_,k,$,B,ne){this.listener=_,this.proxy=null,this.src=k,this.type=$,this.capture=!!B,this.ha=ne,this.key=++ye,this.da=this.fa=!1}function we(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function pe(_){this.src=_,this.g={},this.h=0}pe.prototype.add=function(_,k,$,B,ne){var le=_.toString();_=this.g[le],_||(_=this.g[le]=[],this.h++);var Ee=ae(_,k,B,ne);return-1<Ee?(k=_[Ee],$||(k.fa=!1)):(k=new ie(k,this.src,le,!!B,ne),k.fa=$,_.push(k)),k};function X(_,k){var $=k.type;if($ in _.g){var B=_.g[$],ne=Array.prototype.indexOf.call(B,k,void 0),le;(le=0<=ne)&&Array.prototype.splice.call(B,ne,1),le&&(we(k),_.g[$].length==0&&(delete _.g[$],_.h--))}}function ae(_,k,$,B){for(var ne=0;ne<_.length;++ne){var le=_[ne];if(!le.da&&le.listener==k&&le.capture==!!$&&le.ha==B)return ne}return-1}var M="closure_lm_"+(1e6*Math.random()|0),te={};function Z(_,k,$,B,ne){if(B&&B.once)return Q(_,k,$,B,ne);if(Array.isArray(k)){for(var le=0;le<k.length;le++)Z(_,k[le],$,B,ne);return null}return $=Oe($),_&&_[Se]?_.K(k,$,u(B)?!!B.capture:!!B,ne):z(_,k,$,!1,B,ne)}function z(_,k,$,B,ne,le){if(!k)throw Error("Invalid event type");var Ee=u(ne)?!!ne.capture:!!ne,_t=Te(_);if(_t||(_[M]=_t=new pe(_)),$=_t.add(k,$,B,Ee,le),$.proxy)return $;if(B=W(),$.proxy=B,B.src=_,B.listener=$,_.addEventListener)se||(ne=Ee),ne===void 0&&(ne=!1),_.addEventListener(k.toString(),B,ne);else if(_.attachEvent)_.attachEvent(re(k.toString()),B);else if(_.addListener&&_.removeListener)_.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return $}function W(){function _($){return k.call(_.src,_.listener,$)}const k=he;return _}function Q(_,k,$,B,ne){if(Array.isArray(k)){for(var le=0;le<k.length;le++)Q(_,k[le],$,B,ne);return null}return $=Oe($),_&&_[Se]?_.L(k,$,u(B)?!!B.capture:!!B,ne):z(_,k,$,!0,B,ne)}function ue(_,k,$,B,ne){if(Array.isArray(k))for(var le=0;le<k.length;le++)ue(_,k[le],$,B,ne);else B=u(B)?!!B.capture:!!B,$=Oe($),_&&_[Se]?(_=_.i,k=String(k).toString(),k in _.g&&(le=_.g[k],$=ae(le,$,B,ne),-1<$&&(we(le[$]),Array.prototype.splice.call(le,$,1),le.length==0&&(delete _.g[k],_.h--)))):_&&(_=Te(_))&&(k=_.g[k.toString()],_=-1,k&&(_=ae(k,$,B,ne)),($=-1<_?k[_]:null)&&de($))}function de(_){if(typeof _!="number"&&_&&!_.da){var k=_.src;if(k&&k[Se])X(k.i,_);else{var $=_.type,B=_.proxy;k.removeEventListener?k.removeEventListener($,B,_.capture):k.detachEvent?k.detachEvent(re($),B):k.addListener&&k.removeListener&&k.removeListener(B),($=Te(k))?(X($,_),$.h==0&&($.src=null,k[M]=null)):we(_)}}}function re(_){return _ in te?te[_]:te[_]="on"+_}function he(_,k){if(_.da)_=!0;else{k=new oe(k,this);var $=_.listener,B=_.ha||_.src;_.fa&&de(_),_=$.call(B,k)}return _}function Te(_){return _=_[M],_ instanceof pe?_:null}var ve="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oe(_){return typeof _=="function"?_:(_[ve]||(_[ve]=function(k){return _.handleEvent(k)}),_[ve])}function Le(){V.call(this),this.i=new pe(this),this.M=this,this.F=null}v(Le,V),Le.prototype[Se]=!0,Le.prototype.removeEventListener=function(_,k,$,B){ue(this,_,k,$,B)};function Ne(_,k){var $,B=_.F;if(B)for($=[];B;B=B.F)$.push(B);if(_=_.M,B=k.type||k,typeof k=="string")k=new ee(k,_);else if(k instanceof ee)k.target=k.target||_;else{var ne=k;k=new ee(B,_),R(k,ne)}if(ne=!0,$)for(var le=$.length-1;0<=le;le--){var Ee=k.g=$[le];ne=_n(Ee,B,!0,k)&&ne}if(Ee=k.g=_,ne=_n(Ee,B,!0,k)&&ne,ne=_n(Ee,B,!1,k)&&ne,$)for(le=0;le<$.length;le++)Ee=k.g=$[le],ne=_n(Ee,B,!1,k)&&ne}Le.prototype.N=function(){if(Le.aa.N.call(this),this.i){var _=this.i,k;for(k in _.g){for(var $=_.g[k],B=0;B<$.length;B++)we($[B]);delete _.g[k],_.h--}}this.F=null},Le.prototype.K=function(_,k,$,B){return this.i.add(String(_),k,!1,$,B)},Le.prototype.L=function(_,k,$,B){return this.i.add(String(_),k,!0,$,B)};function _n(_,k,$,B){if(k=_.i.g[String(k)],!k)return!0;k=k.concat();for(var ne=!0,le=0;le<k.length;++le){var Ee=k[le];if(Ee&&!Ee.da&&Ee.capture==$){var _t=Ee.listener,Wn=Ee.ha||Ee.src;Ee.fa&&X(_.i,Ee),ne=_t.call(Wn,B)!==!1&&ne}}return ne&&!B.defaultPrevented}function fs(_,k,$){if(typeof _=="function")$&&(_=h(_,$));else if(_&&typeof _.handleEvent=="function")_=h(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:l.setTimeout(_,k||0)}function yr(_){_.g=fs(()=>{_.g=null,_.i&&(_.i=!1,yr(_))},_.l);const k=_.h;_.h=null,_.m.apply(null,k)}class Gs extends V{constructor(k,$){super(),this.m=k,this.l=$,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:yr(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ht(_){V.call(this),this.h=_,this.g={}}v(ht,V);var Ks=[];function hs(_){A(_.g,function(k,$){this.g.hasOwnProperty($)&&de(k)},_),_.g={}}ht.prototype.N=function(){ht.aa.N.call(this),hs(this)},ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=l.JSON.stringify,ui=l.JSON.parse,Yo=class{stringify(_){return l.JSON.stringify(_,void 0)}parse(_){return l.JSON.parse(_,void 0)}};function Xo(){}Xo.prototype.h=null;function Gr(_){return _.h||(_.h=_.i())}function dl(){}var Ar={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ir(){ee.call(this,"d")}v(Ir,ee);function Kc(){ee.call(this,"c")}v(Kc,ee);var ps={},fl=null;function hl(){return fl=fl||new Le}ps.La="serverreachability";function Of(_){ee.call(this,ps.La,_)}v(Of,ee);function pl(_){const k=hl();Ne(k,new Of(k))}ps.STAT_EVENT="statevent";function Wg(_,k){ee.call(this,ps.STAT_EVENT,_),this.stat=k}v(Wg,ee);function Rn(_){const k=hl();Ne(k,new Wg(k,_))}ps.Ma="timingevent";function Hg(_,k){ee.call(this,ps.Ma,_),this.size=k}v(Hg,ee);function Qo(_,k){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){_()},k)}function Zo(){this.g=!0}Zo.prototype.xa=function(){this.g=!1};function Kr(_,k,$,B,ne,le){_.info(function(){if(_.g)if(le)for(var Ee="",_t=le.split("&"),Wn=0;Wn<_t.length;Wn++){var ot=_t[Wn].split("=");if(1<ot.length){var tr=ot[0];ot=ot[1];var nr=tr.split("_");Ee=2<=nr.length&&nr[1]=="type"?Ee+(tr+"="+ot+"&"):Ee+(tr+"=redacted&")}}else Ee=null;else Ee=le;return"XMLHTTP REQ ("+B+") [attempt "+ne+"]: "+k+`
`+$+`
`+Ee})}function Yc(_,k,$,B,ne,le,Ee){_.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+ne+"]: "+k+`
`+$+`
`+le+" "+Ee})}function Ys(_,k,$,B){_.info(function(){return"XMLHTTP TEXT ("+k+"): "+qg(_,$)+(B?" "+B:"")})}function Jo(_,k){_.info(function(){return"TIMEOUT: "+k})}Zo.prototype.info=function(){};function qg(_,k){if(!_.g)return k;if(!k)return null;try{var $=JSON.parse(k);if($){for(_=0;_<$.length;_++)if(Array.isArray($[_])){var B=$[_];if(!(2>B.length)){var ne=B[1];if(Array.isArray(ne)&&!(1>ne.length)){var le=ne[0];if(le!="noop"&&le!="stop"&&le!="close")for(var Ee=1;Ee<ne.length;Ee++)ne[Ee]=""}}}}return Dn($)}catch{return k}}var ea={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},kf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ta;function Xc(){}v(Xc,Xo),Xc.prototype.g=function(){return new XMLHttpRequest},Xc.prototype.i=function(){return{}},ta=new Xc;function Vi(_,k,$,B){this.j=_,this.i=k,this.l=$,this.R=B||1,this.U=new ht(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ml}function ml(){this.i=null,this.g="",this.h=!1}var Nf={},Yr={};function ms(_,k,$){_.L=1,_.v=Zg(br(k)),_.m=$,_.P=!0,Df(_,null)}function Df(_,k){_.F=Date.now(),gl(_),_.A=br(_.v);var $=_.A,B=_.R;Array.isArray(B)||(B=[String(B)]),Gk($.i,"t",B),_.C=0,$=_.j.J,_.h=new ml,_.g=dN(_.j,$?k:null,!_.m),0<_.O&&(_.M=new Gs(h(_.Y,_,_.g),_.O)),k=_.U,$=_.g,B=_.ca;var ne="readystatechange";Array.isArray(ne)||(ne&&(Ks[0]=ne.toString()),ne=Ks);for(var le=0;le<ne.length;le++){var Ee=Z($,ne[le],B||k.handleEvent,!1,k.h||k);if(!Ee)break;k.g[Ee.key]=Ee}k=_.H?P(_.H):{},_.m?(_.u||(_.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,k)):(_.u="GET",_.g.ea(_.A,_.u,null,k)),pl(),Kr(_.i,_.u,_.A,_.l,_.R,_.m)}Vi.prototype.ca=function(_){_=_.target;const k=this.M;k&&Qs(_)==3?k.j():this.Y(_)},Vi.prototype.Y=function(_){try{if(_==this.g)e:{const nr=Qs(this.g);var k=this.g.Ba();const Jc=this.g.Z();if(!(3>nr)&&(nr!=3||this.g&&(this.h.h||this.g.oa()||eN(this.g)))){this.J||nr!=4||k==7||(k==8||0>=Jc?pl(3):pl(2)),Xs(this);var $=this.g.Z();this.X=$;t:if(di(this)){var B=eN(this.g);_="";var ne=B.length,le=Qs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gs(this),na(this);var Ee="";break t}this.h.i=new l.TextDecoder}for(k=0;k<ne;k++)this.h.h=!0,_+=this.h.i.decode(B[k],{stream:!(le&&k==ne-1)});B.length=0,this.h.g+=_,this.C=0,Ee=this.h.g}else Ee=this.g.oa();if(this.o=$==200,Yc(this.i,this.u,this.A,this.l,this.R,nr,$),this.o){if(this.T&&!this.K){t:{if(this.g){var _t,Wn=this.g;if((_t=Wn.g?Wn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(_t)){var ot=_t;break t}}ot=null}if($=ot)Ys(this.i,this.l,$,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vs(this,$);else{this.o=!1,this.s=3,Rn(12),gs(this),na(this);break e}}if(this.P){$=!0;let Ui;for(;!this.J&&this.C<Ee.length;)if(Ui=Rf(this,Ee),Ui==Yr){nr==4&&(this.s=4,Rn(14),$=!1),Ys(this.i,this.l,null,"[Incomplete Response]");break}else if(Ui==Nf){this.s=4,Rn(15),Ys(this.i,this.l,Ee,"[Invalid Chunk]"),$=!1;break}else Ys(this.i,this.l,Ui,null),vs(this,Ui);if(di(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nr!=4||Ee.length!=0||this.h.h||(this.s=1,Rn(16),$=!1),this.o=this.o&&$,!$)Ys(this.i,this.l,Ee,"[Invalid Chunked Response]"),gs(this),na(this);else if(0<Ee.length&&!this.W){this.W=!0;var tr=this.j;tr.g==this&&tr.ba&&!tr.M&&(tr.j.info("Great, no buffering proxy detected. Bytes received: "+Ee.length),vx(tr),tr.M=!0,Rn(11))}}else Ys(this.i,this.l,Ee,null),vs(this,Ee);nr==4&&gs(this),this.o&&!this.J&&(nr==4?aN(this.j,this):(this.o=!1,gl(this)))}else jG(this.g),$==400&&0<Ee.indexOf("Unknown SID")?(this.s=3,Rn(12)):(this.s=0,Rn(13)),gs(this),na(this)}}}catch{}finally{}};function di(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function Rf(_,k){var $=_.C,B=k.indexOf(`
`,$);return B==-1?Yr:($=Number(k.substring($,B)),isNaN($)?Nf:(B+=1,B+$>k.length?Yr:(k=k.slice(B,B+$),_.C=B+$,k)))}Vi.prototype.cancel=function(){this.J=!0,gs(this)};function gl(_){_.S=Date.now()+_.I,fi(_,_.I)}function fi(_,k){if(_.B!=null)throw Error("WatchDog timer not null");_.B=Qo(h(_.ba,_),k)}function Xs(_){_.B&&(l.clearTimeout(_.B),_.B=null)}Vi.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(Jo(this.i,this.A),this.L!=2&&(pl(),Rn(17)),gs(this),this.s=2,na(this)):fi(this,this.S-_)};function na(_){_.j.G==0||_.J||aN(_.j,_)}function gs(_){Xs(_);var k=_.M;k&&typeof k.ma=="function"&&k.ma(),_.M=null,hs(_.U),_.g&&(k=_.g,_.g=null,k.abort(),k.ma())}function vs(_,k){try{var $=_.j;if($.G!=0&&($.g==_||jf($.h,_))){if(!_.K&&jf($.h,_)&&$.G==3){try{var B=$.Da.g.parse(k)}catch{B=null}if(Array.isArray(B)&&B.length==3){var ne=B;if(ne[0]==0){e:if(!$.u){if($.g)if($.g.F+3e3<_.F)iv($),nv($);else break e;gx($),Rn(18)}}else $.za=ne[1],0<$.za-$.T&&37500>ne[2]&&$.F&&$.v==0&&!$.C&&($.C=Qo(h($.Za,$),6e3));if(1>=Mf($.h)&&$.ca){try{$.ca()}catch{}$.ca=void 0}}else vl($,11)}else if((_.K||$.g==_)&&iv($),!x(k))for(ne=$.Da.g.parse(k),k=0;k<ne.length;k++){let ot=ne[k];if($.T=ot[0],ot=ot[1],$.G==2)if(ot[0]=="c"){$.K=ot[1],$.ia=ot[2];const tr=ot[3];tr!=null&&($.la=tr,$.j.info("VER="+$.la));const nr=ot[4];nr!=null&&($.Aa=nr,$.j.info("SVER="+$.Aa));const Jc=ot[5];Jc!=null&&typeof Jc=="number"&&0<Jc&&(B=1.5*Jc,$.L=B,$.j.info("backChannelRequestTimeoutMs_="+B)),B=$;const Ui=_.g;if(Ui){const ov=Ui.g?Ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ov){var le=B.h;le.g||ov.indexOf("spdy")==-1&&ov.indexOf("quic")==-1&&ov.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(Lf(le,le.h),le.h=null))}if(B.D){const yx=Ui.g?Ui.g.getResponseHeader("X-HTTP-Session-Id"):null;yx&&(B.ya=yx,Rt(B.I,B.D,yx))}}$.G=3,$.l&&$.l.ua(),$.ba&&($.R=Date.now()-_.F,$.j.info("Handshake RTT: "+$.R+"ms")),B=$;var Ee=_;if(B.qa=uN(B,B.J?B.ia:null,B.W),Ee.K){Yg(B.h,Ee);var _t=Ee,Wn=B.L;Wn&&(_t.I=Wn),_t.B&&(Xs(_t),gl(_t)),B.g=Ee}else sN(B);0<$.i.length&&rv($)}else ot[0]!="stop"&&ot[0]!="close"||vl($,7);else $.G==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?vl($,7):mx($):ot[0]!="noop"&&$.l&&$.l.ta(ot),$.v=0)}}pl(4)}catch{}}var fx=class{constructor(_,k){this.g=_,this.map=k}};function Gg(_){this.l=_||10,l.PerformanceNavigationTiming?(_=l.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Kg(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function Mf(_){return _.h?1:_.g?_.g.size:0}function jf(_,k){return _.h?_.h==k:_.g?_.g.has(k):!1}function Lf(_,k){_.g?_.g.add(k):_.h=k}function Yg(_,k){_.h&&_.h==k?_.h=null:_.g&&_.g.has(k)&&_.g.delete(k)}Gg.prototype.cancel=function(){if(this.i=Xg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function Xg(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let k=_.i;for(const $ of _.g.values())k=k.concat($.D);return k}return g(_.i)}function hx(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(c(_)){for(var k=[],$=_.length,B=0;B<$;B++)k.push(_[B]);return k}k=[],$=0;for(B in _)k[$++]=_[B];return k}function Je(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(c(_)||typeof _=="string"){var k=[];_=_.length;for(var $=0;$<_;$++)k.push($);return k}k=[],$=0;for(const B in _)k[$++]=B;return k}}}function rt(_,k){if(_.forEach&&typeof _.forEach=="function")_.forEach(k,void 0);else if(c(_)||typeof _=="string")Array.prototype.forEach.call(_,k,void 0);else for(var $=Je(_),B=hx(_),ne=B.length,le=0;le<ne;le++)k.call(void 0,B[le],$&&$[le],_)}var dt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bt(_,k){if(_){_=_.split("&");for(var $=0;$<_.length;$++){var B=_[$].indexOf("="),ne=null;if(0<=B){var le=_[$].substring(0,B);ne=_[$].substring(B+1)}else le=_[$];k(le,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function ft(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof ft){this.h=_.h,Bi(this,_.j),this.o=_.o,this.g=_.g,Qg(this,_.s),this.l=_.l;var k=_.i,$=new Vf;$.i=k.i,k.g&&($.g=new Map(k.g),$.h=k.h),zk(this,$),this.m=_.m}else _&&(k=String(_).match(dt))?(this.h=!1,Bi(this,k[1]||"",!0),this.o=$f(k[2]||""),this.g=$f(k[3]||"",!0),Qg(this,k[4]),this.l=$f(k[5]||"",!0),zk(this,k[6]||"",!0),this.m=$f(k[7]||"")):(this.h=!1,this.i=new Vf(null,this.h))}ft.prototype.toString=function(){var _=[],k=this.j;k&&_.push(Ff(k,Wk,!0),":");var $=this.g;return($||k=="file")&&(_.push("//"),(k=this.o)&&_.push(Ff(k,Wk,!0),"@"),_.push(encodeURIComponent(String($)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),$=this.s,$!=null&&_.push(":",String($))),($=this.l)&&(this.g&&$.charAt(0)!="/"&&_.push("/"),_.push(Ff($,$.charAt(0)=="/"?CG:SG,!0))),($=this.i.toString())&&_.push("?",$),($=this.m)&&_.push("#",Ff($,AG)),_.join("")};function br(_){return new ft(_)}function Bi(_,k,$){_.j=$?$f(k,!0):k,_.j&&(_.j=_.j.replace(/:$/,""))}function Qg(_,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);_.s=k}else _.s=null}function zk(_,k,$){k instanceof Vf?(_.i=k,IG(_.i,_.h)):($||(k=Ff(k,PG)),_.i=new Vf(k,_.h))}function Rt(_,k,$){_.i.set(k,$)}function Zg(_){return Rt(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function $f(_,k){return _?k?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function Ff(_,k,$){return typeof _=="string"?(_=encodeURI(_).replace(k,TG),$&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function TG(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var Wk=/[#\/\?@]/g,SG=/[#\?:]/g,CG=/[#\?]/g,PG=/[#\?@]/g,AG=/#/g;function Vf(_,k){this.h=this.g=null,this.i=_||null,this.j=!!k}function ra(_){_.g||(_.g=new Map,_.h=0,_.i&&bt(_.i,function(k,$){_.add(decodeURIComponent(k.replace(/\+/g," ")),$)}))}t=Vf.prototype,t.add=function(_,k){ra(this),this.i=null,_=Qc(this,_);var $=this.g.get(_);return $||this.g.set(_,$=[]),$.push(k),this.h+=1,this};function Hk(_,k){ra(_),k=Qc(_,k),_.g.has(k)&&(_.i=null,_.h-=_.g.get(k).length,_.g.delete(k))}function qk(_,k){return ra(_),k=Qc(_,k),_.g.has(k)}t.forEach=function(_,k){ra(this),this.g.forEach(function($,B){$.forEach(function(ne){_.call(k,ne,B,this)},this)},this)},t.na=function(){ra(this);const _=Array.from(this.g.values()),k=Array.from(this.g.keys()),$=[];for(let B=0;B<k.length;B++){const ne=_[B];for(let le=0;le<ne.length;le++)$.push(k[B])}return $},t.V=function(_){ra(this);let k=[];if(typeof _=="string")qk(this,_)&&(k=k.concat(this.g.get(Qc(this,_))));else{_=Array.from(this.g.values());for(let $=0;$<_.length;$++)k=k.concat(_[$])}return k},t.set=function(_,k){return ra(this),this.i=null,_=Qc(this,_),qk(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[k]),this.h+=1,this},t.get=function(_,k){return _?(_=this.V(_),0<_.length?String(_[0]):k):k};function Gk(_,k,$){Hk(_,k),0<$.length&&(_.i=null,_.g.set(Qc(_,k),g($)),_.h+=$.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],k=Array.from(this.g.keys());for(var $=0;$<k.length;$++){var B=k[$];const le=encodeURIComponent(String(B)),Ee=this.V(B);for(B=0;B<Ee.length;B++){var ne=le;Ee[B]!==""&&(ne+="="+encodeURIComponent(String(Ee[B]))),_.push(ne)}}return this.i=_.join("&")};function Qc(_,k){return k=String(k),_.j&&(k=k.toLowerCase()),k}function IG(_,k){k&&!_.j&&(ra(_),_.i=null,_.g.forEach(function($,B){var ne=B.toLowerCase();B!=ne&&(Hk(this,B),Gk(this,ne,$))},_)),_.j=k}function OG(_,k){const $=new Zo;if(l.Image){const B=new Image;B.onload=p(ia,$,"TestLoadImage: loaded",!0,k,B),B.onerror=p(ia,$,"TestLoadImage: error",!1,k,B),B.onabort=p(ia,$,"TestLoadImage: abort",!1,k,B),B.ontimeout=p(ia,$,"TestLoadImage: timeout",!1,k,B),l.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=_}else k(!1)}function kG(_,k){const $=new Zo,B=new AbortController,ne=setTimeout(()=>{B.abort(),ia($,"TestPingServer: timeout",!1,k)},1e4);fetch(_,{signal:B.signal}).then(le=>{clearTimeout(ne),le.ok?ia($,"TestPingServer: ok",!0,k):ia($,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(ne),ia($,"TestPingServer: error",!1,k)})}function ia(_,k,$,B,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),B($)}catch{}}function NG(){this.g=new Yo}function DG(_,k,$){const B=$||"";try{rt(_,function(ne,le){let Ee=ne;u(ne)&&(Ee=Dn(ne)),k.push(B+le+"="+encodeURIComponent(Ee))})}catch(ne){throw k.push(B+"type="+encodeURIComponent("_badmap")),ne}}function Jg(_){this.l=_.Ub||null,this.j=_.eb||!1}v(Jg,Xo),Jg.prototype.g=function(){return new ev(this.l,this.j)},Jg.prototype.i=function(_){return function(){return _}}({});function ev(_,k){Le.call(this),this.D=_,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(ev,Le),t=ev.prototype,t.open=function(_,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=k,this.readyState=1,Uf(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(k.body=_),(this.D||l).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bf(this)),this.readyState=0},t.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,Uf(this)),this.g&&(this.readyState=3,Uf(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Kk(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function Kk(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}t.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var k=_.value?_.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!_.done}))&&(this.response=this.responseText+=k)}_.done?Bf(this):Uf(this),this.readyState==3&&Kk(this)}},t.Ra=function(_){this.g&&(this.response=this.responseText=_,Bf(this))},t.Qa=function(_){this.g&&(this.response=_,Bf(this))},t.ga=function(){this.g&&Bf(this)};function Bf(_){_.readyState=4,_.l=null,_.j=null,_.v=null,Uf(_)}t.setRequestHeader=function(_,k){this.u.append(_,k)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],k=this.h.entries();for(var $=k.next();!$.done;)$=$.value,_.push($[0]+": "+$[1]),$=k.next();return _.join(`\r
`)};function Uf(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(ev.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function Yk(_){let k="";return A(_,function($,B){k+=B,k+=":",k+=$,k+=`\r
`}),k}function px(_,k,$){e:{for(B in $){var B=!1;break e}B=!0}B||($=Yk($),typeof _=="string"?$!=null&&encodeURIComponent(String($)):Rt(_,k,$))}function Yt(_){Le.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Yt,Le);var RG=/^https?$/i,MG=["POST","PUT"];t=Yt.prototype,t.Ha=function(_){this.J=_},t.ea=function(_,k,$,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);k=k?k.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ta.g(),this.v=this.o?Gr(this.o):Gr(ta),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(k,String(_),!0),this.B=!1}catch(le){Xk(this,le);return}if(_=$||"",$=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var ne in B)$.set(ne,B[ne]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const le of B.keys())$.set(le,B.get(le));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from($.keys()).find(le=>le.toLowerCase()=="content-type"),ne=l.FormData&&_ instanceof l.FormData,!(0<=Array.prototype.indexOf.call(MG,k,void 0))||B||ne||$.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,Ee]of $)this.g.setRequestHeader(le,Ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jk(this),this.u=!0,this.g.send(_),this.u=!1}catch(le){Xk(this,le)}};function Xk(_,k){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=k,_.m=5,Qk(_),tv(_)}function Qk(_){_.A||(_.A=!0,Ne(_,"complete"),Ne(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,Ne(this,"complete"),Ne(this,"abort"),tv(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tv(this,!0)),Yt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Zk(this):this.bb())},t.bb=function(){Zk(this)};function Zk(_){if(_.h&&typeof a<"u"&&(!_.v[1]||Qs(_)!=4||_.Z()!=2)){if(_.u&&Qs(_)==4)fs(_.Ea,0,_);else if(Ne(_,"readystatechange"),Qs(_)==4){_.h=!1;try{const Ee=_.Z();e:switch(Ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var $;if(!($=k)){var B;if(B=Ee===0){var ne=String(_.D).match(dt)[1]||null;!ne&&l.self&&l.self.location&&(ne=l.self.location.protocol.slice(0,-1)),B=!RG.test(ne?ne.toLowerCase():"")}$=B}if($)Ne(_,"complete"),Ne(_,"success");else{_.m=6;try{var le=2<Qs(_)?_.g.statusText:""}catch{le=""}_.l=le+" ["+_.Z()+"]",Qk(_)}}finally{tv(_)}}}}function tv(_,k){if(_.g){Jk(_);const $=_.g,B=_.v[0]?()=>{}:null;_.g=null,_.v=null,k||Ne(_,"ready");try{$.onreadystatechange=B}catch{}}}function Jk(_){_.I&&(l.clearTimeout(_.I),_.I=null)}t.isActive=function(){return!!this.g};function Qs(_){return _.g?_.g.readyState:0}t.Z=function(){try{return 2<Qs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(_){if(this.g){var k=this.g.responseText;return _&&k.indexOf(_)==0&&(k=k.substring(_.length)),ui(k)}};function eN(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function jG(_){const k={};_=(_.g&&2<=Qs(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<_.length;B++){if(x(_[B]))continue;var $=j(_[B]);const ne=$[0];if($=$[1],typeof $!="string")continue;$=$.trim();const le=k[ne]||[];k[ne]=le,le.push($)}C(k,function(B){return B.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zf(_,k,$){return $&&$.internalChannelParams&&$.internalChannelParams[_]||k}function tN(_){this.Aa=0,this.i=[],this.j=new Zo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zf("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zf("baseRetryDelayMs",5e3,_),this.cb=zf("retryDelaySeedMs",1e4,_),this.Wa=zf("forwardChannelMaxRetries",2,_),this.wa=zf("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new Gg(_&&_.concurrentRequestLimit),this.Da=new NG,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=tN.prototype,t.la=8,t.G=1,t.connect=function(_,k,$,B){Rn(0),this.W=_,this.H=k||{},$&&B!==void 0&&(this.H.OSID=$,this.H.OAID=B),this.F=this.X,this.I=uN(this,null,this.W),rv(this)};function mx(_){if(nN(_),_.G==3){var k=_.U++,$=br(_.I);if(Rt($,"SID",_.K),Rt($,"RID",k),Rt($,"TYPE","terminate"),Wf(_,$),k=new Vi(_,_.j,k),k.L=2,k.v=Zg(br($)),$=!1,l.navigator&&l.navigator.sendBeacon)try{$=l.navigator.sendBeacon(k.v.toString(),"")}catch{}!$&&l.Image&&(new Image().src=k.v,$=!0),$||(k.g=dN(k.j,null),k.g.ea(k.v)),k.F=Date.now(),gl(k)}cN(_)}function nv(_){_.g&&(vx(_),_.g.cancel(),_.g=null)}function nN(_){nv(_),_.u&&(l.clearTimeout(_.u),_.u=null),iv(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&l.clearTimeout(_.s),_.s=null)}function rv(_){if(!Kg(_.h)&&!_.s){_.s=!0;var k=_.Ga;q||J(),Y||(q(),Y=!0),G.add(k,_),_.B=0}}function LG(_,k){return Mf(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=k.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=Qo(h(_.Ga,_,k),lN(_,_.B)),_.B++,!0)}t.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const ne=new Vi(this,this.j,_);let le=this.o;if(this.S&&(le?(le=P(le),R(le,this.S)):le=this.S),this.m!==null||this.O||(ne.H=le,le=null),this.P)e:{for(var k=0,$=0;$<this.i.length;$++){t:{var B=this.i[$];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(k+=B,4096<k){k=$;break e}if(k===4096||$===this.i.length-1){k=$+1;break e}}k=1e3}else k=1e3;k=iN(this,ne,k),$=br(this.I),Rt($,"RID",_),Rt($,"CVER",22),this.D&&Rt($,"X-HTTP-Session-Id",this.D),Wf(this,$),le&&(this.O?k="headers="+encodeURIComponent(String(Yk(le)))+"&"+k:this.m&&px($,this.m,le)),Lf(this.h,ne),this.Ua&&Rt($,"TYPE","init"),this.P?(Rt($,"$req",k),Rt($,"SID","null"),ne.T=!0,ms(ne,$,null)):ms(ne,$,k),this.G=2}}else this.G==3&&(_?rN(this,_):this.i.length==0||Kg(this.h)||rN(this))};function rN(_,k){var $;k?$=k.l:$=_.U++;const B=br(_.I);Rt(B,"SID",_.K),Rt(B,"RID",$),Rt(B,"AID",_.T),Wf(_,B),_.m&&_.o&&px(B,_.m,_.o),$=new Vi(_,_.j,$,_.B+1),_.m===null&&($.H=_.o),k&&(_.i=k.D.concat(_.i)),k=iN(_,$,1e3),$.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),Lf(_.h,$),ms($,B,k)}function Wf(_,k){_.H&&A(_.H,function($,B){Rt(k,B,$)}),_.l&&rt({},function($,B){Rt(k,B,$)})}function iN(_,k,$){$=Math.min(_.i.length,$);var B=_.l?h(_.l.Na,_.l,_):null;e:{var ne=_.i;let le=-1;for(;;){const Ee=["count="+$];le==-1?0<$?(le=ne[0].g,Ee.push("ofs="+le)):le=0:Ee.push("ofs="+le);let _t=!0;for(let Wn=0;Wn<$;Wn++){let ot=ne[Wn].g;const tr=ne[Wn].map;if(ot-=le,0>ot)le=Math.max(0,ne[Wn].g-100),_t=!1;else try{DG(tr,Ee,"req"+ot+"_")}catch{B&&B(tr)}}if(_t){B=Ee.join("&");break e}}}return _=_.i.splice(0,$),k.D=_,B}function sN(_){if(!_.g&&!_.u){_.Y=1;var k=_.Fa;q||J(),Y||(q(),Y=!0),G.add(k,_),_.v=0}}function gx(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=Qo(h(_.Fa,_),lN(_,_.v)),_.v++,!0)}t.Fa=function(){if(this.u=null,oN(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=Qo(h(this.ab,this),_)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rn(10),nv(this),oN(this))};function vx(_){_.A!=null&&(l.clearTimeout(_.A),_.A=null)}function oN(_){_.g=new Vi(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var k=br(_.qa);Rt(k,"RID","rpc"),Rt(k,"SID",_.K),Rt(k,"AID",_.T),Rt(k,"CI",_.F?"0":"1"),!_.F&&_.ja&&Rt(k,"TO",_.ja),Rt(k,"TYPE","xmlhttp"),Wf(_,k),_.m&&_.o&&px(k,_.m,_.o),_.L&&(_.g.I=_.L);var $=_.g;_=_.ia,$.L=1,$.v=Zg(br(k)),$.m=null,$.P=!0,Df($,_)}t.Za=function(){this.C!=null&&(this.C=null,nv(this),gx(this),Rn(19))};function iv(_){_.C!=null&&(l.clearTimeout(_.C),_.C=null)}function aN(_,k){var $=null;if(_.g==k){iv(_),vx(_),_.g=null;var B=2}else if(jf(_.h,k))$=k.D,Yg(_.h,k),B=1;else return;if(_.G!=0){if(k.o)if(B==1){$=k.m?k.m.length:0,k=Date.now()-k.F;var ne=_.B;B=hl(),Ne(B,new Hg(B,$)),rv(_)}else sN(_);else if(ne=k.s,ne==3||ne==0&&0<k.X||!(B==1&&LG(_,k)||B==2&&gx(_)))switch($&&0<$.length&&(k=_.h,k.i=k.i.concat($)),ne){case 1:vl(_,5);break;case 4:vl(_,10);break;case 3:vl(_,6);break;default:vl(_,2)}}}function lN(_,k){let $=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||($*=2),$*k}function vl(_,k){if(_.j.info("Error code "+k),k==2){var $=h(_.fb,_),B=_.Xa;const ne=!B;B=new ft(B||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Bi(B,"https"),Zg(B),ne?OG(B.toString(),$):kG(B.toString(),$)}else Rn(2);_.G=0,_.l&&_.l.sa(k),cN(_),nN(_)}t.fb=function(_){_?(this.j.info("Successfully pinged google.com"),Rn(2)):(this.j.info("Failed to ping google.com"),Rn(1))};function cN(_){if(_.G=0,_.ka=[],_.l){const k=Xg(_.h);(k.length!=0||_.i.length!=0)&&(b(_.ka,k),b(_.ka,_.i),_.h.i.length=0,g(_.i),_.i.length=0),_.l.ra()}}function uN(_,k,$){var B=$ instanceof ft?br($):new ft($);if(B.g!="")k&&(B.g=k+"."+B.g),Qg(B,B.s);else{var ne=l.location;B=ne.protocol,k=k?k+"."+ne.hostname:ne.hostname,ne=+ne.port;var le=new ft(null);B&&Bi(le,B),k&&(le.g=k),ne&&Qg(le,ne),$&&(le.l=$),B=le}return $=_.D,k=_.ya,$&&k&&Rt(B,$,k),Rt(B,"VER",_.la),Wf(_,B),B}function dN(_,k,$){if(k&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=_.Ca&&!_.pa?new Yt(new Jg({eb:$})):new Yt(_.pa),k.Ha(_.J),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function fN(){}t=fN.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function sv(){}sv.prototype.g=function(_,k){return new Xr(_,k)};function Xr(_,k){Le.call(this),this.g=new tN(k),this.l=_,this.h=k&&k.messageUrlParams||null,_=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(_?_["X-WebChannel-Content-Type"]=k.messageContentType:_={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(_?_["X-WebChannel-Client-Profile"]=k.va:_={"X-WebChannel-Client-Profile":k.va}),this.g.S=_,(_=k&&k.Sb)&&!x(_)&&(this.g.m=_),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!x(k)&&(this.g.D=k,_=this.h,_!==null&&k in _&&(_=this.h,k in _&&delete _[k])),this.j=new Zc(this)}v(Xr,Le),Xr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xr.prototype.close=function(){mx(this.g)},Xr.prototype.o=function(_){var k=this.g;if(typeof _=="string"){var $={};$.__data__=_,_=$}else this.u&&($={},$.__data__=Dn(_),_=$);k.i.push(new fx(k.Ya++,_)),k.G==3&&rv(k)},Xr.prototype.N=function(){this.g.l=null,delete this.j,mx(this.g),delete this.g,Xr.aa.N.call(this)};function hN(_){Ir.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var k=_.__sm__;if(k){e:{for(const $ in k){_=$;break e}_=void 0}(this.i=_)&&(_=this.i,k=k!==null&&_ in k?k[_]:void 0),this.data=k}else this.data=_}v(hN,Ir);function pN(){Kc.call(this),this.status=1}v(pN,Kc);function Zc(_){this.g=_}v(Zc,fN),Zc.prototype.ua=function(){Ne(this.g,"a")},Zc.prototype.ta=function(_){Ne(this.g,new hN(_))},Zc.prototype.sa=function(_){Ne(this.g,new pN)},Zc.prototype.ra=function(){Ne(this.g,"b")},sv.prototype.createWebChannel=sv.prototype.g,Xr.prototype.send=Xr.prototype.o,Xr.prototype.open=Xr.prototype.m,Xr.prototype.close=Xr.prototype.close,UB=function(){return new sv},BB=function(){return hl()},VB=ps,CT={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ea.NO_ERROR=0,ea.TIMEOUT=8,ea.HTTP_ERROR=6,_y=ea,kf.COMPLETE="complete",FB=kf,dl.EventType=Ar,Ar.OPEN="a",Ar.CLOSE="b",Ar.ERROR="c",Ar.MESSAGE="d",Le.prototype.listen=Le.prototype.K,Sh=dl,Yt.prototype.listenOnce=Yt.prototype.L,Yt.prototype.getLastError=Yt.prototype.Ka,Yt.prototype.getLastErrorCode=Yt.prototype.Ba,Yt.prototype.getStatus=Yt.prototype.Z,Yt.prototype.getResponseJson=Yt.prototype.Oa,Yt.prototype.getResponseText=Yt.prototype.oa,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Ha,$B=Yt}).apply(typeof Sv<"u"?Sv:typeof self<"u"?self:typeof window<"u"?window:{});const uD="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};lr.UNAUTHENTICATED=new lr(null),lr.GOOGLE_CREDENTIALS=new lr("google-credentials-uid"),lr.FIRST_PARTY=new lr("first-party-uid"),lr.MOCK_USER=new lr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sf="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new ig("@firebase/firestore");function Jf(){return fc.logLevel}function ke(t,...e){if(fc.logLevel<=et.DEBUG){const n=e.map(wA);fc.debug(`Firestore (${sf}): ${t}`,...n)}}function ko(t,...e){if(fc.logLevel<=et.ERROR){const n=e.map(wA);fc.error(`Firestore (${sf}): ${t}`,...n)}}function cd(t,...e){if(fc.logLevel<=et.WARN){const n=e.map(wA);fc.warn(`Firestore (${sf}): ${t}`,...n)}}function wA(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t="Unexpected state"){const e=`FIRESTORE (${sf}) INTERNAL ASSERTION FAILED: `+t;throw ko(e),new Error(e)}function gt(t,e){t||Ve()}function Ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends ls{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(lr.UNAUTHENTICATED))}shutdown(){}}class Gte{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Kte{constructor(e){this.t=e,this.currentUser=lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){gt(this.o===void 0);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new Ma;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ma,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ma)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(gt(typeof r.accessToken=="string"),new zB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string"),new lr(e)}}class Yte{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=lr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Xte{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Yte(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qte{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zte{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){gt(this.o===void 0);const r=o=>{o.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,ke("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(gt(typeof n.token=="string"),this.R=n.token,new Qte(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jte(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=Jte(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%e.length))}return r}}function at(t,e){return t<e?-1:t>e?1:0}function ud(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new De(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new De(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new De(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return In.fromMillis(Date.now())}static fromDate(e){return In.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new In(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Be(e)}static min(){return new Be(new In(0,0))}static max(){return new Be(new In(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ve(),r===void 0?r=e.length-n:r>e.length-n&&Ve(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rp.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rp?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=e.get(s),a=n.get(s);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class en extends Rp{construct(e,n,r){return new en(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new De(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new en(n)}static emptyPath(){return new en([])}}const ene=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yn extends Rp{construct(e,n,r){return new Yn(e,n,r)}static isValidIdentifier(e){return ene.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Yn(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new De(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new De(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new De(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(o(),s++)}if(o(),a)throw new De(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yn(n)}static emptyPath(){return new Yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(en.fromString(e))}static fromName(e){return new Re(en.fromString(e).popFirst(5))}static empty(){return new Re(en.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&en.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return en.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new en(e.slice()))}}function tne(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Be.fromTimestamp(r===1e9?new In(n+1,0):new In(n,r));return new za(s,Re.empty(),e)}function nne(t){return new za(t.readTime,t.key,-1)}class za{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new za(Be.min(),Re.empty(),-1)}static max(){return new za(Be.max(),Re.empty(),-1)}}function rne(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(t.documentKey,e.documentKey),n!==0?n:at(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ine="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sne{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cg(t){if(t.code!==ge.FAILED_PRECONDITION||t.message!==ine)throw t;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new me((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof me?n:me.resolve(n)}catch(n){return me.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):me.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):me.reject(n)}static resolve(e){return new me((n,r)=>{n(e)})}static reject(e){return new me((n,r)=>{r(e)})}static waitFor(e){return new me((n,r)=>{let s=0,o=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++o,a&&o===s&&n()},c=>r(c))}),a=!0,o===s&&n()})}static or(e){let n=me.resolve(!1);for(const r of e)n=n.next(s=>s?me.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new me((r,s)=>{const o=e.length,a=new Array(o);let l=0;for(let c=0;c<o;c++){const u=c;n(e[u]).next(d=>{a[u]=d,++l,l===o&&r(a)},d=>s(d))}})}static doWhile(e,n){return new me((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function one(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ug(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}_A.oe=-1;function Tw(t){return t==null}function m0(t){return t===0&&1/t==-1/0}function ane(t){return typeof t=="number"&&Number.isInteger(t)&&!m0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function of(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wn=class PT{constructor(e,n){this.comparator=e,this.root=n||ja.EMPTY}insert(e,n){return new PT(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ja.BLACK,null,null))}remove(e){return new PT(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ja.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cv(this.root,e,this.comparator,!0)}},Cv=class{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ja=class eo{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??eo.RED,this.left=s??eo.EMPTY,this.right=o??eo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new eo(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return eo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return eo.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,eo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,eo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ve();const e=this.left.check();if(e!==this.right.check())throw Ve();return e+(this.isRed()?0:1)}};ja.EMPTY=null,ja.RED=!0,ja.BLACK=!1;ja.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve()}get value(){throw Ve()}get color(){throw Ve()}get left(){throw Ve()}get right(){throw Ve()}copy(e,n,r,s,o){return this}insert(e,n,r){return new ja(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.comparator=e,this.data=new wn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fD(this.data.getIterator())}getIteratorFrom(e){return new fD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Qn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qn(this.comparator);return n.data=e,n}}class fD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this.fields=e,e.sort(Yn.comparator)}static empty(){return new Xi([])}unionWith(e){let n=new Qn(Yn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ud(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new qB("Invalid base64 string: "+o):o}}(e);return new Jn(n)}static fromUint8Array(e){const n=function(s){let o="";for(let a=0;a<s.length;++a)o+=String.fromCharCode(s[a]);return o}(e);return new Jn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jn.EMPTY_BYTE_STRING=new Jn("");const lne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wa(t){if(gt(!!t),typeof t=="string"){let e=0;const n=lne.exec(t);if(gt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:an(t.seconds),nanos:an(t.nanos)}}function an(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function hc(t){return typeof t=="string"?Jn.fromBase64String(t):Jn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function EA(t){const e=t.mapValue.fields.__previous_value__;return xA(e)?EA(e):e}function Mp(t){const e=Wa(t.mapValue.fields.__local_write_time__.timestampValue);return new In(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cne{constructor(e,n,r,s,o,a,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}class jp{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new jp("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof jp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function pc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xA(t)?4:dne(t)?9007199254740991:une(t)?10:11:Ve()}function Us(t,e){if(t===e)return!0;const n=pc(t);if(n!==pc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mp(t).isEqual(Mp(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const a=Wa(s.timestampValue),l=Wa(o.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return hc(s.bytesValue).isEqual(hc(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return an(s.geoPointValue.latitude)===an(o.geoPointValue.latitude)&&an(s.geoPointValue.longitude)===an(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return an(s.integerValue)===an(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const a=an(s.doubleValue),l=an(o.doubleValue);return a===l?m0(a)===m0(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return ud(t.arrayValue.values||[],e.arrayValue.values||[],Us);case 10:case 11:return function(s,o){const a=s.mapValue.fields||{},l=o.mapValue.fields||{};if(dD(a)!==dD(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Us(a[c],l[c])))return!1;return!0}(t,e);default:return Ve()}}function Lp(t,e){return(t.values||[]).find(n=>Us(n,e))!==void 0}function dd(t,e){if(t===e)return 0;const n=pc(t),r=pc(e);if(n!==r)return at(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return at(t.booleanValue,e.booleanValue);case 2:return function(o,a){const l=an(o.integerValue||o.doubleValue),c=an(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return hD(t.timestampValue,e.timestampValue);case 4:return hD(Mp(t),Mp(e));case 5:return at(t.stringValue,e.stringValue);case 6:return function(o,a){const l=hc(o),c=hc(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const l=o.split("/"),c=a.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=at(l[u],c[u]);if(d!==0)return d}return at(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const l=at(an(o.latitude),an(a.latitude));return l!==0?l:at(an(o.longitude),an(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return pD(t.arrayValue,e.arrayValue);case 10:return function(o,a){var l,c,u,d;const f=o.fields||{},h=a.fields||{},p=(l=f.value)===null||l===void 0?void 0:l.arrayValue,v=(c=h.value)===null||c===void 0?void 0:c.arrayValue,g=at(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return g!==0?g:pD(p,v)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===Pv.mapValue&&a===Pv.mapValue)return 0;if(o===Pv.mapValue)return 1;if(a===Pv.mapValue)return-1;const l=o.fields||{},c=Object.keys(l),u=a.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const h=at(c[f],d[f]);if(h!==0)return h;const p=dd(l[c[f]],u[d[f]]);if(p!==0)return p}return at(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Ve()}}function hD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return at(t,e);const n=Wa(t),r=Wa(e),s=at(n.seconds,r.seconds);return s!==0?s:at(n.nanos,r.nanos)}function pD(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=dd(n[s],r[s]);if(o)return o}return at(n.length,r.length)}function fd(t){return AT(t)}function AT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Wa(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return hc(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=AT(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const a of r)o?o=!1:s+=",",s+=`${a}:${AT(n.fields[a])}`;return s+"}"}(t.mapValue):Ve()}function IT(t){return!!t&&"integerValue"in t}function TA(t){return!!t&&"arrayValue"in t}function mD(t){return!!t&&"nullValue"in t}function gD(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xy(t){return!!t&&"mapValue"in t}function une(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function zh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return of(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=zh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function dne(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.value=e}static empty(){return new Ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zh(n)}setAll(e){let n=Yn.emptyPath(),r={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=zh(a):s.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());xy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Us(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];xy(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){of(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new Ti(zh(this.value))}}function GB(t){const e=[];return of(t.fields,(n,r)=>{const s=new Yn([n]);if(xy(r)){const o=GB(r.mapValue).fields;if(o.length===0)e.push(s);else for(const a of o)e.push(s.child(a))}else e.push(s)}),new Xi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n,r,s,o,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=a,this.documentState=l}static newInvalidDocument(e){return new ur(e,0,Be.min(),Be.min(),Be.min(),Ti.empty(),0)}static newFoundDocument(e,n,r,s){return new ur(e,1,n,Be.min(),r,s,0)}static newNoDocument(e,n){return new ur(e,2,n,Be.min(),Be.min(),Ti.empty(),0)}static newUnknownDocument(e,n){return new ur(e,3,n,Be.min(),Be.min(),Ti.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ur&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ur(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n){this.position=e,this.inclusive=n}}function vD(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],a=t.position[s];if(o.field.isKeyField()?r=Re.comparator(Re.fromName(a.referenceValue),n.key):r=dd(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function yD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Us(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,n="asc"){this.field=e,this.dir=n}}function fne(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{}class Sn extends KB{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new pne(e,n,r):n==="array-contains"?new vne(e,r):n==="in"?new yne(e,r):n==="not-in"?new bne(e,r):n==="array-contains-any"?new wne(e,r):new Sn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new mne(e,r):new gne(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(dd(n,this.value)):n!==null&&pc(this.value)===pc(n)&&this.matchesComparison(dd(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zs extends KB{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new zs(e,n)}matches(e){return YB(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function YB(t){return t.op==="and"}function XB(t){return hne(t)&&YB(t)}function hne(t){for(const e of t.filters)if(e instanceof zs)return!1;return!0}function OT(t){if(t instanceof Sn)return t.field.canonicalString()+t.op.toString()+fd(t.value);if(XB(t))return t.filters.map(e=>OT(e)).join(",");{const e=t.filters.map(n=>OT(n)).join(",");return`${t.op}(${e})`}}function QB(t,e){return t instanceof Sn?function(r,s){return s instanceof Sn&&r.op===s.op&&r.field.isEqual(s.field)&&Us(r.value,s.value)}(t,e):t instanceof zs?function(r,s){return s instanceof zs&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,a,l)=>o&&QB(a,s.filters[l]),!0):!1}(t,e):void Ve()}function ZB(t){return t instanceof Sn?function(n){return`${n.field.canonicalString()} ${n.op} ${fd(n.value)}`}(t):t instanceof zs?function(n){return n.op.toString()+" {"+n.getFilters().map(ZB).join(" ,")+"}"}(t):"Filter"}class pne extends Sn{constructor(e,n,r){super(e,n,r),this.key=Re.fromName(r.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class mne extends Sn{constructor(e,n){super(e,"in",n),this.keys=JB("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class gne extends Sn{constructor(e,n){super(e,"not-in",n),this.keys=JB("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function JB(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Re.fromName(r.referenceValue))}class vne extends Sn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return TA(n)&&Lp(n.arrayValue,this.value)}}class yne extends Sn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Lp(this.value.arrayValue,n)}}class bne extends Sn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Lp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Lp(this.value.arrayValue,n)}}class wne extends Sn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!TA(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Lp(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ne{constructor(e,n=null,r=[],s=[],o=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=a,this.endAt=l,this.ue=null}}function bD(t,e=null,n=[],r=[],s=null,o=null,a=null){return new _ne(t,e,n,r,s,o,a)}function SA(t){const e=Ue(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>OT(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Tw(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fd(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fd(r)).join(",")),e.ue=n}return e.ue}function CA(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!fne(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QB(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yD(t.startAt,e.startAt)&&yD(t.endAt,e.endAt)}function kT(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,n=null,r=[],s=[],o=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=a,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function xne(t,e,n,r,s,o,a,l){return new Sw(t,e,n,r,s,o,a,l)}function PA(t){return new Sw(t)}function wD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ene(t){return t.collectionGroup!==null}function Wh(t){const e=Ue(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Qn(Yn.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new v0(o,r))}),n.has(Yn.keyField().canonicalString())||e.ce.push(new v0(Yn.keyField(),r))}return e.ce}function Rs(t){const e=Ue(t);return e.le||(e.le=Tne(e,Wh(t))),e.le}function Tne(t,e){if(t.limitType==="F")return bD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new v0(s.field,o)});const n=t.endAt?new g0(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new g0(t.startAt.position,t.startAt.inclusive):null;return bD(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function NT(t,e,n){return new Sw(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cw(t,e){return CA(Rs(t),Rs(e))&&t.limitType===e.limitType}function e6(t){return`${SA(Rs(t))}|lt:${t.limitType}`}function au(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>ZB(s)).join(", ")}]`),Tw(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>fd(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>fd(s)).join(",")),`Target(${r})`}(Rs(t))}; limitType=${t.limitType})`}function Pw(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Re.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of Wh(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,l,c){const u=vD(a,l,c);return a.inclusive?u<=0:u<0}(r.startAt,Wh(r),s)||r.endAt&&!function(a,l,c){const u=vD(a,l,c);return a.inclusive?u>=0:u>0}(r.endAt,Wh(r),s))}(t,e)}function Sne(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function t6(t){return(e,n)=>{let r=!1;for(const s of Wh(t)){const o=Cne(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function Cne(t,e,n){const r=t.field.isKeyField()?Re.comparator(e.key,n.key):function(o,a,l){const c=a.data.field(o),u=l.data.field(o);return c!==null&&u!==null?dd(c,u):Ve()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){of(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return HB(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pne=new wn(Re.comparator);function No(){return Pne}const n6=new wn(Re.comparator);function Ch(...t){let e=n6;for(const n of t)e=e.insert(n.key,n);return e}function r6(t){let e=n6;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fl(){return Hh()}function i6(){return Hh()}function Hh(){return new af(t=>t.toString(),(t,e)=>t.isEqual(e))}const Ane=new wn(Re.comparator),Ine=new Qn(Re.comparator);function tt(...t){let e=Ine;for(const n of t)e=e.add(n);return e}const One=new Qn(at);function kne(){return One}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:m0(e)?"-0":e}}function s6(t){return{integerValue:""+t}}function Nne(t,e){return ane(e)?s6(e):AA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(){this._=void 0}}function Dne(t,e,n){return t instanceof $p?function(s,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&xA(o)&&(o=EA(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof Fp?a6(t,e):t instanceof Vp?l6(t,e):function(s,o){const a=o6(s,o),l=_D(a)+_D(s.Pe);return IT(a)&&IT(s.Pe)?s6(l):AA(s.serializer,l)}(t,e)}function Rne(t,e,n){return t instanceof Fp?a6(t,e):t instanceof Vp?l6(t,e):n}function o6(t,e){return t instanceof y0?function(r){return IT(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class $p extends Aw{}class Fp extends Aw{constructor(e){super(),this.elements=e}}function a6(t,e){const n=c6(e);for(const r of t.elements)n.some(s=>Us(s,r))||n.push(r);return{arrayValue:{values:n}}}class Vp extends Aw{constructor(e){super(),this.elements=e}}function l6(t,e){let n=c6(e);for(const r of t.elements)n=n.filter(s=>!Us(s,r));return{arrayValue:{values:n}}}class y0 extends Aw{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function _D(t){return an(t.integerValue||t.doubleValue)}function c6(t){return TA(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mne{constructor(e,n){this.field=e,this.transform=n}}function jne(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Fp&&s instanceof Fp||r instanceof Vp&&s instanceof Vp?ud(r.elements,s.elements,Us):r instanceof y0&&s instanceof y0?Us(r.Pe,s.Pe):r instanceof $p&&s instanceof $p}(t.transform,e.transform)}class Lne{constructor(e,n){this.version=e,this.transformResults=n}}class vo{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vo}static exists(e){return new vo(void 0,e)}static updateTime(e){return new vo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ey(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Iw{}function u6(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new f6(t.key,vo.none()):new dg(t.key,t.data,vo.none());{const n=t.data,r=Ti.empty();let s=new Qn(Yn.comparator);for(let o of e.fields)if(!s.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),s=s.add(o)}return new $c(t.key,r,new Xi(s.toArray()),vo.none())}}function $ne(t,e,n){t instanceof dg?function(s,o,a){const l=s.value.clone(),c=ED(s.fieldTransforms,o,a.transformResults);l.setAll(c),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof $c?function(s,o,a){if(!Ey(s.precondition,o))return void o.convertToUnknownDocument(a.version);const l=ED(s.fieldTransforms,o,a.transformResults),c=o.data;c.setAll(d6(s)),c.setAll(l),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(s,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function qh(t,e,n,r){return t instanceof dg?function(o,a,l,c){if(!Ey(o.precondition,a))return l;const u=o.value.clone(),d=TD(o.fieldTransforms,c,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof $c?function(o,a,l,c){if(!Ey(o.precondition,a))return l;const u=TD(o.fieldTransforms,c,a),d=a.data;return d.setAll(d6(o)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,a,l){return Ey(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function Fne(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=o6(r.transform,s||null);o!=null&&(n===null&&(n=Ti.empty()),n.set(r.field,o))}return n||null}function xD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ud(r,s,(o,a)=>jne(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class dg extends Iw{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class $c extends Iw{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function d6(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ED(t,e,n){const r=new Map;gt(t.length===n.length);for(let s=0;s<n.length;s++){const o=t[s],a=o.transform,l=e.data.field(o.field);r.set(o.field,Rne(a,l,n[s]))}return r}function TD(t,e,n){const r=new Map;for(const s of t){const o=s.transform,a=n.data.field(s.field);r.set(s.field,Dne(o,a,e))}return r}class f6 extends Iw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vne extends Iw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bne{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&$ne(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=qh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=qh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=i6();return this.mutations.forEach(s=>{const o=e.get(s.key),a=o.overlayedDocument;let l=this.applyToLocalView(a,o.mutatedFields);l=n.has(s.key)?null:l;const c=u6(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(Be.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),tt())}isEqual(e){return this.batchId===e.batchId&&ud(this.mutations,e.mutations,(n,r)=>xD(n,r))&&ud(this.baseMutations,e.baseMutations,(n,r)=>xD(n,r))}}class IA{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){gt(e.mutations.length===r.length);let s=function(){return Ane}();const o=e.mutations;for(let a=0;a<o.length;a++)s=s.insert(o[a].key,r[a].version);return new IA(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Une=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zne{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gn,it;function Wne(t){switch(t){default:return Ve();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}function h6(t){if(t===void 0)return ko("GRPC error has no .code"),ge.UNKNOWN;switch(t){case gn.OK:return ge.OK;case gn.CANCELLED:return ge.CANCELLED;case gn.UNKNOWN:return ge.UNKNOWN;case gn.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case gn.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case gn.INTERNAL:return ge.INTERNAL;case gn.UNAVAILABLE:return ge.UNAVAILABLE;case gn.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case gn.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case gn.NOT_FOUND:return ge.NOT_FOUND;case gn.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case gn.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case gn.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case gn.ABORTED:return ge.ABORTED;case gn.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case gn.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case gn.DATA_LOSS:return ge.DATA_LOSS;default:return Ve()}}(it=gn||(gn={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hne(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qne=new Kl([4294967295,4294967295],0);function SD(t){const e=Hne().encode(t),n=new LB;return n.update(e),new Uint8Array(n.digest())}function CD(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Kl([n,r],0),new Kl([s,o],0)]}class OA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ph(`Invalid padding: ${n}`);if(r<0)throw new Ph(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ph(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ph(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Kl.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Kl.fromNumber(r)));return s.compare(qne)===1&&(s=new Kl([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=SD(e),[r,s]=CD(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,s,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new OA(o,s,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.Ie===0)return;const n=SD(e),[r,s]=CD(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,s,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ph extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,fg.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ow(Be.min(),s,new wn(at),No(),tt())}}class fg{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fg(r,n,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class p6{constructor(e,n){this.targetId=e,this.me=n}}class m6{constructor(e,n,r=Jn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class PD{constructor(){this.fe=0,this.ge=ID(),this.pe=Jn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=tt(),n=tt(),r=tt();return this.ge.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ve()}}),new fg(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=ID()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,gt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Gne{constructor(e){this.Le=e,this.Be=new Map,this.ke=No(),this.qe=AD(),this.Qe=new wn(at)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const o=s.target;if(kT(o))if(r===0){const a=new Re(o.path);this.Ue(n,a,ur.newNoDocument(a,Be.min()))}else gt(r===1);else{const a=this.Ye(n);if(a!==r){const l=this.Ze(e),c=l?this.Xe(l,e,a):1;if(c!==0){this.je(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let a,l;try{a=hc(r).toUint8Array()}catch(c){if(c instanceof qB)return cd("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new OA(a,s,o)}catch(c){return cd(c instanceof Ph?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const a=this.Le.tt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,o,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const l=this.Je(a);if(l){if(o.current&&kT(l.target)){const c=new Re(l.target.path);this.ke.get(c)!==null||this.it(a,c)||this.Ue(a,c,ur.newNoDocument(c,e))}o.be&&(n.set(a,o.ve()),o.Ce())}});let r=tt();this.qe.forEach((o,a)=>{let l=!0;a.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const s=new Ow(e,n,this.Qe,this.ke,r);return this.ke=No(),this.qe=AD(),this.Qe=new wn(at),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new PD,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Qn(at),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ke("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new PD),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function AD(){return new wn(Re.comparator)}function ID(){return new wn(Re.comparator)}const Kne=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Yne=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Xne=(()=>({and:"AND",or:"OR"}))();class Qne{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function DT(t,e){return t.useProto3Json||Tw(e)?e:{value:e}}function b0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function g6(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Zne(t,e){return b0(t,e.toTimestamp())}function Ms(t){return gt(!!t),Be.fromTimestamp(function(n){const r=Wa(n);return new In(r.seconds,r.nanos)}(t))}function kA(t,e){return RT(t,e).canonicalString()}function RT(t,e){const n=function(s){return new en(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function v6(t){const e=en.fromString(t);return gt(x6(e)),e}function MT(t,e){return kA(t.databaseId,e.path)}function Jx(t,e){const n=v6(e);if(n.get(1)!==t.databaseId.projectId)throw new De(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new De(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Re(b6(n))}function y6(t,e){return kA(t.databaseId,e)}function Jne(t){const e=v6(t);return e.length===4?en.emptyPath():b6(e)}function jT(t){return new en(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function b6(t){return gt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function OD(t,e,n){return{name:MT(t,e),fields:n.value.mapValue.fields}}function ere(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(gt(d===void 0||typeof d=="string"),Jn.fromBase64String(d||"")):(gt(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Jn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(u){const d=u.code===void 0?ge.UNKNOWN:h6(u.code);return new De(d,u.message||"")}(a);n=new m6(r,s,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Jx(t,r.document.name),o=Ms(r.document.updateTime),a=r.document.createTime?Ms(r.document.createTime):Be.min(),l=new Ti({mapValue:{fields:r.document.fields}}),c=ur.newFoundDocument(s,o,a,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Ty(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Jx(t,r.document),o=r.readTime?Ms(r.readTime):Be.min(),a=ur.newNoDocument(s,o),l=r.removedTargetIds||[];n=new Ty([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Jx(t,r.document),o=r.removedTargetIds||[];n=new Ty([],o,s,null)}else{if(!("filter"in e))return Ve();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,a=new zne(s,o),l=r.targetId;n=new p6(l,a)}}return n}function tre(t,e){let n;if(e instanceof dg)n={update:OD(t,e.key,e.value)};else if(e instanceof f6)n={delete:MT(t,e.key)};else if(e instanceof $c)n={update:OD(t,e.key,e.data),updateMask:ure(e.fieldMask)};else{if(!(e instanceof Vne))return Ve();n={verify:MT(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const l=a.transform;if(l instanceof $p)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Fp)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Vp)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof y0)return{fieldPath:a.field.canonicalString(),increment:l.Pe};throw Ve()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:Zne(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ve()}(t,e.precondition)),n}function nre(t,e){return t&&t.length>0?(gt(e!==void 0),t.map(n=>function(s,o){let a=s.updateTime?Ms(s.updateTime):Ms(o);return a.isEqual(Be.min())&&(a=Ms(o)),new Lne(a,s.transformResults||[])}(n,e))):[]}function rre(t,e){return{documents:[y6(t,e.path)]}}function ire(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=y6(t,s);const o=function(u){if(u.length!==0)return _6(zs.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:lu(h.field),direction:are(h.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=DT(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:s}}function sre(t){let e=Jne(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){gt(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const h=w6(f);return h instanceof zs&&XB(h)?h.getFilters():[h]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(h=>function(v){return new v0(cu(v.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let l=null;n.limit&&(l=function(f){let h;return h=typeof f=="object"?f.value:f,Tw(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(f){const h=!!f.before,p=f.values||[];return new g0(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new g0(p,h)}(n.endAt)),xne(e,s,a,o,l,"F",c,u)}function ore(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function w6(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=cu(n.unaryFilter.field);return Sn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=cu(n.unaryFilter.field);return Sn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=cu(n.unaryFilter.field);return Sn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=cu(n.unaryFilter.field);return Sn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Ve()}}(t):t.fieldFilter!==void 0?function(n){return Sn.create(cu(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return zs.create(n.compositeFilter.filters.map(r=>w6(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ve()}}(n.compositeFilter.op))}(t):Ve()}function are(t){return Kne[t]}function lre(t){return Yne[t]}function cre(t){return Xne[t]}function lu(t){return{fieldPath:t.canonicalString()}}function cu(t){return Yn.fromServerFormat(t.fieldPath)}function _6(t){return t instanceof Sn?function(n){if(n.op==="=="){if(gD(n.value))return{unaryFilter:{field:lu(n.field),op:"IS_NAN"}};if(mD(n.value))return{unaryFilter:{field:lu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gD(n.value))return{unaryFilter:{field:lu(n.field),op:"IS_NOT_NAN"}};if(mD(n.value))return{unaryFilter:{field:lu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lu(n.field),op:lre(n.op),value:n.value}}}(t):t instanceof zs?function(n){const r=n.getFilters().map(s=>_6(s));return r.length===1?r[0]:{compositeFilter:{op:cre(n.op),filters:r}}}(t):Ve()}function ure(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function x6(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n,r,s,o=Be.min(),a=Be.min(),l=Jn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Ea(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dre{constructor(e){this.ct=e}}function fre(t){const e=sre({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?NT(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hre{constructor(){this.un=new pre}addToCollectionParentIndex(e,n){return this.un.add(n),me.resolve()}getCollectionParents(e,n){return me.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return me.resolve()}deleteFieldIndex(e,n){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,n){return me.resolve()}getDocumentsMatchingTarget(e,n){return me.resolve(null)}getIndexType(e,n){return me.resolve(0)}getFieldIndexes(e,n){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,n){return me.resolve(za.min())}getMinOffsetFromCollectionGroup(e,n){return me.resolve(za.min())}updateCollectionGroup(e,n,r){return me.resolve()}updateIndexEntries(e,n){return me.resolve()}}class pre{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Qn(en.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Qn(en.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new hd(0)}static kn(){return new hd(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mre{constructor(){this.changes=new af(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ur.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?me.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gre{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vre{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&qh(r.mutation,s,Xi.empty(),In.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,tt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=tt()){const s=Fl();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let a=Ch();return o.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Fl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,tt()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,s){let o=No();const a=Hh(),l=function(){return Hh()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof $c)?o=o.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),qh(d.mutation,u,d.mutation.getFieldMask(),In.now())):a.set(u.key,Xi.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>{var f;return l.set(u,new gre(d,(f=a.get(u))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Hh();let s=new wn((a,l)=>a-l),o=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||Xi.empty();d=l.applyToLocalView(u,d),r.set(c,d);const f=(s.get(l.batchId)||tt()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,f=i6();d.forEach(h=>{if(!o.has(h)){const p=u6(n.get(h),r.get(h));p!==null&&f.set(h,p),o=o.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return me.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return Re.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ene(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const a=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):me.resolve(Fl());let l=-1,c=o;return a.next(u=>me.forEach(u,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),o.get(d)?me.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{c=c.insert(d,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,tt())).next(d=>({batchId:l,changes:r6(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next(r=>{let s=Ch();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let a=Ch();return this.indexManager.getCollectionParents(e,o).next(l=>me.forEach(l,c=>{const u=function(f,h){return new Sw(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((f,h)=>{a=a.insert(f,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(a=>{o.forEach((c,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,ur.newInvalidDocument(d)))});let l=Ch();return a.forEach((c,u)=>{const d=o.get(c);d!==void 0&&qh(d.mutation,u,Xi.empty(),In.now()),Pw(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yre{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return me.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ms(s.createTime)}}(n)),me.resolve()}getNamedQuery(e,n){return me.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:fre(s.bundledQuery),readTime:Ms(s.readTime)}}(n)),me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bre{constructor(){this.overlays=new wn(Re.comparator),this.Ir=new Map}getOverlay(e,n){return me.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fl();return me.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.ht(e,n,o)}),me.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),me.resolve()}getOverlaysForCollection(e,n,r){const s=Fl(),o=n.length+1,a=new Re(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&s.set(c.getKey(),c)}return me.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new wn((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=Fl(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=Fl(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=s)););return me.resolve(l)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new Une(n,r));let o=this.Ir.get(n);o===void 0&&(o=tt(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wre{constructor(){this.sessionToken=Jn.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(){this.Tr=new Qn(jn.Er),this.dr=new Qn(jn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new jn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new jn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Re(new en([])),r=new jn(n,e),s=new jn(n,e+1),o=[];return this.dr.forEachInRange([r,s],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Re(new en([])),r=new jn(n,e),s=new jn(n,e+1);let o=tt();return this.dr.forEachInRange([r,s],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new jn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class jn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Re.comparator(e.key,n.key)||at(e.wr,n.wr)}static Ar(e,n){return at(e.wr,n.wr)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _re{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Qn(jn.Er)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Bne(o,n,r,s);this.mutationQueue.push(a);for(const l of s)this.br=this.br.add(new jn(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return me.resolve(a)}lookupMutationBatch(e,n){return me.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),o=s<0?0:s;return me.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jn(n,0),s=new jn(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,s],a=>{const l=this.Dr(a.wr);o.push(l)}),me.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Qn(at);return n.forEach(s=>{const o=new jn(s,0),a=new jn(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],l=>{r=r.add(l.wr)})}),me.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;Re.isDocumentKey(o)||(o=o.child(""));const a=new jn(new Re(o),0);let l=new Qn(at);return this.br.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.wr)),!0)},a),me.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){gt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return me.forEach(n.mutations,s=>{const o=new jn(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new jn(n,0),s=this.br.firstAfterOrEqual(r);return me.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xre{constructor(e){this.Mr=e,this.docs=function(){return new wn(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return me.resolve(r?r.document.mutableCopy():ur.newInvalidDocument(n))}getEntries(e,n){let r=No();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():ur.newInvalidDocument(s))}),me.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=No();const a=n.path,l=new Re(a.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||rne(nne(d),r)<=0||(s.has(d.key)||Pw(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return me.resolve(o)}getAllFromCollectionGroup(e,n,r,s){Ve()}Or(e,n){return me.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ere(this)}getSize(e){return me.resolve(this.size)}}class Ere extends mre{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),me.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tre{constructor(e){this.persistence=e,this.Nr=new af(n=>SA(n),CA),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.Lr=0,this.Br=new NA,this.targetCount=0,this.kr=hd.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),me.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new hd(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,me.resolve()}updateTargetData(e,n){return this.Kn(n),me.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.Nr.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),me.waitFor(o).next(()=>s)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return me.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),me.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(a=>{o.push(s.markPotentiallyOrphaned(e,a))}),me.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),me.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return me.resolve(r)}containsKey(e,n){return me.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sre{constructor(e,n){this.qr={},this.overlays={},this.Qr=new _A(0),this.Kr=!1,this.Kr=!0,this.$r=new wre,this.referenceDelegate=e(this),this.Ur=new Tre(this),this.indexManager=new hre,this.remoteDocumentCache=function(s){return new xre(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new dre(n),this.Gr=new yre(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bre,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new _re(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ke("MemoryPersistence","Starting transaction:",e);const s=new Cre(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(o=>this.referenceDelegate.jr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Hr(e,n){return me.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Cre extends sne{constructor(e){super(),this.currentSequenceNumber=e}}class DA{constructor(e){this.persistence=e,this.Jr=new NA,this.Yr=null}static Zr(e){return new DA(e)}get Xr(){if(this.Yr)return this.Yr;throw Ve()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),me.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),me.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),me.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.Xr,r=>{const s=Re.fromPath(r);return this.ei(e,s).next(o=>{o||n.removeEntry(s,Be.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return me.or([()=>me.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=tt(),s=tt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new RA(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pre{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Are{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return lZ()?8:one(pr())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.Yi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(e,n,s,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new Pre;return this.Xi(e,n,a).next(l=>{if(o.result=l,this.zi)return this.es(e,n,a,l.size)})}).next(()=>o.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Jf()<=et.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",au(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),me.resolve()):(Jf()<=et.DEBUG&&ke("QueryEngine","Query:",au(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Jf()<=et.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",au(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rs(n))):me.resolve())}Yi(e,n){if(wD(n))return me.resolve(null);let r=Rs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=NT(n,null,"F"),r=Rs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=tt(...o);return this.Ji.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ts(n,l);return this.ns(n,u,a,c.readTime)?this.Yi(e,NT(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,r,s){return wD(n)||s.isEqual(Be.min())?me.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const a=this.ts(n,o);return this.ns(n,a,r,s)?me.resolve(null):(Jf()<=et.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),au(n)),this.rs(e,a,n,tne(s,-1)).next(l=>l))})}ts(e,n){let r=new Qn(t6(e));return n.forEach((s,o)=>{Pw(e,o)&&(r=r.add(o))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Xi(e,n,r){return Jf()<=et.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",au(n)),this.Ji.getDocumentsMatchingQuery(e,n,za.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ire{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new wn(at),this._s=new af(o=>SA(o),CA),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vre(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Ore(t,e,n,r){return new Ire(t,e,n,r)}async function E6(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],l=[];let c=tt();for(const u of s){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of o){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:l}))})})}function kre(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const f=u.batch,h=f.keys();let p=me.resolve();return h.forEach(v=>{p=p.next(()=>d.getEntry(c,v)).next(g=>{const b=u.docVersions.get(v);gt(b!==null),g.version.compareTo(b)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),d.addEntry(g)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=tt();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function T6(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Nre(t,e){const n=Ue(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const l=[];e.targetChanges.forEach((d,f)=>{const h=s.get(f);if(!h)return;l.push(n.Ur.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,d.addedDocuments,f)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Jn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),s=s.insert(f,p),function(g,b,y){return g.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,p,d)&&l.push(n.Ur.updateTargetData(o,p))});let c=No(),u=tt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),l.push(Dre(o,a,e.documentUpdates).next(d=>{c=d.Ps,u=d.Is})),!r.isEqual(Be.min())){const d=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(d)}return me.waitFor(l).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.os=s,o))}function Dre(t,e,n){let r=tt(),s=tt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=No();return n.forEach((l,c)=>{const u=o.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(Be.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):ke("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{Ps:a,Is:s}})}function Rre(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Mre(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(o=>o?(s=o,me.resolve(s)):n.Ur.allocateTargetId(r).next(a=>(s=new Ea(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function LT(t,e,n){const r=Ue(t),s=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!ug(a))throw a;ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function kD(t,e,n){const r=Ue(t);let s=Be.min(),o=tt();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,d){const f=Ue(c),h=f._s.get(d);return h!==void 0?me.resolve(f.os.get(h)):f.Ur.getTargetData(u,d)}(r,a,Rs(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,l.targetId).next(c=>{o=c})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?s:Be.min(),n?o:tt())).next(l=>(jre(r,Sne(e),l),{documents:l,Ts:o})))}function jre(t,e,n){let r=t.us.get(e)||Be.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class ND{constructor(){this.activeTargetIds=kne()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Lre{constructor(){this.so=new ND,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ND,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $re{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Av=null;function e1(){return Av===null?Av=function(){return 268435456+Math.round(2147483648*Math.random())}():Av++,"0x"+Av.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vre{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="WebChannelConnection";class Bre extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${o}`}get Fo(){return!1}Mo(n,r,s,o,a){const l=e1(),c=this.xo(n,r.toUriEncodedString());ke("RestConnection",`Sending RPC '${n}' ${l}:`,c,s);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,a),this.No(n,c,u,s).then(d=>(ke("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw cd("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",c,"request:",s),d})}Lo(n,r,s,o,a,l){return this.Mo(n,r,s,o,a)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sf}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),s&&s.headers.forEach((o,a)=>n[a]=o)}xo(n,r){const s=Fre[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const o=e1();return new Promise((a,l)=>{const c=new $B;c.setWithCredentials(!0),c.listenOnce(FB.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case _y.NO_ERROR:const d=c.getResponseJson();ke(sr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case _y.TIMEOUT:ke(sr,`RPC '${e}' ${o} timed out`),l(new De(ge.DEADLINE_EXCEEDED,"Request time out"));break;case _y.HTTP_ERROR:const f=c.getStatus();if(ke(sr,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const v=function(b){const y=b.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(y)>=0?y:ge.UNKNOWN}(p.status);l(new De(v,p.message))}else l(new De(ge.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new De(ge.UNAVAILABLE,"Connection failed."));break;default:Ve()}}finally{ke(sr,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(s);ke(sr,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",u,r,15)})}Bo(e,n,r){const s=e1(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=UB(),l=BB(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=o.join("");ke(sr,`Creating RPC '${e}' stream ${s}: ${d}`,c);const f=a.createWebChannel(d,c);let h=!1,p=!1;const v=new Vre({Io:b=>{p?ke(sr,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(h||(ke(sr,`Opening RPC '${e}' stream ${s} transport.`),f.open(),h=!0),ke(sr,`RPC '${e}' stream ${s} sending:`,b),f.send(b))},To:()=>f.close()}),g=(b,y,x)=>{b.listen(y,E=>{try{x(E)}catch(T){setTimeout(()=>{throw T},0)}})};return g(f,Sh.EventType.OPEN,()=>{p||(ke(sr,`RPC '${e}' stream ${s} transport opened.`),v.yo())}),g(f,Sh.EventType.CLOSE,()=>{p||(p=!0,ke(sr,`RPC '${e}' stream ${s} transport closed`),v.So())}),g(f,Sh.EventType.ERROR,b=>{p||(p=!0,cd(sr,`RPC '${e}' stream ${s} transport errored:`,b),v.So(new De(ge.UNAVAILABLE,"The operation could not be completed")))}),g(f,Sh.EventType.MESSAGE,b=>{var y;if(!p){const x=b.data[0];gt(!!x);const E=x,T=E.error||((y=E[0])===null||y===void 0?void 0:y.error);if(T){ke(sr,`RPC '${e}' stream ${s} received error:`,T);const S=T.status;let A=function(I){const R=gn[I];if(R!==void 0)return h6(R)}(S),C=T.message;A===void 0&&(A=ge.INTERNAL,C="Unknown error status: "+S+" with message "+T.message),p=!0,v.So(new De(A,C)),f.close()}else ke(sr,`RPC '${e}' stream ${s} received:`,x),v.bo(x)}}),g(l,VB.STAT_EVENT,b=>{b.stat===CT.PROXY?ke(sr,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===CT.NOPROXY&&ke(sr,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function t1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(t){return new Qne(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e,n,r=1e3,s=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&ke("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,n,r,s,o,a,l,c){this.ui=e,this.Ho=r,this.Jo=s,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new S6(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ge.RESOURCE_EXHAUSTED?(ko(n.toString()),ko("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new De(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ure extends C6{constructor(e,n,r,s,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=ere(this.serializer,e),r=function(o){if(!("targetChange"in o))return Be.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?Be.min():a.readTime?Ms(a.readTime):Be.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=jT(this.serializer),n.addTarget=function(o,a){let l;const c=a.target;if(l=kT(c)?{documents:rre(o,c)}:{query:ire(o,c)._t},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=g6(o,a.resumeToken);const u=DT(o,a.expectedCount);u!==null&&(l.expectedCount=u)}else if(a.snapshotVersion.compareTo(Be.min())>0){l.readTime=b0(o,a.snapshotVersion.toTimestamp());const u=DT(o,a.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=ore(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=jT(this.serializer),n.removeTarget=e,this.a_(n)}}class zre extends C6{constructor(e,n,r,s,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return gt(!!e.streamToken),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=nre(e.writeResults,e.commitTime),r=Ms(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=jT(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>tre(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wre extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new De(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,RT(n,r),s,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new De(ge.UNKNOWN,o.toString())})}Lo(e,n,r,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Lo(e,RT(n,r),s,a,l,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new De(ge.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Hre{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ko(n),this.D_=!1):ke("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qre{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(async()=>{Fc(this)&&(ke("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=Ue(c);u.L_.add(4),await hg(u),u.q_.set("Unknown"),u.L_.delete(4),await Nw(u)}(this))})}),this.q_=new Hre(r,s)}}async function Nw(t){if(Fc(t))for(const e of t.B_)await e(!0)}async function hg(t){for(const e of t.B_)await e(!1)}function P6(t,e){const n=Ue(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),$A(n)?LA(n):lf(n).r_()&&jA(n,e))}function MA(t,e){const n=Ue(t),r=lf(n);n.N_.delete(e),r.r_()&&A6(n,e),n.N_.size===0&&(r.r_()?r.o_():Fc(n)&&n.q_.set("Unknown"))}function jA(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lf(t).A_(e)}function A6(t,e){t.Q_.xe(e),lf(t).R_(e)}function LA(t){t.Q_=new Gne({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),lf(t).start(),t.q_.v_()}function $A(t){return Fc(t)&&!lf(t).n_()&&t.N_.size>0}function Fc(t){return Ue(t).L_.size===0}function I6(t){t.Q_=void 0}async function Gre(t){t.q_.set("Online")}async function Kre(t){t.N_.forEach((e,n)=>{jA(t,e)})}async function Yre(t,e){I6(t),$A(t)?(t.q_.M_(e),LA(t)):t.q_.set("Unknown")}async function Xre(t,e,n){if(t.q_.set("Online"),e instanceof m6&&e.state===2&&e.cause)try{await async function(s,o){const a=o.cause;for(const l of o.targetIds)s.N_.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.N_.delete(l),s.Q_.removeTarget(l))}(t,e)}catch(r){ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await w0(t,r)}else if(e instanceof Ty?t.Q_.Ke(e):e instanceof p6?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Be.min()))try{const r=await T6(t.localStore);n.compareTo(r)>=0&&await function(o,a){const l=o.Q_.rt(a);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=o.N_.get(u);d&&o.N_.set(u,d.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,u)=>{const d=o.N_.get(c);if(!d)return;o.N_.set(c,d.withResumeToken(Jn.EMPTY_BYTE_STRING,d.snapshotVersion)),A6(o,c);const f=new Ea(d.target,c,u,d.sequenceNumber);jA(o,f)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){ke("RemoteStore","Failed to raise snapshot:",r),await w0(t,r)}}async function w0(t,e,n){if(!ug(e))throw e;t.L_.add(1),await hg(t),t.q_.set("Offline"),n||(n=()=>T6(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ke("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Nw(t)})}function O6(t,e){return e().catch(n=>w0(t,n,e))}async function Dw(t){const e=Ue(t),n=Ha(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Qre(e);)try{const s=await Rre(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,Zre(e,s)}catch(s){await w0(e,s)}k6(e)&&N6(e)}function Qre(t){return Fc(t)&&t.O_.length<10}function Zre(t,e){t.O_.push(e);const n=Ha(t);n.r_()&&n.V_&&n.m_(e.mutations)}function k6(t){return Fc(t)&&!Ha(t).n_()&&t.O_.length>0}function N6(t){Ha(t).start()}async function Jre(t){Ha(t).p_()}async function eie(t){const e=Ha(t);for(const n of t.O_)e.m_(n.mutations)}async function tie(t,e,n){const r=t.O_.shift(),s=IA.from(r,e,n);await O6(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Dw(t)}async function nie(t,e){e&&Ha(t).V_&&await async function(r,s){if(function(a){return Wne(a)&&a!==ge.ABORTED}(s.code)){const o=r.O_.shift();Ha(r).s_(),await O6(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Dw(r)}}(t,e),k6(t)&&N6(t)}async function RD(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),ke("RemoteStore","RemoteStore received new credentials");const r=Fc(n);n.L_.add(3),await hg(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Nw(n)}async function rie(t,e){const n=Ue(t);e?(n.L_.delete(2),await Nw(n)):e||(n.L_.add(2),await hg(n),n.q_.set("Unknown"))}function lf(t){return t.K_||(t.K_=function(n,r,s){const o=Ue(n);return o.w_(),new Ure(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Eo:Gre.bind(null,t),Ro:Kre.bind(null,t),mo:Yre.bind(null,t),d_:Xre.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),$A(t)?LA(t):t.q_.set("Unknown")):(await t.K_.stop(),I6(t))})),t.K_}function Ha(t){return t.U_||(t.U_=function(n,r,s){const o=Ue(n);return o.w_(),new zre(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Jre.bind(null,t),mo:nie.bind(null,t),f_:eie.bind(null,t),g_:tie.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Dw(t)):(await t.U_.stop(),t.O_.length>0&&(ke("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const a=Date.now()+r,l=new FA(e,n,a,s,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new De(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function VA(t,e){if(ko("AsyncQueue",`${e}: ${t}`),ug(t))return new De(ge.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Re.comparator(n.key,r.key):(n,r)=>Re.comparator(n.key,r.key),this.keyedMap=Ch(),this.sortedSet=new wn(this.comparator)}static emptySet(e){return new Wu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Wu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.W_=new wn(Re.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ve():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class pd{constructor(e,n,r,s,o,a,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,o){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new pd(e,n,Wu.emptySet(n),a,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iie{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class sie{constructor(){this.queries=jD(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Ue(n),o=s.queries;s.queries=jD(),o.forEach((a,l)=>{for(const c of l.j_)c.onError(r)})})(this,new De(ge.ABORTED,"Firestore shutting down"))}}function jD(){return new af(t=>e6(t),Cw)}async function oie(t,e){const n=Ue(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.H_()&&e.J_()&&(r=2):(o=new iie,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(s,!0);break;case 1:o.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=VA(a,`Initialization of query '${au(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&BA(n)}async function aie(t,e){const n=Ue(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?s=e.J_()?0:1:!o.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lie(t,e){const n=Ue(t);let r=!1;for(const s of e){const o=s.query,a=n.queries.get(o);if(a){for(const l of a.j_)l.X_(s)&&(r=!0);a.z_=s}}r&&BA(n)}function cie(t,e,n){const r=Ue(t),s=r.queries.get(e);if(s)for(const o of s.j_)o.onError(n);r.queries.delete(e)}function BA(t){t.Y_.forEach(e=>{e.next()})}var $T,LD;(LD=$T||($T={})).ea="default",LD.Cache="cache";class uie{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new pd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=pd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==$T.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e){this.key=e}}class R6{constructor(e){this.key=e}}class die{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=tt(),this.mutatedKeys=tt(),this.Aa=t6(e),this.Ra=new Wu(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new MD,s=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const h=s.get(d),p=Pw(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;h&&p?h.data.isEqual(p.data)?v!==g&&(r.track({type:3,doc:p}),b=!0):this.ga(h,p)||(r.track({type:2,doc:p}),b=!0,(c&&this.Aa(p,c)>0||u&&this.Aa(p,u)<0)&&(l=!0)):!h&&p?(r.track({type:0,doc:p}),b=!0):h&&!p&&(r.track({type:1,doc:h}),b=!0,(c||u)&&(l=!0)),b&&(p?(a=a.add(p),o=g?o.add(d):o.delete(d)):(a=a.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ra:a,fa:r,ns:l,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((d,f)=>function(p,v){const g=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve()}};return g(p)-g(v)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),s=s!=null&&s;const l=n&&!s?this.ya():[],c=this.da.size===0&&this.current&&!s?1:0,u=c!==this.Ea;return this.Ea=c,a.length!==0||u?{snapshot:new pd(this.query,e.Ra,o,a,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new MD,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=tt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new R6(r))}),this.da.forEach(r=>{e.has(r)||n.push(new D6(r))}),n}ba(e){this.Ta=e.Ts,this.da=tt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return pd.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class fie{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class hie{constructor(e){this.key=e,this.va=!1}}class pie{constructor(e,n,r,s,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new af(l=>e6(l),Cw),this.Ma=new Map,this.xa=new Set,this.Oa=new wn(Re.comparator),this.Na=new Map,this.La=new NA,this.Ba={},this.ka=new Map,this.qa=hd.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function mie(t,e,n=!0){const r=V6(t);let s;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.Da()):s=await M6(r,e,n,!0),s}async function gie(t,e){const n=V6(t);await M6(n,e,!0,!1)}async function M6(t,e,n,r){const s=await Mre(t.localStore,Rs(e)),o=s.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await vie(t,e,o,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&P6(t.remoteStore,s),l}async function vie(t,e,n,r,s){t.Ka=(f,h,p)=>async function(g,b,y,x){let E=b.view.ma(y);E.ns&&(E=await kD(g.localStore,b.query,!1).then(({documents:C})=>b.view.ma(C,E)));const T=x&&x.targetChanges.get(b.targetId),S=x&&x.targetMismatches.get(b.targetId)!=null,A=b.view.applyChanges(E,g.isPrimaryClient,T,S);return FD(g,b.targetId,A.wa),A.snapshot}(t,f,h,p);const o=await kD(t.localStore,e,!0),a=new die(e,o.Ts),l=a.ma(o.documents),c=fg.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=a.applyChanges(l,t.isPrimaryClient,c);FD(t,n,u.wa);const d=new fie(e,n,a);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function yie(t,e,n){const r=Ue(t),s=r.Fa.get(e),o=r.Ma.get(s.targetId);if(o.length>1)return r.Ma.set(s.targetId,o.filter(a=>!Cw(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await LT(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&MA(r.remoteStore,s.targetId),FT(r,s.targetId)}).catch(cg)):(FT(r,s.targetId),await LT(r.localStore,s.targetId,!0))}async function bie(t,e){const n=Ue(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),MA(n.remoteStore,r.targetId))}async function wie(t,e,n){const r=Pie(t);try{const s=await function(a,l){const c=Ue(a),u=In.now(),d=l.reduce((p,v)=>p.add(v.key),tt());let f,h;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=No(),g=tt();return c.cs.getEntries(p,d).next(b=>{v=b,v.forEach((y,x)=>{x.isValidDocument()||(g=g.add(y))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,v)).next(b=>{f=b;const y=[];for(const x of l){const E=Fne(x,f.get(x.key).overlayedDocument);E!=null&&y.push(new $c(x.key,E,GB(E.value.mapValue),vo.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,y,l)}).next(b=>{h=b;const y=b.applyToLocalDocumentSet(f,g);return c.documentOverlayCache.saveOverlays(p,b.batchId,y)})}).then(()=>({batchId:h.batchId,changes:r6(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,l,c){let u=a.Ba[a.currentUser.toKey()];u||(u=new wn(at)),u=u.insert(l,c),a.Ba[a.currentUser.toKey()]=u}(r,s.batchId,n),await pg(r,s.changes),await Dw(r.remoteStore)}catch(s){const o=VA(s,"Failed to persist write");n.reject(o)}}async function j6(t,e){const n=Ue(t);try{const r=await Nre(n.localStore,e);e.targetChanges.forEach((s,o)=>{const a=n.Na.get(o);a&&(gt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.va=!0:s.modifiedDocuments.size>0?gt(a.va):s.removedDocuments.size>0&&(gt(a.va),a.va=!1))}),await pg(n,r,e)}catch(r){await cg(r)}}function $D(t,e,n){const r=Ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((o,a)=>{const l=a.view.Z_(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=Ue(a);c.onlineState=l;let u=!1;c.queries.forEach((d,f)=>{for(const h of f.j_)h.Z_(l)&&(u=!0)}),u&&BA(c)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _ie(t,e,n){const r=Ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),o=s&&s.key;if(o){let a=new wn(Re.comparator);a=a.insert(o,ur.newNoDocument(o,Be.min()));const l=tt().add(o),c=new Ow(Be.min(),new Map,new wn(at),a,l);await j6(r,c),r.Oa=r.Oa.remove(o),r.Na.delete(e),UA(r)}else await LT(r.localStore,e,!1).then(()=>FT(r,e,n)).catch(cg)}async function xie(t,e){const n=Ue(t),r=e.batch.batchId;try{const s=await kre(n.localStore,e);$6(n,r,null),L6(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await pg(n,s)}catch(s){await cg(s)}}async function Eie(t,e,n){const r=Ue(t);try{const s=await function(a,l){const c=Ue(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(gt(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);$6(r,e,n),L6(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await pg(r,s)}catch(s){await cg(s)}}function L6(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function $6(t,e,n){const r=Ue(t);let s=r.Ba[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function FT(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||F6(t,r)})}function F6(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(MA(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),UA(t))}function FD(t,e,n){for(const r of n)r instanceof D6?(t.La.addReference(r.key,e),Tie(t,r)):r instanceof R6?(ke("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||F6(t,r.key)):Ve()}function Tie(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ke("SyncEngine","New document in limbo: "+n),t.xa.add(r),UA(t))}function UA(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Re(en.fromString(e)),r=t.qa.next();t.Na.set(r,new hie(n)),t.Oa=t.Oa.insert(n,r),P6(t.remoteStore,new Ea(Rs(PA(n.path)),r,"TargetPurposeLimboResolution",_A.oe))}}async function pg(t,e,n){const r=Ue(t),s=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((l,c)=>{a.push(r.Ka(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=RA.Wi(c.targetId,u);o.push(f)}}))}),await Promise.all(a),r.Ca.d_(s),await async function(c,u){const d=Ue(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>me.forEach(u,h=>me.forEach(h.$i,p=>d.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>me.forEach(h.Ui,p=>d.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!ug(f))throw f;ke("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=d.os.get(h),v=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(v);d.os=d.os.insert(h,g)}}}(r.localStore,o))}async function Sie(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){ke("SyncEngine","User change. New user:",e.toKey());const r=await E6(n.localStore,e);n.currentUser=e,function(o,a){o.ka.forEach(l=>{l.forEach(c=>{c.reject(new De(ge.CANCELLED,a))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await pg(n,r.hs)}}function Cie(t,e){const n=Ue(t),r=n.Na.get(e);if(r&&r.va)return tt().add(r.key);{let s=tt();const o=n.Ma.get(e);if(!o)return s;for(const a of o){const l=n.Fa.get(a);s=s.unionWith(l.view.Va)}return s}}function V6(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=j6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cie.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_ie.bind(null,e),e.Ca.d_=lie.bind(null,e.eventManager),e.Ca.$a=cie.bind(null,e.eventManager),e}function Pie(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xie.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Eie.bind(null,e),e}class _0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kw(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Ore(this.persistence,new Are,e.initialUser,this.serializer)}Ga(e){return new Sre(DA.Zr,this.serializer)}Wa(e){return new Lre}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_0.provider={build:()=>new _0};class VT{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$D(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sie.bind(null,this.syncEngine),await rie(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new sie}()}createDatastore(e){const n=kw(e.databaseInfo.databaseId),r=function(o){return new Bre(o)}(e.databaseInfo);return function(o,a,l,c){return new Wre(o,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,a,l){return new qre(r,s,o,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>$D(this.syncEngine,n,0),function(){return DD.D()?new DD:new $re}())}createSyncEngine(e,n){return function(s,o,a,l,c,u,d){const f=new pie(s,o,a,l,c,u);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=Ue(s);ke("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await hg(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}VT.provider={build:()=>new VT};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aie{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ko("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iie{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=lr.UNAUTHENTICATED,this.clientId=WB.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{ke("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(ke("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=VA(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function n1(t,e){t.asyncQueue.verifyOperationInProgress(),ke("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await E6(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function VD(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Oie(t);ke("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>RD(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>RD(e.remoteStore,s)),t._onlineComponents=e}async function Oie(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ke("FirestoreClient","Using user provided OfflineComponentProvider");try{await n1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ge.FAILED_PRECONDITION||s.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;cd("Error using user provided cache. Falling back to memory cache: "+n),await n1(t,new _0)}}else ke("FirestoreClient","Using default OfflineComponentProvider"),await n1(t,new _0);return t._offlineComponents}async function B6(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ke("FirestoreClient","Using user provided OnlineComponentProvider"),await VD(t,t._uninitializedComponentsProvider._online)):(ke("FirestoreClient","Using default OnlineComponentProvider"),await VD(t,new VT))),t._onlineComponents}function kie(t){return B6(t).then(e=>e.syncEngine)}async function Nie(t){const e=await B6(t),n=e.eventManager;return n.onListen=mie.bind(null,e.syncEngine),n.onUnlisten=yie.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gie.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bie.bind(null,e.syncEngine),n}function Die(t,e,n={}){const r=new Ma;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,l,c,u){const d=new Aie({next:h=>{d.Za(),a.enqueueAndForget(()=>aie(o,f));const p=h.docs.has(l);!p&&h.fromCache?u.reject(new De(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&c&&c.source==="server"?u.reject(new De(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new uie(PA(l.path),d,{includeMetadataChanges:!0,_a:!0});return oie(o,f)}(await Nie(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rie(t,e,n){if(!n)throw new De(ge.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Mie(t,e,n,r){if(e===!0&&r===!0)throw new De(ge.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function UD(t){if(!Re.isDocumentKey(t))throw new De(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zA(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve()}function Bp(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new De(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zA(t);throw new De(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new De(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new De(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Mie("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U6((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new De(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new De(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new De(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class WA{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zD({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new De(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new De(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zD(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qte;switch(r.type){case"firstParty":return new Xte(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new De(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=BD.get(n);r&&(ke("ComponentProvider","Removing Datastore"),BD.delete(n),r.terminate())}(this),Promise.resolve()}}function jie(t,e,n,r={}){var s;const o=(t=Bp(t,WA))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&cd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=lr.MOCK_USER;else{l=H5(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new De(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new lr(u)}t._authCredentials=new Gte(new zB(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new HA(this.firestore,e,this._query)}}class Oi{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Up(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Oi(this.firestore,e,this._key)}}class Up extends HA{constructor(e,n,r){super(e,n,PA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Oi(this.firestore,null,new Re(e))}withConverter(e){return new Up(this.firestore,e,this._path)}}function x0(t,e,...n){if(t=hn(t),arguments.length===1&&(e=WB.newId()),Rie("doc","path",e),t instanceof WA){const r=en.fromString(e,...n);return UD(r),new Oi(t,null,new Re(r))}{if(!(t instanceof Oi||t instanceof Up))throw new De(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(en.fromString(e,...n));return UD(r),new Oi(t.firestore,t instanceof Up?t.converter:null,new Re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new S6(this,"async_queue_retry"),this.Vu=()=>{const r=t1();r&&ke("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=t1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=t1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ma;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ug(e))throw e;ke("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw ko("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=FA.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(s),s}fu(){this.Eu&&Ve()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class qA extends WA{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new WD,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new WD(e),this._firestoreClient=void 0,await e}}}function Lie(t,e,n){n||(n="(default)");const r=nl(t,"firestore");if(r.isInitialized(n)){const s=r.getImmediate({identifier:n}),o=r.getOptions(n);if(ad(o,e))return s;throw new De(ge.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new De(ge.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new De(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function z6(t){if(t._terminated)throw new De(ge.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||$ie(t),t._firestoreClient}function $ie(t){var e,n,r;const s=t._freezeSettings(),o=function(l,c,u,d){return new cne(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,U6(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new Iie(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e){this._byteString=e}static fromBase64String(e){try{return new md(Jn.fromBase64String(e))}catch(n){throw new De(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new md(Jn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new De(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new De(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new De(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fie=/^__.*__$/;class Vie{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $c(e,this.data,this.fieldMask,n,this.fieldTransforms):new dg(e,this.data,n,this.fieldTransforms)}}function W6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve()}}class QA{constructor(e,n,r,s,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new QA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return E0(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(W6(this.Cu)&&Fie.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Bie{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||kw(e)}Qu(e,n,r,s=!1){return new QA({Cu:e,methodName:n,qu:r,path:Yn.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uie(t){const e=t._freezeSettings(),n=kw(t._databaseId);return new Bie(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zie(t,e,n,r,s,o={}){const a=t.Qu(o.merge||o.mergeFields?2:0,e,n,s);K6("Data must be an object, but it was:",a,r);const l=q6(r,a);let c,u;if(o.merge)c=new Xi(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const h=Wie(e,f,n);if(!a.contains(h))throw new De(ge.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);qie(d,h)||d.push(h)}c=new Xi(d),u=a.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=a.fieldTransforms;return new Vie(new Ti(l),c,u)}class ZA extends KA{_toFieldTransform(e){return new Mne(e.path,new $p)}isEqual(e){return e instanceof ZA}}function H6(t,e){if(G6(t=hn(t)))return K6("Unsupported field value:",e,t),q6(t,e);if(t instanceof KA)return function(r,s){if(!W6(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const o=[];let a=0;for(const l of r){let c=H6(l,s.Lu(a));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=hn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Nne(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=In.fromDate(r);return{timestampValue:b0(s.serializer,o)}}if(r instanceof In){const o=new In(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:b0(s.serializer,o)}}if(r instanceof YA)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof md)return{bytesValue:g6(s.serializer,r._byteString)};if(r instanceof Oi){const o=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw s.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:kA(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof XA)return function(a,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return AA(l.serializer,c)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${zA(r)}`)}(t,e)}function q6(t,e){const n={};return HB(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):of(t,(r,s)=>{const o=H6(s,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function G6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof In||t instanceof YA||t instanceof md||t instanceof Oi||t instanceof KA||t instanceof XA)}function K6(t,e,n){if(!G6(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=zA(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Wie(t,e,n){if((e=hn(e))instanceof GA)return e._internalPath;if(typeof e=="string")return Y6(t,e);throw E0("Field path arguments must be of type string or ",t,!1,void 0,n)}const Hie=new RegExp("[~\\*/\\[\\]]");function Y6(t,e,n){if(e.search(Hie)>=0)throw E0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new GA(...e.split("."))._internalPath}catch{throw E0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function E0(t,e,n,r,s){const o=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(o||a)&&(c+=" (found",o&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new De(ge.INVALID_ARGUMENT,l+t+c)}function qie(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Oi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Gie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Q6("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Gie extends X6{data(){return super.data()}}function Q6(t,e){return typeof e=="string"?Y6(t,e):e instanceof GA?e._internalPath:e._delegate._internalPath}class Kie{convertValue(e,n="none"){switch(pc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return an(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return of(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,s;const o=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(a=>an(a.doubleValue));return new XA(o)}convertGeoPoint(e){return new YA(an(e.latitude),an(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=EA(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Mp(e));default:return null}}convertTimestamp(e){const n=Wa(e);return new In(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=en.fromString(e);gt(x6(r));const s=new jp(r.get(1),r.get(3)),o=new Re(r.popFirst(5));return s.isEqual(n)||ko(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yie(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xie{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Z6 extends X6{constructor(e,n,r,s,o,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qie(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Q6("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Qie extends Z6{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zie(t){t=Bp(t,Oi);const e=Bp(t.firestore,qA);return Die(z6(e),t._key).then(n=>tse(e,t,n))}class Jie extends Kie{constructor(e){super(),this.firestore=e}convertBytes(e){return new md(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Oi(this.firestore,null,n)}}function JA(t,e,n){t=Bp(t,Oi);const r=Bp(t.firestore,qA),s=Yie(t.converter,e,n);return ese(r,[zie(Uie(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,vo.none())])}function ese(t,e){return function(r,s){const o=new Ma;return r.asyncQueue.enqueueAndForget(async()=>wie(await kie(r),s,o)),o.promise}(z6(t),e)}function tse(t,e,n){const r=n.docs.get(e._key),s=new Jie(t);return new Z6(t,s,e._key,r,new Xie(n.hasPendingWrites,n.fromCache),e.converter)}function nse(){return new ZA("serverTimestamp")}(function(e,n=!0){(function(s){sf=s})(jc),is(new Di("firestore",(r,{instanceIdentifier:s,options:o})=>{const a=r.getProvider("app").getImmediate(),l=new qA(new Kte(r.getProvider("auth-internal")),new Zte(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new De(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jp(u.options.projectId,d)}(a,s),a);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Vr(uD,"4.7.3",e),Vr(uD,"4.7.3","esm2017")})();const J6="@firebase/installations",eI="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU=1e4,tU=`w:${eI}`,nU="FIS_v2",rse="https://firebaseinstallations.googleapis.com/v1",ise=60*60*1e3,sse="installations",ose="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ase={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},mc=new Mc(sse,ose,ase);function rU(t){return t instanceof ls&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU({projectId:t}){return`${rse}/projects/${t}/installations`}function sU(t){return{token:t.token,requestStatus:2,expiresIn:cse(t.expiresIn),creationTime:Date.now()}}async function oU(t,e){const r=(await e.json()).error;return mc.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function aU({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function lse(t,{refreshToken:e}){const n=aU(t);return n.append("Authorization",use(e)),n}async function lU(t){const e=await t();return e.status>=500&&e.status<600?t():e}function cse(t){return Number(t.replace("s","000"))}function use(t){return`${nU} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dse({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=iU(t),s=aU(t),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const a={fid:n,authVersion:nU,appId:t.appId,sdkVersion:tU},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await lU(()=>fetch(r,l));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:sU(u.authToken)}}else throw await oU("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fse(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hse=/^[cdef][\w-]{21}$/,BT="";function pse(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=mse(t);return hse.test(n)?n:BT}catch{return BT}}function mse(t){return fse(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU=new Map;function dU(t,e){const n=Rw(t);fU(n,e),gse(n,e)}function fU(t,e){const n=uU.get(t);if(n)for(const r of n)r(e)}function gse(t,e){const n=vse();n&&n.postMessage({key:t,fid:e}),yse()}let Vl=null;function vse(){return!Vl&&"BroadcastChannel"in self&&(Vl=new BroadcastChannel("[Firebase] FID Change"),Vl.onmessage=t=>{fU(t.data.key,t.data.fid)}),Vl}function yse(){uU.size===0&&Vl&&(Vl.close(),Vl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bse="firebase-installations-database",wse=1,gc="firebase-installations-store";let r1=null;function tI(){return r1||(r1=J5(bse,wse,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(gc)}}})),r1}async function T0(t,e){const n=Rw(t),s=(await tI()).transaction(gc,"readwrite"),o=s.objectStore(gc),a=await o.get(n);return await o.put(e,n),await s.done,(!a||a.fid!==e.fid)&&dU(t,e.fid),e}async function hU(t){const e=Rw(t),r=(await tI()).transaction(gc,"readwrite");await r.objectStore(gc).delete(e),await r.done}async function Mw(t,e){const n=Rw(t),s=(await tI()).transaction(gc,"readwrite"),o=s.objectStore(gc),a=await o.get(n),l=e(a);return l===void 0?await o.delete(n):await o.put(l,n),await s.done,l&&(!a||a.fid!==l.fid)&&dU(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(t){let e;const n=await Mw(t.appConfig,r=>{const s=_se(r),o=xse(t,s);return e=o.registrationPromise,o.installationEntry});return n.fid===BT?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function _se(t){const e=t||{fid:pse(),registrationStatus:0};return pU(e)}function xse(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(mc.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Ese(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Tse(t)}:{installationEntry:e}}async function Ese(t,e){try{const n=await dse(t,e);return T0(t.appConfig,n)}catch(n){throw rU(n)&&n.customData.serverCode===409?await hU(t.appConfig):await T0(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Tse(t){let e=await HD(t.appConfig);for(;e.registrationStatus===1;)await cU(100),e=await HD(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await nI(t);return r||n}return e}function HD(t){return Mw(t,e=>{if(!e)throw mc.create("installation-not-found");return pU(e)})}function pU(t){return Sse(t)?{fid:t.fid,registrationStatus:0}:t}function Sse(t){return t.registrationStatus===1&&t.registrationTime+eU<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cse({appConfig:t,heartbeatServiceProvider:e},n){const r=Pse(t,n),s=lse(t,n),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const a={installation:{sdkVersion:tU,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await lU(()=>fetch(r,l));if(c.ok){const u=await c.json();return sU(u)}else throw await oU("Generate Auth Token",c)}function Pse(t,{fid:e}){return`${iU(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(t,e=!1){let n;const r=await Mw(t.appConfig,o=>{if(!mU(o))throw mc.create("not-registered");const a=o.authToken;if(!e&&Ose(a))return o;if(a.requestStatus===1)return n=Ase(t,e),o;{if(!navigator.onLine)throw mc.create("app-offline");const l=Nse(o);return n=Ise(t,l),l}});return n?await n:r.authToken}async function Ase(t,e){let n=await qD(t.appConfig);for(;n.authToken.requestStatus===1;)await cU(100),n=await qD(t.appConfig);const r=n.authToken;return r.requestStatus===0?rI(t,e):r}function qD(t){return Mw(t,e=>{if(!mU(e))throw mc.create("not-registered");const n=e.authToken;return Dse(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Ise(t,e){try{const n=await Cse(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await T0(t.appConfig,r),n}catch(n){if(rU(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await hU(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await T0(t.appConfig,r)}throw n}}function mU(t){return t!==void 0&&t.registrationStatus===2}function Ose(t){return t.requestStatus===2&&!kse(t)}function kse(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+ise}function Nse(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Dse(t){return t.requestStatus===1&&t.requestTime+eU<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rse(t){const e=t,{installationEntry:n,registrationPromise:r}=await nI(e);return r?r.catch(console.error):rI(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mse(t,e=!1){const n=t;return await jse(n),(await rI(n,e)).token}async function jse(t){const{registrationPromise:e}=await nI(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lse(t){if(!t||!t.options)throw i1("App Configuration");if(!t.name)throw i1("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw i1(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function i1(t){return mc.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU="installations",$se="installations-internal",Fse=t=>{const e=t.getProvider("app").getImmediate(),n=Lse(e),r=nl(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Vse=t=>{const e=t.getProvider("app").getImmediate(),n=nl(e,gU).getImmediate();return{getId:()=>Rse(n),getToken:s=>Mse(n,s)}};function Bse(){is(new Di(gU,Fse,"PUBLIC")),is(new Di($se,Vse,"PRIVATE"))}Bse();Vr(J6,eI);Vr(J6,eI,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="analytics",Use="firebase_id",zse="origin",Wse=60*1e3,Hse="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",iI="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new ig("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qse={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ri=new Mc("analytics","Analytics",qse);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gse(t){if(!t.startsWith(iI)){const e=ri.create("invalid-gtag-resource",{gtagURL:t});return Br.warn(e.message),""}return t}function vU(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Kse(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Yse(t,e){const n=Kse("firebase-js-sdk-policy",{createScriptURL:Gse}),r=document.createElement("script"),s=`${iI}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function Xse(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Qse(t,e,n,r,s,o){const a=r[s];try{if(a)await e[a];else{const c=(await vU(n)).find(u=>u.measurementId===s);c&&await e[c.appId]}}catch(l){Br.error(l)}t("config",s,o)}async function Zse(t,e,n,r,s){try{let o=[];if(s&&s.send_to){let a=s.send_to;Array.isArray(a)||(a=[a]);const l=await vU(n);for(const c of a){const u=l.find(f=>f.measurementId===c),d=u&&e[u.appId];if(d)o.push(d);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,s||{})}catch(o){Br.error(o)}}function Jse(t,e,n,r){async function s(o,...a){try{if(o==="event"){const[l,c]=a;await Zse(t,e,n,l,c)}else if(o==="config"){const[l,c]=a;await Qse(t,e,n,r,l,c)}else if(o==="consent"){const[l,c]=a;t("consent",l,c)}else if(o==="get"){const[l,c,u]=a;t("get",l,c,u)}else if(o==="set"){const[l]=a;t("set",l)}else t(o,...a)}catch(l){Br.error(l)}}return s}function eoe(t,e,n,r,s){let o=function(...a){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(o=window[s]),window[s]=Jse(o,t,e,n),{gtagCore:o,wrappedGtag:window[s]}}function toe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(iI)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const noe=30,roe=1e3;class ioe{constructor(e={},n=roe){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const yU=new ioe;function soe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function ooe(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:soe(r)},o=Hse.replace("{app-id}",n),a=await fetch(o,s);if(a.status!==200&&a.status!==304){let l="";try{const c=await a.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw ri.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function aoe(t,e=yU,n){const{appId:r,apiKey:s,measurementId:o}=t.options;if(!r)throw ri.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:r};throw ri.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new uoe;return setTimeout(async()=>{l.abort()},n!==void 0?n:Wse),bU({appId:r,apiKey:s,measurementId:o},a,l,e)}async function bU(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=yU){var o;const{appId:a,measurementId:l}=t;try{await loe(r,e)}catch(c){if(l)return Br.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:l};throw c}try{const c=await ooe(t);return s.deleteThrottleMetadata(a),c}catch(c){const u=c;if(!coe(u)){if(s.deleteThrottleMetadata(a),l)return Br.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:l};throw c}const d=Number((o=u==null?void 0:u.customData)===null||o===void 0?void 0:o.httpStatus)===503?M2(n,s.intervalMillis,noe):M2(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(a,f),Br.debug(`Calling attemptFetch again in ${d} millis`),bU(t,f,r,s)}}function loe(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),o=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(o),r(ri.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function coe(t){if(!(t instanceof ls)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class uoe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function doe(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const o=await e,a=Object.assign(Object.assign({},r),{send_to:o});t("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function foe(){if(oA())try{await aA()}catch(t){return Br.warn(ri.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Br.warn(ri.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function hoe(t,e,n,r,s,o,a){var l;const c=aoe(t);c.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Br.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Br.error(p)),e.push(c);const u=foe().then(p=>{if(p)return r.getId()}),[d,f]=await Promise.all([c,u]);toe(o)||Yse(o,d.measurementId),s("js",new Date);const h=(l=a==null?void 0:a.config)!==null&&l!==void 0?l:{};return h[zse]="firebase",h.update=!0,f!=null&&(h[Use]=f),s("config",d.measurementId,h),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class poe{constructor(e){this.app=e}_delete(){return delete Gh[this.app.options.appId],Promise.resolve()}}let Gh={},GD=[];const KD={};let s1="dataLayer",moe="gtag",YD,wU,XD=!1;function goe(){const t=[];if(sA()&&t.push("This is a browser extension environment."),K5()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=ri.create("invalid-analytics-context",{errorInfo:e});Br.warn(n.message)}}function voe(t,e,n){goe();const r=t.options.appId;if(!r)throw ri.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Br.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ri.create("no-api-key");if(Gh[r]!=null)throw ri.create("already-exists",{id:r});if(!XD){Xse(s1);const{wrappedGtag:o,gtagCore:a}=eoe(Gh,GD,KD,s1,moe);wU=o,YD=a,XD=!0}return Gh[r]=hoe(t,GD,KD,e,YD,s1,n),new poe(t)}function yoe(t=cA()){t=hn(t);const e=nl(t,S0);return e.isInitialized()?e.getImmediate():boe(t)}function boe(t,e={}){const n=nl(t,S0);if(n.isInitialized()){const s=n.getImmediate();if(ad(e,n.getOptions()))return s;throw ri.create("already-initialized")}return n.initialize({options:e})}async function woe(){if(sA()||!K5()||!oA())return!1;try{return await aA()}catch{return!1}}function _oe(t,e,n,r){t=hn(t),doe(wU,Gh[t.app.options.appId],e,n,r).catch(s=>Br.error(s))}const QD="@firebase/analytics",ZD="0.10.8";function xoe(){is(new Di(S0,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return voe(r,s,n)},"PUBLIC")),is(new Di("analytics-internal",t,"PRIVATE")),Vr(QD,ZD),Vr(QD,ZD,"esm2017");function t(e){try{const n=e.getProvider(S0).getImmediate();return{logEvent:(r,s,o)=>_oe(n,r,s,o)}}catch(n){throw ri.create("interop-component-reg-failed",{reason:n})}}}xoe();const JD="@firebase/database",eR="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _U="";function Eoe(t){_U=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Toe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Vn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:kp(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Soe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return zo(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Toe(e)}}catch{}return new Soe},Bl=xU("localStorage"),UT=xU("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=new ig("@firebase/database"),Coe=function(){let t=1;return function(){return t++}}(),EU=function(t){const e=yZ(t),n=new pZ;n.update(e);const r=n.digest();return nA.encodeByteArray(r)},mg=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=mg.apply(null,r):typeof r=="object"?e+=Vn(r):e+=r,e+=" "}return e};let Yl=null,tR=!0;const Poe=function(t,e){_e(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Hu.logLevel=et.VERBOSE,Yl=Hu.log.bind(Hu),e&&UT.set("logging_enabled",!0)):typeof t=="function"?Yl=t:(Yl=null,UT.remove("logging_enabled"))},dr=function(...t){if(tR===!0&&(tR=!1,Yl===null&&UT.get("logging_enabled")===!0&&Poe(!0)),Yl){const e=mg.apply(null,t);Yl(e)}},gg=function(t){return function(...e){dr(t,...e)}},zT=function(...t){const e="FIREBASE INTERNAL ERROR: "+mg(...t);Hu.error(e)},Do=function(...t){const e=`FIREBASE FATAL ERROR: ${mg(...t)}`;throw Hu.error(e),new Error(e)},ii=function(...t){const e="FIREBASE WARNING: "+mg(...t);Hu.warn(e)},Aoe=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ii("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},TU=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Ioe=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},gd="[MIN_NAME]",vc="[MAX_NAME]",cf=function(t,e){if(t===e)return 0;if(t===gd||e===vc)return-1;if(e===gd||t===vc)return 1;{const n=nR(t),r=nR(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Ooe=function(t,e){return t===e?0:t<e?-1:1},eh=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Vn(e))},sI=function(t){if(typeof t!="object"||t===null)return Vn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Vn(e[r]),n+=":",n+=sI(t[e[r]]);return n+="}",n},SU=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Hr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const CU=function(t){_e(!TU(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,o,a,l,c;t===0?(o=0,a=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=l+r,a=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(o=0,a=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(c=n;c;c-=1)u.push(a%2?1:0),a=Math.floor(a/2);for(c=e;c;c-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(s?1:0),u.reverse();const d=u.join("");let f="";for(c=0;c<64;c+=8){let h=parseInt(d.substr(c,8),2).toString(16);h.length===1&&(h="0"+h),f=f+h}return f.toLowerCase()},koe=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Noe=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Doe(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Roe=new RegExp("^-?(0*)\\d{1,10}$"),Moe=-2147483648,joe=2147483647,nR=function(t){if(Roe.test(t)){const e=Number(t);if(e>=Moe&&e<=joe)return e}return null},vg=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ii("Exception was thrown by user callback.",n),e},Math.floor(0))}},Loe=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Kh=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $oe{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ii(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Foe{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(dr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ii(e)}}class qu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}qu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="5",PU="v",AU="s",IU="r",OU="f",kU=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,NU="ls",DU="p",WT="ac",RU="websocket",MU="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e,n,r,s,o=!1,a="",l=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Bl.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Bl.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Voe(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function LU(t,e,n){_e(typeof e=="string","typeof type must == string"),_e(typeof n=="object","typeof params must == object");let r;if(e===RU)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===MU)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Voe(t)&&(n.ns=t.namespace);const s=[];return Hr(n,(o,a)=>{s.push(o+"="+a)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Boe{constructor(){this.counters_={}}incrementCounter(e,n=1){zo(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return ZQ(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1={},a1={};function aI(t){const e=t.toString();return o1[e]||(o1[e]=new Boe),o1[e]}function Uoe(t,e){const n=t.toString();return a1[n]||(a1[n]=e()),a1[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zoe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&vg(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="start",Woe="close",Hoe="pLPCommand",qoe="pRTLPCB",$U="id",FU="pw",VU="ser",Goe="cb",Koe="seg",Yoe="ts",Xoe="d",Qoe="dframe",BU=1870,UU=30,Zoe=BU-UU,Joe=25e3,eae=3e4;class Su{constructor(e,n,r,s,o,a,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=gg(e),this.stats_=aI(n),this.urlFn=c=>(this.appCheckToken&&(c[WT]=this.appCheckToken),LU(n,MU,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new zoe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(eae)),Ioe(()=>{if(this.isClosed_)return;this.scriptTagHolder=new lI((...o)=>{const[a,l,c,u,d]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===rR)this.id=l,this.password=c;else if(a===Woe)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...o)=>{const[a,l]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(a,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[rR]="t",r[VU]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Goe]=this.scriptTagHolder.uniqueCallbackIdentifier),r[PU]=oI,this.transportSessionId&&(r[AU]=this.transportSessionId),this.lastSessionId&&(r[NU]=this.lastSessionId),this.applicationId&&(r[DU]=this.applicationId),this.appCheckToken&&(r[WT]=this.appCheckToken),typeof location<"u"&&location.hostname&&kU.test(location.hostname)&&(r[IU]=OU);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Su.forceAllow_=!0}static forceDisallow(){Su.forceDisallow_=!0}static isAvailable(){return Su.forceAllow_?!0:!Su.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!koe()&&!Noe()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Vn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=V5(n),s=SU(r,Zoe);for(let o=0;o<s.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Qoe]="t",r[$U]=e,r[FU]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Vn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class lI{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Coe(),window[Hoe+this.uniqueCallbackIdentifier]=e,window[qoe+this.uniqueCallbackIdentifier]=n,this.myIFrame=lI.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(l){dr("frame writing exception"),l.stack&&dr(l.stack),dr(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||dr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[$U]=this.myID,e[FU]=this.myPW,e[VU]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+UU+r.length<=BU;){const a=this.pendingSegs.shift();r=r+"&"+Koe+s+"="+a.seg+"&"+Yoe+s+"="+a.ts+"&"+Xoe+s+"="+a.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(Joe)),o=()=>{clearTimeout(s),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{dr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tae=16384,nae=45e3;let C0=null;typeof MozWebSocket<"u"?C0=MozWebSocket:typeof WebSocket<"u"&&(C0=WebSocket);class Ki{constructor(e,n,r,s,o,a,l){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=gg(this.connId),this.stats_=aI(n),this.connURL=Ki.connectionURL_(n,a,l,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,o){const a={};return a[PU]=oI,typeof location<"u"&&location.hostname&&kU.test(location.hostname)&&(a[IU]=OU),n&&(a[AU]=n),r&&(a[NU]=r),s&&(a[WT]=s),o&&(a[DU]=o),LU(e,RU,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Bl.set("previous_websocket_failure",!0);try{let r;G5(),this.mySock=new C0(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Ki.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&C0!==null&&!Ki.forceDisallow_}static previouslyFailed(){return Bl.isInMemoryStorage||Bl.get("previous_websocket_failure")===!0}markConnectionHealthy(){Bl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=kp(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(_e(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Vn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=SU(n,tae);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(nae))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ki.responsesRequiredToBeHealthy=2;Ki.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Su,Ki]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Ki&&Ki.isAvailable();let r=n&&!Ki.previouslyFailed();if(e.webSocketOnly&&(n||ii("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ki];else{const s=this.transports_=[];for(const o of zp.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);zp.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}zp.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rae=6e4,iae=5e3,sae=10*1024,oae=100*1024,l1="t",iR="d",aae="s",sR="r",lae="e",oR="o",aR="a",lR="n",cR="p",cae="h";class uae{constructor(e,n,r,s,o,a,l,c,u,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=o,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=c,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=gg("c:"+this.id+":"),this.transportManager_=new zp(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Kh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>oae?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>sae?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(l1 in e){const n=e[l1];n===aR?this.upgradeIfSecondaryHealthy_():n===sR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===oR&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=eh("t",e),r=eh("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:cR,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:aR,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:lR,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=eh("t",e),r=eh("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=eh(l1,e);if(iR in e){const r=e[iR];if(n===cae){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===lR){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===aae?this.onConnectionShutdown_(r):n===sR?this.onReset_(r):n===lae?zT("Server Error: "+r):n===oR?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):zT("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),oI!==r&&ii("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Kh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(rae))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Kh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(iae))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:cR,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Bl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WU=class{constructor(e){this.allowedEvents_=e,this.listeners_={},_e(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let o=0;o<s.length;o++)if(s[o].callback===n&&(!r||r===s[o].context)){s.splice(o,1);return}}validateEventType_(e){_e(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0 extends WU{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!iA()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new P0}getInitialEvent(e){return _e(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=32,dR=768;let St=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function ct(){return new St("")}function Xe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function qa(t){return t.pieces_.length-t.pieceNum_}function Ot(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new St(t.pieces_,e)}function HU(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function dae(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function qU(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function GU(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new St(e,0)}function Cn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof St)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new St(n,0)}function Qe(t){return t.pieceNum_>=t.pieces_.length}function Dr(t,e){const n=Xe(t),r=Xe(e);if(n===null)return e;if(n===r)return Dr(Ot(t),Ot(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function cI(t,e){if(qa(t)!==qa(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Qi(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(qa(t)>qa(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class fae{constructor(e,n){this.errorPrefix_=n,this.parts_=qU(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ww(this.parts_[r]);KU(this)}}function hae(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ww(e),KU(t)}function pae(t){const e=t.parts_.pop();t.byteLength_-=ww(e),t.parts_.length>0&&(t.byteLength_-=1)}function KU(t){if(t.byteLength_>dR)throw new Error(t.errorPrefix_+"has a key path longer than "+dR+" bytes ("+t.byteLength_+").");if(t.parts_.length>uR)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+uR+") or object contains a cycle "+Cl(t))}function Cl(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI extends WU{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new uI}getInitialEvent(e){return _e(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=1e3,mae=60*5*1e3,fR=30*1e3,gae=1.3,vae=3e4,yae="server_kill",hR=3;class yo extends zU{constructor(e,n,r,s,o,a,l,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=yo.nextPersistentConnectionId_++,this.log_=gg("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=th,this.maxReconnectDelay_=mae,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!G5())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");uI.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&P0.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,o={r:s,a:e,b:n};this.log_(Vn(o)),_e(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new rA,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const l=a.d;a.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,s){this.initConnection_();const o=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),_e(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),_e(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const o={p:r},a="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(a,o,l=>{const c=l.d,u=l.s;yo.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(u,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&zo(e,"w")){const r=od(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();ii(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||hZ(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=fR)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=fZ(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const o=s.s,a=s.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),_e(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const o={p:e},a="n";s&&(o.q=r,o.t=s),this.sendRequest(a,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,o){this.initConnection_();const a={p:n,d:r};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:e,request:a,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Vn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):zT("Unrecognized action received from server: "+Vn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){_e(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=th,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=th,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>vae&&(this.reconnectDelay_=th),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*gae)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+yo.nextConnectionId_++,o=this.lastSessionId;let a=!1,l=null;const c=function(){l?l.close():(a=!0,r())},u=function(f){_e(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:c,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,h]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?dr("getToken() completed but was canceled"):(dr("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,l=new uae(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{ii(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(yae)},o))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&ii(f),c())}}}interrupt(e){dr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){dr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],gT(this.interruptReasons_)&&(this.reconnectDelay_=th,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>sI(o)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new St(e).toString();let s;if(this.listens.has(r)){const o=this.listens.get(r);s=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){dr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=hR&&(this.reconnectDelay_=fR,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){dr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=hR&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+_U.replace(/\./g,"-")]=1,iA()?e["framework.cordova"]=1:q5()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=P0.getInstance().currentlyOnline();return gT(this.interruptReasons_)&&e}}yo.nextPersistentConnectionId_=0;yo.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ge(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ge(gd,e),s=new Ge(gd,n);return this.compare(r,s)!==0}minPost(){return Ge.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iv;class YU extends jw{static get __EMPTY_NODE(){return Iv}static set __EMPTY_NODE(e){Iv=e}compare(e,n){return cf(e.name,n.name)}isDefinedOn(e){throw tf("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ge.MIN}maxPost(){return new Ge(vc,Iv)}makePost(e,n){return _e(typeof e=="string","KeyIndex indexValue must always be a string."),new Ge(e,Iv)}toString(){return".key"}}const Gu=new YU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,n,r,s,o=null){this.isReverse_=s,this.resultGenerator_=o,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,s&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Fn{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??Fn.RED,this.left=s??Rr.EMPTY_NODE,this.right=o??Rr.EMPTY_NODE}copy(e,n,r,s,o){return new Fn(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Rr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Rr.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Fn.RED=!0;Fn.BLACK=!1;class bae{copy(e,n,r,s,o){return this}insert(e,n,r){return new Fn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Rr{constructor(e,n=Rr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Rr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Fn.BLACK,null,null))}remove(e){return new Rr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Fn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ov(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ov(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ov(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ov(this.root_,null,this.comparator_,!0,e)}}Rr.EMPTY_NODE=new bae;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wae(t,e){return cf(t.name,e.name)}function dI(t,e){return cf(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HT;function _ae(t){HT=t}const XU=function(t){return typeof t=="number"?"number:"+CU(t):"string:"+t},QU=function(t){if(t.isLeafNode()){const e=t.val();_e(typeof e=="string"||typeof e=="number"||typeof e=="object"&&zo(e,".sv"),"Priority must be a string or number.")}else _e(t===HT||t.isEmpty(),"priority of unexpected type.");_e(t===HT||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pR;class Mn{constructor(e,n=Mn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,_e(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),QU(this.priorityNode_)}static set __childrenNodeConstructor(e){pR=e}static get __childrenNodeConstructor(){return pR}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Mn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Mn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Qe(e)?this:Xe(e)===".priority"?this.priorityNode_:Mn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Mn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Xe(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(_e(r!==".priority"||qa(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Mn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ot(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+XU(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=CU(this.value_):e+=this.value_,this.lazyHash_=EU(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Mn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Mn.__childrenNodeConstructor?-1:(_e(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Mn.VALUE_TYPE_ORDER.indexOf(n),o=Mn.VALUE_TYPE_ORDER.indexOf(r);return _e(s>=0,"Unknown leaf type: "+n),_e(o>=0,"Unknown leaf type: "+r),s===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Mn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZU,JU;function xae(t){ZU=t}function Eae(t){JU=t}class Tae extends jw{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),o=r.compareTo(s);return o===0?cf(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ge.MIN}maxPost(){return new Ge(vc,new Mn("[PRIORITY-POST]",JU))}makePost(e,n){const r=ZU(e);return new Ge(n,new Mn("[PRIORITY-POST]",r))}toString(){return".priority"}}const rn=new Tae;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sae=Math.log(2);class Cae{constructor(e){const n=o=>parseInt(Math.log(o)/Sae,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const A0=function(t,e,n,r){t.sort(e);const s=function(c,u){const d=u-c;let f,h;if(d===0)return null;if(d===1)return f=t[c],h=n?n(f):f,new Fn(h,f.node,Fn.BLACK,null,null);{const p=parseInt(d/2,10)+c,v=s(c,p),g=s(p+1,u);return f=t[p],h=n?n(f):f,new Fn(h,f.node,Fn.BLACK,v,g)}},o=function(c){let u=null,d=null,f=t.length;const h=function(v,g){const b=f-v,y=f;f-=v;const x=s(b+1,y),E=t[b],T=n?n(E):E;p(new Fn(T,E.node,g,null,x))},p=function(v){u?(u.left=v,u=v):(d=v,u=v)};for(let v=0;v<c.count;++v){const g=c.nextBitIsOne(),b=Math.pow(2,c.count-(v+1));g?h(b,Fn.BLACK):(h(b,Fn.BLACK),h(b,Fn.RED))}return d},a=new Cae(t.length),l=o(a);return new Rr(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c1;const tu={};class uo{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return _e(tu&&rn,"ChildrenNode.ts has not been loaded"),c1=c1||new uo({".priority":tu},{".priority":rn}),c1}get(e){const n=od(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Rr?n:null}hasIndex(e){return zo(this.indexSet_,e.toString())}addIndex(e,n){_e(e!==Gu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const o=n.getIterator(Ge.Wrap);let a=o.getNext();for(;a;)s=s||e.isDefinedOn(a.node),r.push(a),a=o.getNext();let l;s?l=A0(r,e.getCompare()):l=tu;const c=e.toString(),u=Object.assign({},this.indexSet_);u[c]=e;const d=Object.assign({},this.indexes_);return d[c]=l,new uo(d,u)}addToIndexes(e,n){const r=l0(this.indexes_,(s,o)=>{const a=od(this.indexSet_,o);if(_e(a,"Missing index implementation for "+o),s===tu)if(a.isDefinedOn(e.node)){const l=[],c=n.getIterator(Ge.Wrap);let u=c.getNext();for(;u;)u.name!==e.name&&l.push(u),u=c.getNext();return l.push(e),A0(l,a.getCompare())}else return tu;else{const l=n.get(e.name);let c=s;return l&&(c=c.remove(new Ge(e.name,l))),c.insert(e,e.node)}});return new uo(r,this.indexSet_)}removeFromIndexes(e,n){const r=l0(this.indexes_,s=>{if(s===tu)return s;{const o=n.get(e.name);return o?s.remove(new Ge(e.name,o)):s}});return new uo(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh;class Fe{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&QU(this.priorityNode_),this.children_.isEmpty()&&_e(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return nh||(nh=new Fe(new Rr(dI),null,uo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||nh}updatePriority(e){return this.children_.isEmpty()?this:new Fe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?nh:n}}getChild(e){const n=Xe(e);return n===null?this:this.getImmediateChild(n).getChild(Ot(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(_e(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Ge(e,n);let s,o;n.isEmpty()?(s=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const a=s.isEmpty()?nh:this.priorityNode_;return new Fe(s,a,o)}}updateChild(e,n){const r=Xe(e);if(r===null)return n;{_e(Xe(e)!==".priority"||qa(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Ot(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,o=!0;if(this.forEachChild(rn,(a,l)=>{n[a]=l.val(e),r++,o&&Fe.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!e&&o&&s<2*r){const a=[];for(const l in n)a[l]=n[l];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+XU(this.getPriority().val())+":"),this.forEachChild(rn,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":EU(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const o=s.getPredecessorKey(new Ge(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ge(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ge(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Ge.Wrap);let o=s.peek();for(;o!=null&&n.compare(o,e)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Ge.Wrap);let o=s.peek();for(;o!=null&&n.compare(o,e)>0;)s.getNext(),o=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===yg?-1:0}withIndex(e){if(e===Gu||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Fe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Gu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(rn),s=n.getIterator(rn);let o=r.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===Gu?null:this.indexMap_.get(e.toString())}}Fe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Pae extends Fe{constructor(){super(new Rr(dI),Fe.EMPTY_NODE,uo.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Fe.EMPTY_NODE}isEmpty(){return!1}}const yg=new Pae;Object.defineProperties(Ge,{MIN:{value:new Ge(gd,Fe.EMPTY_NODE)},MAX:{value:new Ge(vc,yg)}});YU.__EMPTY_NODE=Fe.EMPTY_NODE;Mn.__childrenNodeConstructor=Fe;_ae(yg);Eae(yg);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aae=!0;function fr(t,e=null){if(t===null)return Fe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),_e(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Mn(n,fr(e))}if(!(t instanceof Array)&&Aae){const n=[];let r=!1;if(Hr(t,(a,l)=>{if(a.substring(0,1)!=="."){const c=fr(l);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new Ge(a,c)))}}),n.length===0)return Fe.EMPTY_NODE;const o=A0(n,wae,a=>a.name,dI);if(r){const a=A0(n,rn.getCompare());return new Fe(o,fr(e),new uo({".priority":a},{".priority":rn}))}else return new Fe(o,fr(e),uo.Default)}else{let n=Fe.EMPTY_NODE;return Hr(t,(r,s)=>{if(zo(t,r)&&r.substring(0,1)!=="."){const o=fr(s);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(fr(e))}}xae(fr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iae extends jw{constructor(e){super(),this.indexPath_=e,_e(!Qe(e)&&Xe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),o=r.compareTo(s);return o===0?cf(e.name,n.name):o}makePost(e,n){const r=fr(e),s=Fe.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ge(n,s)}maxPost(){const e=Fe.EMPTY_NODE.updateChild(this.indexPath_,yg);return new Ge(vc,e)}toString(){return qU(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oae extends jw{compare(e,n){const r=e.node.compareTo(n.node);return r===0?cf(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ge.MIN}maxPost(){return Ge.MAX}makePost(e,n){const r=fr(e);return new Ge(n,r)}toString(){return".value"}}const kae=new Oae;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ez(t){return{type:"value",snapshotNode:t}}function vd(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Wp(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Hp(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Nae(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.index_=e}updateChild(e,n,r,s,o,a){_e(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(s).equals(r.getChild(s))&&l.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(Wp(n,l)):_e(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange(vd(n,r)):a.trackChildChange(Hp(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(rn,(s,o)=>{n.hasChild(s)||r.trackChildChange(Wp(s,o))}),n.isLeafNode()||n.forEachChild(rn,(s,o)=>{if(e.hasChild(s)){const a=e.getImmediateChild(s);a.equals(o)||r.trackChildChange(Hp(s,o,a))}else r.trackChildChange(vd(s,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Fe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e){this.indexedFilter_=new fI(e.getIndex()),this.index_=e.getIndex(),this.startPost_=qp.getStartPost_(e),this.endPost_=qp.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,o,a){return this.matches(new Ge(n,r))||(r=Fe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,o,a)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Fe.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(Fe.EMPTY_NODE);const o=this;return n.forEachChild(rn,(a,l)=>{o.matches(new Ge(a,l))||(s=s.updateImmediateChild(a,Fe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dae{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new qp(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,o,a){return this.rangedFilter_.matches(new Ge(n,r))||(r=Fe.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,o,a):this.fullLimitUpdateChild_(e,n,r,o,a)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=Fe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=Fe.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;o.hasNext()&&a<this.limit_;){const l=o.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))s=s.updateImmediateChild(l.name,l.node),a++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(Fe.EMPTY_NODE);let o;this.reverse_?o=s.getReverseIterator(this.index_):o=s.getIterator(this.index_);let a=0;for(;o.hasNext();){const l=o.getNext();a<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?a++:s=s.updateImmediateChild(l.name,Fe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,o){let a;if(this.reverse_){const f=this.index_.getCompare();a=(h,p)=>f(p,h)}else a=this.index_.getCompare();const l=e;_e(l.numChildren()===this.limit_,"");const c=new Ge(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),d=this.rangedFilter_.matches(c);if(l.hasChild(n)){const f=l.getImmediateChild(n);let h=s.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===n||l.hasChild(h.name));)h=s.getChildAfterChild(this.index_,h,this.reverse_);const p=h==null?1:a(h,c);if(d&&!r.isEmpty()&&p>=0)return o!=null&&o.trackChildChange(Hp(n,r,f)),l.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(Wp(n,f));const g=l.updateImmediateChild(n,Fe.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(o!=null&&o.trackChildChange(vd(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}else return r.isEmpty()?e:d&&a(u,c)>=0?(o!=null&&(o.trackChildChange(Wp(u.name,u.node)),o.trackChildChange(vd(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,Fe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=rn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return _e(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return _e(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:gd}hasEnd(){return this.endSet_}getIndexEndValue(){return _e(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return _e(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:vc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return _e(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===rn}copy(){const e=new hI;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Rae(t){return t.loadsAllData()?new fI(t.getIndex()):t.hasLimit()?new Dae(t):new qp(t)}function mR(t){const e={};if(t.isDefault())return e;let n;if(t.index_===rn?n="$priority":t.index_===kae?n="$value":t.index_===Gu?n="$key":(_e(t.index_ instanceof Iae,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Vn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Vn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Vn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Vn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Vn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function gR(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==rn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0 extends zU{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=gg("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(_e(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const a=I0.getListenId_(e,r),l={};this.listens_[a]=l;const c=mR(e._queryParams);this.restRequest_(o+".json",c,(u,d)=>{let f=d;if(u===404&&(f=null,u=null),u===null&&this.onDataUpdate_(o,f,!1,r),od(this.listens_,a)===l){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",s(h,null)}})}unlisten(e,n){const r=I0.getListenId_(e,n);delete this.listens_[r]}get(e){const n=mR(e._queryParams),r=e._path.toString(),s=new rA;return this.restRequest_(r+".json",n,(o,a)=>{let l=a;o===404&&(l=null,o=null),o===null?(this.onDataUpdate_(r,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,o])=>{s&&s.accessToken&&(n.auth=s.accessToken),o&&o.token&&(n.ac=o.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+nf(n);this.log_("Sending REST request for "+a);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+a+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=kp(l.responseText)}catch{ii("Failed to parse JSON response for "+a+": "+l.responseText)}r(null,c)}else l.status!==401&&l.status!==404&&ii("Got unsuccessful REST response for "+a+" Status: "+l.status),r(l.status);r=null}},l.open("GET",a,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mae{constructor(){this.rootNode_=Fe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(){return{value:null,children:new Map}}function tz(t,e,n){if(Qe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Xe(e);t.children.has(r)||t.children.set(r,O0());const s=t.children.get(r);e=Ot(e),tz(s,e,n)}}function qT(t,e,n){t.value!==null?n(e,t.value):jae(t,(r,s)=>{const o=new St(e.toString()+"/"+r);qT(s,o,n)})}function jae(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lae{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Hr(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=10*1e3,$ae=30*1e3,Fae=5*60*1e3;class Vae{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Lae(e);const r=vR+($ae-vR)*Math.random();Kh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Hr(e,(s,o)=>{o>0&&zo(this.statsToReport_,s)&&(n[s]=o,r=!0)}),r&&this.server_.reportStats(n),Kh(this.reportStats_.bind(this),Math.floor(Math.random()*2*Fae))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Zi||(Zi={}));function nz(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function pI(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function mI(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Zi.ACK_USER_WRITE,this.source=nz()}operationForChild(e){if(Qe(this.path)){if(this.affectedTree.value!=null)return _e(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new St(e));return new k0(ct(),n,this.revert)}}else return _e(Xe(this.path)===e,"operationForChild called for unrelated child."),new k0(Ot(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n){this.source=e,this.path=n,this.type=Zi.LISTEN_COMPLETE}operationForChild(e){return Qe(this.path)?new Gp(this.source,ct()):new Gp(this.source,Ot(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Zi.OVERWRITE}operationForChild(e){return Qe(this.path)?new yc(this.source,ct(),this.snap.getImmediateChild(e)):new yc(this.source,Ot(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Zi.MERGE}operationForChild(e){if(Qe(this.path)){const n=this.children.subtree(new St(e));return n.isEmpty()?null:n.value?new yc(this.source,ct(),n.value):new Kp(this.source,ct(),n)}else return _e(Xe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Kp(this.source,Ot(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Qe(e))return this.isFullyInitialized()&&!this.filtered_;const n=Xe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bae{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Uae(t,e,n,r){const s=[],o=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&o.push(Nae(a.childName,a.snapshotNode))}),rh(t,s,"child_removed",e,r,n),rh(t,s,"child_added",e,r,n),rh(t,s,"child_moved",o,r,n),rh(t,s,"child_changed",e,r,n),rh(t,s,"value",e,r,n),s}function rh(t,e,n,r,s,o){const a=r.filter(l=>l.type===n);a.sort((l,c)=>Wae(t,l,c)),a.forEach(l=>{const c=zae(t,l,o);s.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(c,t.query_))})})}function zae(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Wae(t,e,n){if(e.childName==null||n.childName==null)throw tf("Should only compare child_ events.");const r=new Ge(e.childName,e.snapshotNode),s=new Ge(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(t,e){return{eventCache:t,serverCache:e}}function Yh(t,e,n,r){return Lw(new bc(e,n,r),t.serverCache)}function rz(t,e,n,r){return Lw(t.eventCache,new bc(e,n,r))}function GT(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function wc(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u1;const Hae=()=>(u1||(u1=new Rr(Ooe)),u1);class Lt{constructor(e,n=Hae()){this.value=e,this.children=n}static fromObject(e){let n=new Lt(null);return Hr(e,(r,s)=>{n=n.set(new St(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ct(),value:this.value};if(Qe(e))return null;{const r=Xe(e),s=this.children.get(r);if(s!==null){const o=s.findRootMostMatchingPathAndValue(Ot(e),n);return o!=null?{path:Cn(new St(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Qe(e))return this;{const n=Xe(e),r=this.children.get(n);return r!==null?r.subtree(Ot(e)):new Lt(null)}}set(e,n){if(Qe(e))return new Lt(n,this.children);{const r=Xe(e),o=(this.children.get(r)||new Lt(null)).set(Ot(e),n),a=this.children.insert(r,o);return new Lt(this.value,a)}}remove(e){if(Qe(e))return this.children.isEmpty()?new Lt(null):new Lt(null,this.children);{const n=Xe(e),r=this.children.get(n);if(r){const s=r.remove(Ot(e));let o;return s.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,s),this.value===null&&o.isEmpty()?new Lt(null):new Lt(this.value,o)}else return this}}get(e){if(Qe(e))return this.value;{const n=Xe(e),r=this.children.get(n);return r?r.get(Ot(e)):null}}setTree(e,n){if(Qe(e))return n;{const r=Xe(e),o=(this.children.get(r)||new Lt(null)).setTree(Ot(e),n);let a;return o.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,o),new Lt(this.value,a)}}fold(e){return this.fold_(ct(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,o)=>{r[s]=o.fold_(Cn(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ct(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(Qe(e))return null;{const o=Xe(e),a=this.children.get(o);return a?a.findOnPath_(Ot(e),Cn(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ct(),n)}foreachOnPath_(e,n,r){if(Qe(e))return this;{this.value&&r(n,this.value);const s=Xe(e),o=this.children.get(s);return o?o.foreachOnPath_(Ot(e),Cn(n,s),r):new Lt(null)}}foreach(e){this.foreach_(ct(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(Cn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.writeTree_=e}static empty(){return new ts(new Lt(null))}}function Xh(t,e,n){if(Qe(e))return new ts(new Lt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let o=r.value;const a=Dr(s,e);return o=o.updateChild(a,n),new ts(t.writeTree_.set(s,o))}else{const s=new Lt(n),o=t.writeTree_.setTree(e,s);return new ts(o)}}}function yR(t,e,n){let r=t;return Hr(n,(s,o)=>{r=Xh(r,Cn(e,s),o)}),r}function bR(t,e){if(Qe(e))return ts.empty();{const n=t.writeTree_.setTree(e,new Lt(null));return new ts(n)}}function KT(t,e){return Vc(t,e)!=null}function Vc(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Dr(n.path,e)):null}function wR(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(rn,(r,s)=>{e.push(new Ge(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new Ge(r,s.value))}),e}function La(t,e){if(Qe(e))return t;{const n=Vc(t,e);return n!=null?new ts(new Lt(n)):new ts(t.writeTree_.subtree(e))}}function YT(t){return t.writeTree_.isEmpty()}function yd(t,e){return iz(ct(),t.writeTree_,e)}function iz(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,o)=>{s===".priority"?(_e(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=iz(Cn(t,s),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Cn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t,e){return lz(e,t)}function qae(t,e,n,r,s){_e(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=Xh(t.visibleWrites,e,n)),t.lastWriteId=r}function Gae(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Kae(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);_e(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,o=!1,a=t.allWrites.length-1;for(;s&&a>=0;){const l=t.allWrites[a];l.visible&&(a>=n&&Yae(l,r.path)?s=!1:Qi(r.path,l.path)&&(o=!0)),a--}if(s){if(o)return Xae(t),!0;if(r.snap)t.visibleWrites=bR(t.visibleWrites,r.path);else{const l=r.children;Hr(l,c=>{t.visibleWrites=bR(t.visibleWrites,Cn(r.path,c))})}return!0}else return!1}function Yae(t,e){if(t.snap)return Qi(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Qi(Cn(t.path,n),e))return!0;return!1}function Xae(t){t.visibleWrites=sz(t.allWrites,Qae,ct()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Qae(t){return t.visible}function sz(t,e,n){let r=ts.empty();for(let s=0;s<t.length;++s){const o=t[s];if(e(o)){const a=o.path;let l;if(o.snap)Qi(n,a)?(l=Dr(n,a),r=Xh(r,l,o.snap)):Qi(a,n)&&(l=Dr(a,n),r=Xh(r,ct(),o.snap.getChild(l)));else if(o.children){if(Qi(n,a))l=Dr(n,a),r=yR(r,l,o.children);else if(Qi(a,n))if(l=Dr(a,n),Qe(l))r=yR(r,ct(),o.children);else{const c=od(o.children,Xe(l));if(c){const u=c.getChild(Ot(l));r=Xh(r,ct(),u)}}}else throw tf("WriteRecord should have .snap or .children")}}return r}function oz(t,e,n,r,s){if(!r&&!s){const o=Vc(t.visibleWrites,e);if(o!=null)return o;{const a=La(t.visibleWrites,e);if(YT(a))return n;if(n==null&&!KT(a,ct()))return null;{const l=n||Fe.EMPTY_NODE;return yd(a,l)}}}else{const o=La(t.visibleWrites,e);if(!s&&YT(o))return n;if(!s&&n==null&&!KT(o,ct()))return null;{const a=function(u){return(u.visible||s)&&(!r||!~r.indexOf(u.writeId))&&(Qi(u.path,e)||Qi(e,u.path))},l=sz(t.allWrites,a,e),c=n||Fe.EMPTY_NODE;return yd(l,c)}}}function Zae(t,e,n){let r=Fe.EMPTY_NODE;const s=Vc(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(rn,(o,a)=>{r=r.updateImmediateChild(o,a)}),r;if(n){const o=La(t.visibleWrites,e);return n.forEachChild(rn,(a,l)=>{const c=yd(La(o,new St(a)),l);r=r.updateImmediateChild(a,c)}),wR(o).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const o=La(t.visibleWrites,e);return wR(o).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function Jae(t,e,n,r,s){_e(r||s,"Either existingEventSnap or existingServerSnap must exist");const o=Cn(e,n);if(KT(t.visibleWrites,o))return null;{const a=La(t.visibleWrites,o);return YT(a)?s.getChild(n):yd(a,s.getChild(n))}}function ele(t,e,n,r){const s=Cn(e,n),o=Vc(t.visibleWrites,s);if(o!=null)return o;if(r.isCompleteForChild(n)){const a=La(t.visibleWrites,s);return yd(a,r.getNode().getImmediateChild(n))}else return null}function tle(t,e){return Vc(t.visibleWrites,e)}function nle(t,e,n,r,s,o,a){let l;const c=La(t.visibleWrites,e),u=Vc(c,ct());if(u!=null)l=u;else if(n!=null)l=yd(c,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){const d=[],f=a.getCompare(),h=o?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a);let p=h.getNext();for(;p&&d.length<s;)f(p,r)!==0&&d.push(p),p=h.getNext();return d}else return[]}function rle(){return{visibleWrites:ts.empty(),allWrites:[],lastWriteId:-1}}function N0(t,e,n,r){return oz(t.writeTree,t.treePath,e,n,r)}function vI(t,e){return Zae(t.writeTree,t.treePath,e)}function _R(t,e,n,r){return Jae(t.writeTree,t.treePath,e,n,r)}function D0(t,e){return tle(t.writeTree,Cn(t.treePath,e))}function ile(t,e,n,r,s,o){return nle(t.writeTree,t.treePath,e,n,r,s,o)}function yI(t,e,n){return ele(t.writeTree,t.treePath,e,n)}function az(t,e){return lz(Cn(t.treePath,e),t.writeTree)}function lz(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sle{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;_e(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),_e(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const o=s.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Hp(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Wp(r,s.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,vd(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Hp(r,e.snapshotNode,s.oldSnap));else throw tf("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ole{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const cz=new ole;class bI{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new bc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return yI(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:wc(this.viewCache_),o=ile(this.writes_,s,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ale(t){return{filter:t}}function lle(t,e){_e(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),_e(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function cle(t,e,n,r,s){const o=new sle;let a,l;if(n.type===Zi.OVERWRITE){const u=n;u.source.fromUser?a=XT(t,e,u.path,u.snap,r,s,o):(_e(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!Qe(u.path),a=R0(t,e,u.path,u.snap,r,s,l,o))}else if(n.type===Zi.MERGE){const u=n;u.source.fromUser?a=dle(t,e,u.path,u.children,r,s,o):(_e(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),a=QT(t,e,u.path,u.children,r,s,l,o))}else if(n.type===Zi.ACK_USER_WRITE){const u=n;u.revert?a=ple(t,e,u.path,r,s,o):a=fle(t,e,u.path,u.affectedTree,r,s,o)}else if(n.type===Zi.LISTEN_COMPLETE)a=hle(t,e,n.path,r,o);else throw tf("Unknown operation type: "+n.type);const c=o.getChanges();return ule(e,a,c),{viewCache:a,changes:c}}function ule(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=GT(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ez(GT(e)))}}function uz(t,e,n,r,s,o){const a=e.eventCache;if(D0(r,n)!=null)return e;{let l,c;if(Qe(n))if(_e(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=wc(e),d=u instanceof Fe?u:Fe.EMPTY_NODE,f=vI(r,d);l=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const u=N0(r,wc(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{const u=Xe(n);if(u===".priority"){_e(qa(n)===1,"Can't have a priority with additional path components");const d=a.getNode();c=e.serverCache.getNode();const f=_R(r,n,d,c);f!=null?l=t.filter.updatePriority(d,f):l=a.getNode()}else{const d=Ot(n);let f;if(a.isCompleteForChild(u)){c=e.serverCache.getNode();const h=_R(r,n,a.getNode(),c);h!=null?f=a.getNode().getImmediateChild(u).updateChild(d,h):f=a.getNode().getImmediateChild(u)}else f=yI(r,u,e.serverCache);f!=null?l=t.filter.updateChild(a.getNode(),u,f,d,s,o):l=a.getNode()}}return Yh(e,l,a.isFullyInitialized()||Qe(n),t.filter.filtersNodes())}}function R0(t,e,n,r,s,o,a,l){const c=e.serverCache;let u;const d=a?t.filter:t.filter.getIndexedFilter();if(Qe(n))u=d.updateFullNode(c.getNode(),r,null);else if(d.filtersNodes()&&!c.isFiltered()){const p=c.getNode().updateChild(n,r);u=d.updateFullNode(c.getNode(),p,null)}else{const p=Xe(n);if(!c.isCompleteForPath(n)&&qa(n)>1)return e;const v=Ot(n),b=c.getNode().getImmediateChild(p).updateChild(v,r);p===".priority"?u=d.updatePriority(c.getNode(),b):u=d.updateChild(c.getNode(),p,b,v,cz,null)}const f=rz(e,u,c.isFullyInitialized()||Qe(n),d.filtersNodes()),h=new bI(s,f,o);return uz(t,f,n,s,h,l)}function XT(t,e,n,r,s,o,a){const l=e.eventCache;let c,u;const d=new bI(s,e,o);if(Qe(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,a),c=Yh(e,u,!0,t.filter.filtersNodes());else{const f=Xe(n);if(f===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),c=Yh(e,u,l.isFullyInitialized(),l.isFiltered());else{const h=Ot(n),p=l.getNode().getImmediateChild(f);let v;if(Qe(h))v=r;else{const g=d.getCompleteChild(f);g!=null?HU(h)===".priority"&&g.getChild(GU(h)).isEmpty()?v=g:v=g.updateChild(h,r):v=Fe.EMPTY_NODE}if(p.equals(v))c=e;else{const g=t.filter.updateChild(l.getNode(),f,v,h,d,a);c=Yh(e,g,l.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function xR(t,e){return t.eventCache.isCompleteForChild(e)}function dle(t,e,n,r,s,o,a){let l=e;return r.foreach((c,u)=>{const d=Cn(n,c);xR(e,Xe(d))&&(l=XT(t,l,d,u,s,o,a))}),r.foreach((c,u)=>{const d=Cn(n,c);xR(e,Xe(d))||(l=XT(t,l,d,u,s,o,a))}),l}function ER(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function QT(t,e,n,r,s,o,a,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,u;Qe(n)?u=r:u=new Lt(null).setTree(n,r);const d=e.serverCache.getNode();return u.children.inorderTraversal((f,h)=>{if(d.hasChild(f)){const p=e.serverCache.getNode().getImmediateChild(f),v=ER(t,p,h);c=R0(t,c,new St(f),v,s,o,a,l)}}),u.children.inorderTraversal((f,h)=>{const p=!e.serverCache.isCompleteForChild(f)&&h.value===null;if(!d.hasChild(f)&&!p){const v=e.serverCache.getNode().getImmediateChild(f),g=ER(t,v,h);c=R0(t,c,new St(f),g,s,o,a,l)}}),c}function fle(t,e,n,r,s,o,a){if(D0(s,n)!=null)return e;const l=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(Qe(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return R0(t,e,n,c.getNode().getChild(n),s,o,l,a);if(Qe(n)){let u=new Lt(null);return c.getNode().forEachChild(Gu,(d,f)=>{u=u.set(new St(d),f)}),QT(t,e,n,u,s,o,l,a)}else return e}else{let u=new Lt(null);return r.foreach((d,f)=>{const h=Cn(n,d);c.isCompleteForPath(h)&&(u=u.set(d,c.getNode().getChild(h)))}),QT(t,e,n,u,s,o,l,a)}}function hle(t,e,n,r,s){const o=e.serverCache,a=rz(e,o.getNode(),o.isFullyInitialized()||Qe(n),o.isFiltered());return uz(t,a,n,r,cz,s)}function ple(t,e,n,r,s,o){let a;if(D0(r,n)!=null)return e;{const l=new bI(r,e,s),c=e.eventCache.getNode();let u;if(Qe(n)||Xe(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=N0(r,wc(e));else{const f=e.serverCache.getNode();_e(f instanceof Fe,"serverChildren would be complete if leaf node"),d=vI(r,f)}d=d,u=t.filter.updateFullNode(c,d,o)}else{const d=Xe(n);let f=yI(r,d,e.serverCache);f==null&&e.serverCache.isCompleteForChild(d)&&(f=c.getImmediateChild(d)),f!=null?u=t.filter.updateChild(c,d,f,Ot(n),l,o):e.eventCache.getNode().hasChild(d)?u=t.filter.updateChild(c,d,Fe.EMPTY_NODE,Ot(n),l,o):u=c,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=N0(r,wc(e)),a.isLeafNode()&&(u=t.filter.updateFullNode(u,a,o)))}return a=e.serverCache.isFullyInitialized()||D0(r,ct())!=null,Yh(e,u,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mle{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new fI(r.getIndex()),o=Rae(r);this.processor_=ale(o);const a=n.serverCache,l=n.eventCache,c=s.updateFullNode(Fe.EMPTY_NODE,a.getNode(),null),u=o.updateFullNode(Fe.EMPTY_NODE,l.getNode(),null),d=new bc(c,a.isFullyInitialized(),s.filtersNodes()),f=new bc(u,l.isFullyInitialized(),o.filtersNodes());this.viewCache_=Lw(f,d),this.eventGenerator_=new Bae(this.query_)}get query(){return this.query_}}function gle(t){return t.viewCache_.serverCache.getNode()}function vle(t,e){const n=wc(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Qe(e)&&!n.getImmediateChild(Xe(e)).isEmpty())?n.getChild(e):null}function TR(t){return t.eventRegistrations_.length===0}function yle(t,e){t.eventRegistrations_.push(e)}function SR(t,e,n){const r=[];if(n){_e(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(o=>{const a=o.createCancelEvent(n,s);a&&r.push(a)})}if(e){let s=[];for(let o=0;o<t.eventRegistrations_.length;++o){const a=t.eventRegistrations_[o];if(!a.matches(e))s.push(a);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function CR(t,e,n,r){e.type===Zi.MERGE&&e.source.queryId!==null&&(_e(wc(t.viewCache_),"We should always have a full cache before handling merges"),_e(GT(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,o=cle(t.processor_,s,e,n,r);return lle(t.processor_,o.viewCache),_e(o.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,dz(t,o.changes,o.viewCache.eventCache.getNode(),null)}function ble(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(rn,(o,a)=>{r.push(vd(o,a))}),n.isFullyInitialized()&&r.push(ez(n.getNode())),dz(t,r,n.getNode(),e)}function dz(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return Uae(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M0;class wle{constructor(){this.views=new Map}}function _le(t){_e(!M0,"__referenceConstructor has already been defined"),M0=t}function xle(){return _e(M0,"Reference.ts has not been loaded"),M0}function Ele(t){return t.views.size===0}function wI(t,e,n,r){const s=e.source.queryId;if(s!==null){const o=t.views.get(s);return _e(o!=null,"SyncTree gave us an op for an invalid query."),CR(o,e,n,r)}else{let o=[];for(const a of t.views.values())o=o.concat(CR(a,e,n,r));return o}}function Tle(t,e,n,r,s){const o=e._queryIdentifier,a=t.views.get(o);if(!a){let l=N0(n,s?r:null),c=!1;l?c=!0:r instanceof Fe?(l=vI(n,r),c=!1):(l=Fe.EMPTY_NODE,c=!1);const u=Lw(new bc(l,c,!1),new bc(r,s,!1));return new mle(e,u)}return a}function Sle(t,e,n,r,s,o){const a=Tle(t,e,r,s,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),yle(a,n),ble(a,n)}function Cle(t,e,n,r){const s=e._queryIdentifier,o=[];let a=[];const l=Ga(t);if(s==="default")for(const[c,u]of t.views.entries())a=a.concat(SR(u,n,r)),TR(u)&&(t.views.delete(c),u.query._queryParams.loadsAllData()||o.push(u.query));else{const c=t.views.get(s);c&&(a=a.concat(SR(c,n,r)),TR(c)&&(t.views.delete(s),c.query._queryParams.loadsAllData()||o.push(c.query)))}return l&&!Ga(t)&&o.push(new(xle())(e._repo,e._path)),{removed:o,events:a}}function fz(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ku(t,e){let n=null;for(const r of t.views.values())n=n||vle(r,e);return n}function hz(t,e){if(e._queryParams.loadsAllData())return $w(t);{const r=e._queryIdentifier;return t.views.get(r)}}function pz(t,e){return hz(t,e)!=null}function Ga(t){return $w(t)!=null}function $w(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let j0;function Ple(t){_e(!j0,"__referenceConstructor has already been defined"),j0=t}function Ale(){return _e(j0,"Reference.ts has not been loaded"),j0}let Ile=1;class PR{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Lt(null),this.pendingWriteTree_=rle(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ole(t,e,n,r,s){return qae(t.pendingWriteTree_,e,n,r,s),s?bg(t,new yc(nz(),e,n)):[]}function Cu(t,e,n=!1){const r=Gae(t.pendingWriteTree_,e);if(Kae(t.pendingWriteTree_,e)){let o=new Lt(null);return r.snap!=null?o=o.set(ct(),!0):Hr(r.children,a=>{o=o.set(new St(a),!0)}),bg(t,new k0(r.path,o,n))}else return[]}function Fw(t,e,n){return bg(t,new yc(pI(),e,n))}function kle(t,e,n){const r=Lt.fromObject(n);return bg(t,new Kp(pI(),e,r))}function Nle(t,e){return bg(t,new Gp(pI(),e))}function Dle(t,e,n){const r=_I(t,n);if(r){const s=xI(r),o=s.path,a=s.queryId,l=Dr(o,e),c=new Gp(mI(a),l);return EI(t,o,c)}else return[]}function ZT(t,e,n,r,s=!1){const o=e._path,a=t.syncPointTree_.get(o);let l=[];if(a&&(e._queryIdentifier==="default"||pz(a,e))){const c=Cle(a,e,n,r);Ele(a)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const u=c.removed;if(l=c.events,!s){const d=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(o,(h,p)=>Ga(p));if(d&&!f){const h=t.syncPointTree_.subtree(o);if(!h.isEmpty()){const p=jle(h);for(let v=0;v<p.length;++v){const g=p[v],b=g.query,y=yz(t,g);t.listenProvider_.startListening(Qh(b),L0(t,b),y.hashFn,y.onComplete)}}}!f&&u.length>0&&!r&&(d?t.listenProvider_.stopListening(Qh(e),null):u.forEach(h=>{const p=t.queryToTagMap.get(Vw(h));t.listenProvider_.stopListening(Qh(h),p)}))}Lle(t,u)}return l}function Rle(t,e,n,r){const s=_I(t,r);if(s!=null){const o=xI(s),a=o.path,l=o.queryId,c=Dr(a,e),u=new yc(mI(l),c,n);return EI(t,a,u)}else return[]}function Mle(t,e,n,r){const s=_I(t,r);if(s){const o=xI(s),a=o.path,l=o.queryId,c=Dr(a,e),u=Lt.fromObject(n),d=new Kp(mI(l),c,u);return EI(t,a,d)}else return[]}function AR(t,e,n,r=!1){const s=e._path;let o=null,a=!1;t.syncPointTree_.foreachOnPath(s,(h,p)=>{const v=Dr(h,s);o=o||Ku(p,v),a=a||Ga(p)});let l=t.syncPointTree_.get(s);l?(a=a||Ga(l),o=o||Ku(l,ct())):(l=new wle,t.syncPointTree_=t.syncPointTree_.set(s,l));let c;o!=null?c=!0:(c=!1,o=Fe.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((p,v)=>{const g=Ku(v,ct());g&&(o=o.updateImmediateChild(p,g))}));const u=pz(l,e);if(!u&&!e._queryParams.loadsAllData()){const h=Vw(e);_e(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const p=$le();t.queryToTagMap.set(h,p),t.tagToQueryMap.set(p,h)}const d=gI(t.pendingWriteTree_,s);let f=Sle(l,e,n,d,o,c);if(!u&&!a&&!r){const h=hz(l,e);f=f.concat(Fle(t,e,h))}return f}function mz(t,e,n){const s=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(a,l)=>{const c=Dr(a,e),u=Ku(l,c);if(u)return u});return oz(s,e,o,n,!0)}function bg(t,e){return gz(e,t.syncPointTree_,null,gI(t.pendingWriteTree_,ct()))}function gz(t,e,n,r){if(Qe(t.path))return vz(t,e,n,r);{const s=e.get(ct());n==null&&s!=null&&(n=Ku(s,ct()));let o=[];const a=Xe(t.path),l=t.operationForChild(a),c=e.children.get(a);if(c&&l){const u=n?n.getImmediateChild(a):null,d=az(r,a);o=o.concat(gz(l,c,u,d))}return s&&(o=o.concat(wI(s,t,r,n))),o}}function vz(t,e,n,r){const s=e.get(ct());n==null&&s!=null&&(n=Ku(s,ct()));let o=[];return e.children.inorderTraversal((a,l)=>{const c=n?n.getImmediateChild(a):null,u=az(r,a),d=t.operationForChild(a);d&&(o=o.concat(vz(d,l,c,u)))}),s&&(o=o.concat(wI(s,t,r,n))),o}function yz(t,e){const n=e.query,r=L0(t,n);return{hashFn:()=>(gle(e)||Fe.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?Dle(t,n._path,r):Nle(t,n._path);{const o=Doe(s,n);return ZT(t,n,null,o)}}}}function L0(t,e){const n=Vw(e);return t.queryToTagMap.get(n)}function Vw(t){return t._path.toString()+"$"+t._queryIdentifier}function _I(t,e){return t.tagToQueryMap.get(e)}function xI(t){const e=t.indexOf("$");return _e(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new St(t.substr(0,e))}}function EI(t,e,n){const r=t.syncPointTree_.get(e);_e(r,"Missing sync point for query tag that we're tracking");const s=gI(t.pendingWriteTree_,e);return wI(r,n,s,null)}function jle(t){return t.fold((e,n,r)=>{if(n&&Ga(n))return[$w(n)];{let s=[];return n&&(s=fz(n)),Hr(r,(o,a)=>{s=s.concat(a)}),s}})}function Qh(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Ale())(t._repo,t._path):t}function Lle(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=Vw(r),o=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(o)}}}function $le(){return Ile++}function Fle(t,e,n){const r=e._path,s=L0(t,e),o=yz(t,n),a=t.listenProvider_.startListening(Qh(e),s,o.hashFn,o.onComplete),l=t.syncPointTree_.subtree(r);if(s)_e(!Ga(l.value),"If we're adding a query, it shouldn't be shadowed");else{const c=l.fold((u,d,f)=>{if(!Qe(u)&&d&&Ga(d))return[$w(d).query];{let h=[];return d&&(h=h.concat(fz(d).map(p=>p.query))),Hr(f,(p,v)=>{h=h.concat(v)}),h}});for(let u=0;u<c.length;++u){const d=c[u];t.listenProvider_.stopListening(Qh(d),L0(t,d))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new TI(n)}node(){return this.node_}}class SI{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Cn(this.path_,e);return new SI(this.syncTree_,n)}node(){return mz(this.syncTree_,this.path_)}}const Vle=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},IR=function(t,e,n){if(!t||typeof t!="object")return t;if(_e(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Ble(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Ule(t[".sv"],e);_e(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Ble=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:_e(!1,"Unexpected server value: "+t)}},Ule=function(t,e,n){t.hasOwnProperty("increment")||_e(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&_e(!1,"Unexpected increment value: "+r);const s=e.node();if(_e(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const a=s.getValue();return typeof a!="number"?r:a+r},zle=function(t,e,n,r){return CI(e,new SI(n,t),r)},Wle=function(t,e,n){return CI(t,new TI(e),n)};function CI(t,e,n){const r=t.getPriority().val(),s=IR(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const a=t,l=IR(a.getValue(),e,n);return l!==a.getValue()||s!==a.getPriority().val()?new Mn(l,fr(s)):t}else{const a=t;return o=a,s!==a.getPriority().val()&&(o=o.updatePriority(new Mn(s))),a.forEachChild(rn,(l,c)=>{const u=CI(c,e.getImmediateChild(l),n);u!==c&&(o=o.updateImmediateChild(l,u))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function AI(t,e){let n=e instanceof St?e:new St(e),r=t,s=Xe(n);for(;s!==null;){const o=od(r.node.children,s)||{children:{},childCount:0};r=new PI(s,r,o),n=Ot(n),s=Xe(n)}return r}function uf(t){return t.node.value}function bz(t,e){t.node.value=e,JT(t)}function wz(t){return t.node.childCount>0}function Hle(t){return uf(t)===void 0&&!wz(t)}function Bw(t,e){Hr(t.node.children,(n,r)=>{e(new PI(n,t,r))})}function _z(t,e,n,r){n&&!r&&e(t),Bw(t,s=>{_z(s,e,!0,r)}),n&&r&&e(t)}function qle(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function wg(t){return new St(t.parent===null?t.name:wg(t.parent)+"/"+t.name)}function JT(t){t.parent!==null&&Gle(t.parent,t.name,t)}function Gle(t,e,n){const r=Hle(n),s=zo(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,JT(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,JT(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kle=/[\[\].#$\/\u0000-\u001F\u007F]/,Yle=/[\[\].#$\u0000-\u001F\u007F]/,d1=10*1024*1024,xz=function(t){return typeof t=="string"&&t.length!==0&&!Kle.test(t)},Ez=function(t){return typeof t=="string"&&t.length!==0&&!Yle.test(t)},Xle=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Ez(t)},Tz=function(t,e,n){const r=n instanceof St?new fae(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Cl(r));if(typeof e=="function")throw new Error(t+"contains a function "+Cl(r)+" with contents = "+e.toString());if(TU(e))throw new Error(t+"contains "+e.toString()+" "+Cl(r));if(typeof e=="string"&&e.length>d1/3&&ww(e)>d1)throw new Error(t+"contains a string greater than "+d1+" utf8 bytes "+Cl(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,o=!1;if(Hr(e,(a,l)=>{if(a===".value")s=!0;else if(a!==".priority"&&a!==".sv"&&(o=!0,!xz(a)))throw new Error(t+" contains an invalid key ("+a+") "+Cl(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);hae(r,a),Tz(t,l,r),pae(r)}),s&&o)throw new Error(t+' contains ".value" child '+Cl(r)+" in addition to actual children.")}},Sz=function(t,e,n,r){if(!(r&&n===void 0)&&!Ez(n))throw new Error(X5(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Qle=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Sz(t,e,n,r)},Zle=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!xz(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Xle(n))throw new Error(X5(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jle{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Cz(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],o=s.getPath();n!==null&&!cI(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(s)}n&&t.eventLists_.push(n)}function Pz(t,e,n){Cz(t,n),Az(t,r=>cI(r,e))}function Bc(t,e,n){Cz(t,n),Az(t,r=>Qi(r,e)||Qi(e,r))}function Az(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const o=s.path;e(o)?(ece(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function ece(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Yl&&dr("event: "+n.toString()),vg(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tce="repo_interrupt",nce=25;class rce{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Jle,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=O0(),this.transactionQueueTree_=new PI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ice(t,e,n){if(t.stats_=aI(t.repoInfo_),t.forceRestClient_||Loe())t.server_=new I0(t.repoInfo_,(r,s,o,a)=>{OR(t,r,s,o,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>kR(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Vn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new yo(t.repoInfo_,e,(r,s,o,a)=>{OR(t,r,s,o,a)},r=>{kR(t,r)},r=>{oce(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Uoe(t.repoInfo_,()=>new Vae(t.stats_,t.server_)),t.infoData_=new Mae,t.infoSyncTree_=new PR({startListening:(r,s,o,a)=>{let l=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(l=Fw(t.infoSyncTree_,r._path,c),setTimeout(()=>{a("ok")},0)),l},stopListening:()=>{}}),II(t,"connected",!1),t.serverSyncTree_=new PR({startListening:(r,s,o,a)=>(t.server_.listen(r,o,s,(l,c)=>{const u=a(l,c);Bc(t.eventQueue_,r._path,u)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function sce(t){const n=t.infoData_.getNode(new St(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Iz(t){return Vle({timestamp:sce(t)})}function OR(t,e,n,r,s){t.dataUpdateCount++;const o=new St(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(s)if(r){const c=l0(n,u=>fr(u));a=Mle(t.serverSyncTree_,o,c,s)}else{const c=fr(n);a=Rle(t.serverSyncTree_,o,c,s)}else if(r){const c=l0(n,u=>fr(u));a=kle(t.serverSyncTree_,o,c)}else{const c=fr(n);a=Fw(t.serverSyncTree_,o,c)}let l=o;a.length>0&&(l=kI(t,o)),Bc(t.eventQueue_,l,a)}function kR(t,e){II(t,"connected",e),e===!1&&lce(t)}function oce(t,e){Hr(e,(n,r)=>{II(t,n,r)})}function II(t,e,n){const r=new St("/.info/"+e),s=fr(n);t.infoData_.updateSnapshot(r,s);const o=Fw(t.infoSyncTree_,r,s);Bc(t.eventQueue_,r,o)}function ace(t){return t.nextWriteId_++}function lce(t){Oz(t,"onDisconnectEvents");const e=Iz(t),n=O0();qT(t.onDisconnect_,ct(),(s,o)=>{const a=zle(s,o,t.serverSyncTree_,e);tz(n,s,a)});let r=[];qT(n,ct(),(s,o)=>{r=r.concat(Fw(t.serverSyncTree_,s,o));const a=hce(t,s);kI(t,a)}),t.onDisconnect_=O0(),Bc(t.eventQueue_,ct(),r)}function cce(t,e,n){let r;Xe(e._path)===".info"?r=AR(t.infoSyncTree_,e,n):r=AR(t.serverSyncTree_,e,n),Pz(t.eventQueue_,e._path,r)}function NR(t,e,n){let r;Xe(e._path)===".info"?r=ZT(t.infoSyncTree_,e,n):r=ZT(t.serverSyncTree_,e,n),Pz(t.eventQueue_,e._path,r)}function uce(t){t.persistentConnection_&&t.persistentConnection_.interrupt(tce)}function Oz(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),dr(n,...e)}function kz(t,e,n){return mz(t.serverSyncTree_,e,n)||Fe.EMPTY_NODE}function OI(t,e=t.transactionQueueTree_){if(e||Uw(t,e),uf(e)){const n=Dz(t,e);_e(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&dce(t,wg(e),n)}else wz(e)&&Bw(e,n=>{OI(t,n)})}function dce(t,e,n){const r=n.map(u=>u.currentWriteId),s=kz(t,e,r);let o=s;const a=s.hash();for(let u=0;u<n.length;u++){const d=n[u];_e(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const f=Dr(e,d.path);o=o.updateChild(f,d.currentOutputSnapshotRaw)}const l=o.val(!0),c=e;t.server_.put(c.toString(),l,u=>{Oz(t,"transaction put response",{path:c.toString(),status:u});let d=[];if(u==="ok"){const f=[];for(let h=0;h<n.length;h++)n[h].status=2,d=d.concat(Cu(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&f.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Uw(t,AI(t.transactionQueueTree_,e)),OI(t,t.transactionQueueTree_),Bc(t.eventQueue_,e,d);for(let h=0;h<f.length;h++)vg(f[h])}else{if(u==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{ii("transaction at "+c.toString()+" failed: "+u);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=u}kI(t,e)}},a)}function kI(t,e){const n=Nz(t,e),r=wg(n),s=Dz(t,n);return fce(t,s,r),r}function fce(t,e,n){if(e.length===0)return;const r=[];let s=[];const a=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const c=e[l],u=Dr(n,c.path);let d=!1,f;if(_e(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)d=!0,f=c.abortReason,s=s.concat(Cu(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=nce)d=!0,f="maxretry",s=s.concat(Cu(t.serverSyncTree_,c.currentWriteId,!0));else{const h=kz(t,c.path,a);c.currentInputSnapshot=h;const p=e[l].update(h.val());if(p!==void 0){Tz("transaction failed: Data returned ",p,c.path);let v=fr(p);typeof p=="object"&&p!=null&&zo(p,".priority")||(v=v.updatePriority(h.getPriority()));const b=c.currentWriteId,y=Iz(t),x=Wle(v,h,y);c.currentOutputSnapshotRaw=v,c.currentOutputSnapshotResolved=x,c.currentWriteId=ace(t),a.splice(a.indexOf(b),1),s=s.concat(Ole(t.serverSyncTree_,c.path,x,c.currentWriteId,c.applyLocally)),s=s.concat(Cu(t.serverSyncTree_,b,!0))}else d=!0,f="nodata",s=s.concat(Cu(t.serverSyncTree_,c.currentWriteId,!0))}Bc(t.eventQueue_,n,s),s=[],d&&(e[l].status=2,function(h){setTimeout(h,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(f==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(f),!1,null))))}Uw(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)vg(r[l]);OI(t,t.transactionQueueTree_)}function Nz(t,e){let n,r=t.transactionQueueTree_;for(n=Xe(e);n!==null&&uf(r)===void 0;)r=AI(r,n),e=Ot(e),n=Xe(e);return r}function Dz(t,e){const n=[];return Rz(t,e,n),n.sort((r,s)=>r.order-s.order),n}function Rz(t,e,n){const r=uf(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Bw(e,s=>{Rz(t,s,n)})}function Uw(t,e){const n=uf(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,bz(e,n.length>0?n:void 0)}Bw(e,r=>{Uw(t,r)})}function hce(t,e){const n=wg(Nz(t,e)),r=AI(t.transactionQueueTree_,e);return qle(r,s=>{f1(t,s)}),f1(t,r),_z(r,s=>{f1(t,s)}),n}function f1(t,e){const n=uf(e);if(n){const r=[];let s=[],o=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(_e(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(_e(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),s=s.concat(Cu(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));o===-1?bz(e,void 0):n.length=o+1,Bc(t.eventQueue_,wg(e),s);for(let a=0;a<r.length;a++)vg(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pce(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function mce(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ii(`Invalid query segment '${n}' in query '${t}'`)}return e}const DR=function(t,e){const n=gce(t),r=n.namespace;n.domain==="firebase.com"&&Do(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Do("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Aoe();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new jU(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new St(n.pathString)}},gce=function(t){let e="",n="",r="",s="",o="",a=!0,l="https",c=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let d=t.indexOf("/");d===-1&&(d=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(d,f)),d<f&&(s=pce(t.substring(d,f)));const h=mce(t.substring(Math.min(t.length,f)));u=e.indexOf(":"),u>=0?(a=l==="https"||l==="wss",c=parseInt(e.substring(u+1),10)):u=e.length;const p=e.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),o=r}"ns"in h&&(o=h.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:a,scheme:l,pathString:s,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Vn(this.snapshot.exportVal())}}class jz{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vce{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return _e(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return Qe(this._path)?null:HU(this._path)}get ref(){return new Ho(this._repo,this._path)}get _queryIdentifier(){const e=gR(this._queryParams),n=sI(e);return n==="{}"?"default":n}get _queryObject(){return gR(this._queryParams)}isEqual(e){if(e=hn(e),!(e instanceof NI))return!1;const n=this._repo===e._repo,r=cI(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+dae(this._path)}}class Ho extends NI{constructor(e,n){super(e,n,new hI,!1)}get parent(){const e=GU(this._path);return e===null?null:new Ho(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Yp{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new St(e),r=$0(this.ref,e);return new Yp(this._node.getChild(n),r,rn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new Yp(s,$0(this.ref,r),rn)))}hasChild(e){const n=new St(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function yce(t,e){return t=hn(t),t._checkNotDeleted("ref"),e!==void 0?$0(t._root,e):t._root}function $0(t,e){return t=hn(t),Xe(t._path)===null?Qle("child","path",e,!1):Sz("child","path",e,!1),new Ho(t._repo,Cn(t._path,e))}class DI{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new Mz("value",this,new Yp(e.snapshotNode,new Ho(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new jz(this,e,n):null}matches(e){return e instanceof DI?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class RI{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new jz(this,e,n):null}createEvent(e,n){_e(e.childName!=null,"Child events should have a childName.");const r=$0(new Ho(n._repo,n._path),e.childName),s=n._queryParams.getIndex();return new Mz(e.type,this,new Yp(e.snapshotNode,r,s),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof RI?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function bce(t,e,n,r,s){let o;if(typeof r=="object"&&(o=void 0,s=r),typeof r=="function"&&(o=r),s&&s.onlyOnce){const c=n,u=(d,f)=>{NR(t._repo,t,l),c(d,f)};u.userCallback=n.userCallback,u.context=n.context,n=u}const a=new vce(n,o||void 0),l=e==="value"?new DI(a):new RI(e,a);return cce(t._repo,t,l),()=>NR(t._repo,t,l)}function wce(t,e,n,r){return bce(t,"value",e,n,r)}_le(Ho);Ple(Ho);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ce="FIREBASE_DATABASE_EMULATOR_HOST",eS={};let xce=!1;function Ece(t,e,n,r){t.repoInfo_=new jU(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Tce(t,e,n,r,s){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Do("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dr("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=DR(o,s),l=a.repoInfo,c,u;typeof process<"u"&&process.env&&(u=process.env[_ce]),u?(c=!0,o=`http://${u}?ns=${l.namespace}`,a=DR(o,s),l=a.repoInfo):c=!a.repoInfo.secure;const d=s&&c?new qu(qu.OWNER):new Foe(t.name,t.options,e);Zle("Invalid Firebase Database URL",a),Qe(a.path)||Do("Database URL must point to the root of a Firebase Database (not including a child path).");const f=Cce(l,t,d,new $oe(t.name,n));return new Pce(f,t)}function Sce(t,e){const n=eS[e];(!n||n[t.key]!==t)&&Do(`Database ${e}(${t.repoInfo_}) has already been deleted.`),uce(t),delete n[t.key]}function Cce(t,e,n,r){let s=eS[e.name];s||(s={},eS[e.name]=s);let o=s[t.toURLString()];return o&&Do("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new rce(t,xce,n,r),s[t.toURLString()]=o,o}class Pce{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ice(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ho(this._repo,ct())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Sce(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Do("Cannot call "+e+" on a deleted database.")}}function Ace(t=cA(),e){const n=nl(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=iZ("database");r&&Ice(n,...r)}return n}function Ice(t,e,n,r={}){t=hn(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Do("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Do('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new qu(qu.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:H5(r.mockUserToken,t.app.options.projectId);o=new qu(a)}Ece(s,e,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oce(t){Eoe(jc),is(new Di("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return Tce(r,s,o,n)},"PUBLIC").setMultipleInstances(!0)),Vr(JD,eR,t),Vr(JD,eR,"esm2017")}yo.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};yo.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Oce();const kce={apiKey:"AIzaSyArwjJewGV5j_vzWjqOsQPoJMSFtaCkSZE",authDomain:"lovenda-98c77.firebaseapp.com",projectId:"lovenda-98c77",storageBucket:"lovenda-98c77.appspot.com",messagingSenderId:"844882125080",appId:"1:844882125080:web:4015c2e2e6eedf009f7e6d",measurementId:"G-4QMWEHYPG8"};let kv,mn,Yu,Nce;const Dce=()=>{if(typeof window>"u")return;let t=document.getElementById("firebase-error-banner");t||(t=document.createElement("div"),t.id="firebase-error-banner",t.style.position="fixed",t.style.bottom="0",t.style.left="0",t.style.right="0",t.style.backgroundColor="#ff4444",t.style.color="white",t.style.padding="10px",t.style.textAlign="center",t.style.zIndex="9999",t.style.display="none",document.body.appendChild(t));const e=n=>{const r=n.error||n.reason;console.error("Error global:",r),r&&mostrarErrorUsuario(r.message||"Ocurri un error inesperado")};window.mostrarErrorUsuario=(n,r=1e4)=>{t&&(t.textContent=n,t.style.display="block",r>0&&setTimeout(()=>{t&&(t.style.display="none")},r))},window.addEventListener("error",e),window.addEventListener("unhandledrejection",e)},Rce=async(t=2)=>{for(let e=0;e<=t;e++)try{const n=x0(Yu,"_conexion_prueba","test");return await JA(n,{timestamp:new Date().toISOString(),intento:e+1},{merge:!0}),console.log("Prueba de conexin exitosa"),!0}catch(n){if(console.warn(`Intento ${e+1} fallido:`,n),e===t)throw console.error("Todos los intentos de conexin fallaron"),n;await new Promise(r=>setTimeout(r,1e3*Math.pow(2,e)))}return!1},Mce=()=>{if(!(typeof window>"u"))try{const t=Ace(),e=yce(t,".info/connected");wce(e,n=>{var r;n.val()===!0?(console.log("Conectado a Firebase"),(r=window.mostrarErrorUsuario)==null||r.call(window,"Conectado a internet",3e3)):console.log("Desconectado de Firebase")})}catch(t){console.warn("No se pudo configurar el listener de conexin:",t)}},jce=async()=>{var t,e,n;try{kv=eB(kce),console.log("Firebase inicializado"),mn=Wte(kv),mn.languageCode="es",console.log("Autenticacin de Firebase inicializada"),Yu=Lie(kv,{experimentalForceLongPolling:!0}),console.log("Firestore inicializado con experimentalForceLongPolling"),typeof window<"u"&&window.location.hostname==="localhost"&&(jie(Yu,"localhost",8080),console.log("Conectado al emulador de Firestore en localhost:8080"));try{await Rce(),console.log("Conexin con Firestore verificada");try{const r=x0(Yu,"_test_connection","test");await JA(r,{test:new Date().toISOString()},{merge:!0}),console.log("Prueba de escritura en Firestore exitosa")}catch(r){console.error("Error al escribir en Firestore:",r),r.code==="permission-denied"&&((t=window.mostrarErrorUsuario)==null||t.call(window,"Error de permisos: No tienes acceso a la base de datos. Por favor, verifica tu autenticacin.",1e4))}}catch(r){console.warn("No se pudo conectar a Firestore, trabajando en modo fuera de lnea:",r),(e=window.mostrarErrorUsuario)==null||e.call(window,"Modo sin conexin - Los cambios se sincronizarn cuando se recupere la conexin",0)}if(typeof window<"u")try{await woe()?(Nce=yoe(kv),console.log("Analytics inicializado")):console.log("Analytics no es compatible con este navegador")}catch(r){console.warn("Error al inicializar Analytics:",r)}Mce()}catch(r){throw console.error("Error al inicializar Firebase:",r),typeof window<"u"&&((n=window.mostrarErrorUsuario)==null||n.call(window,"Error al conectar con el servidor. La aplicacin funcionar en modo fuera de lnea.",0)),r}};Dce();jce().catch(t=>{console.error("Error crtico al inicializar Firebase:",t)});const Lz=F.createContext({user:null,isAuthenticated:!1,loading:!0,signup:async()=>{},login:async()=>{},logout:async()=>{},updateProfile:async()=>{}}),il=()=>F.useContext(Lz);function Lce({children:t}){const[e,n]=F.useState(null),[r,s]=F.useState(!0);F.useEffect(()=>Dee(mn,async g=>{if(g){const b=await Zie(x0(Yu,"users",g.uid)),y=b.exists()?b.data().role:"particular";n({...g,role:y})}else n(null);s(!1)}),[]);const o=async(v,g)=>{const y=(await Cee(mn,v,g)).user;return await JA(x0(Yu,"users",y.uid),{role:"particular",email:y.email,createdAt:nse()}),n({...y,role:"particular"}),y},a=async(v,g,b=!0)=>{await Oee(mn,b?IB:vA);const y=await Pee(mn,v,g);return n(y.user),y.user},l=async()=>{await Ree(mn),n(null)},c=async v=>{mn.currentUser&&(await Iee(mn.currentUser,v),n({...mn.currentUser,...v}))},u=async()=>{mn.currentUser&&await sendEmailVerification(mn.currentUser)},d=async v=>{v&&await sendPasswordResetEmail(mn,v)},f=async v=>{mn.currentUser&&(await updateEmail(mn.currentUser,v),n({...mn.currentUser,email:v}))},h=async v=>{mn.currentUser&&await updatePassword(mn.currentUser,v)},p=async v=>{mn.currentUser&&await reauthenticateWithCredential(mn.currentUser,v)};return w.jsx(Lz.Provider,{value:{user:e,isAuthenticated:!!e,loading:r,signup:o,login:a,logout:l,updateProfile:c,sendVerificationEmail:u,sendPasswordReset:d,updateUserEmail:f,updateUserPassword:h,reauthenticate:p},children:t})}const $z=F.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),zw=F.createContext({}),MI=F.createContext(null),Ww=typeof document<"u",$ce=Ww?F.useLayoutEffect:F.useEffect,Fz=F.createContext({strict:!1}),jI=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Fce="framerAppearId",Vz="data-"+jI(Fce);function Vce(t,e,n,r){const{visualElement:s}=F.useContext(zw),o=F.useContext(Fz),a=F.useContext(MI),l=F.useContext($z).reducedMotion,c=F.useRef();r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;F.useInsertionEffect(()=>{u&&u.update(n,a)});const d=F.useRef(!!(n[Vz]&&!window.HandoffComplete));return $ce(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),F.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Pu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Bce(t,e,n){return F.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Pu(n)&&(n.current=r))},[e])}function Xp(t){return typeof t=="string"||Array.isArray(t)}function Hw(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const LI=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$I=["initial",...LI];function qw(t){return Hw(t.animate)||$I.some(e=>Xp(t[e]))}function Bz(t){return!!(qw(t)||t.variants)}function Uce(t,e){if(qw(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Xp(n)?n:void 0,animate:Xp(r)?r:void 0}}return t.inherit!==!1?e:{}}function zce(t){const{initial:e,animate:n}=Uce(t,F.useContext(zw));return F.useMemo(()=>({initial:e,animate:n}),[RR(e),RR(n)])}function RR(t){return Array.isArray(t)?t.join(" "):t}const MR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qp={};for(const t in MR)Qp[t]={isEnabled:e=>MR[t].some(n=>!!e[n])};function Wce(t){for(const e in t)Qp[e]={...Qp[e],...t[e]}}const Uz=F.createContext({}),zz=F.createContext({}),Hce=Symbol.for("motionComponentSymbol");function qce({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&Wce(t);function o(l,c){let u;const d={...F.useContext($z),...l,layoutId:Gce(l)},{isStatic:f}=d,h=zce(l),p=r(l,f);if(!f&&Ww){h.visualElement=Vce(s,p,d,e);const v=F.useContext(zz),g=F.useContext(Fz).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,g,t,v))}return F.createElement(zw.Provider,{value:h},u&&h.visualElement?F.createElement(u,{visualElement:h.visualElement,...d}):null,n(s,l,Bce(p,h.visualElement,c),p,f,h.visualElement))}const a=F.forwardRef(o);return a[Hce]=s,a}function Gce({layoutId:t}){const e=F.useContext(Uz).id;return e&&t!==void 0?e+"-"+t:t}function Kce(t){function e(r,s={}){return qce(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const Yce=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function FI(t){return typeof t!="string"||t.includes("-")?!1:!!(Yce.indexOf(t)>-1||/[A-Z]/.test(t))}const F0={};function Xce(t){Object.assign(F0,t)}const _g=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Uc=new Set(_g);function Wz(t,{layout:e,layoutId:n}){return Uc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!F0[t]||t==="opacity")}const qr=t=>!!(t&&t.getVelocity),Qce={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Zce=_g.length;function Jce(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let o="";for(let a=0;a<Zce;a++){const l=_g[a];if(t[l]!==void 0){const c=Qce[l]||l;o+=`${c}(${t[l]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(t,r?"":o):n&&r&&(o="none"),o}const Hz=t=>e=>typeof e=="string"&&e.startsWith(t),qz=Hz("--"),tS=Hz("var(--"),eue=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,tue=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ka=(t,e,n)=>Math.min(Math.max(n,t),e),zc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Zh={...zc,transform:t=>Ka(0,1,t)},Nv={...zc,default:1},Jh=t=>Math.round(t*1e5)/1e5,Gw=/(-)?([\d]*\.?[\d])+/g,Gz=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,nue=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function xg(t){return typeof t=="string"}const Eg=t=>({test:e=>xg(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ca=Eg("deg"),js=Eg("%"),je=Eg("px"),rue=Eg("vh"),iue=Eg("vw"),jR={...js,parse:t=>js.parse(t)/100,transform:t=>js.transform(t*100)},LR={...zc,transform:Math.round},Kz={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,radius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,size:je,top:je,right:je,bottom:je,left:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,rotate:ca,rotateX:ca,rotateY:ca,rotateZ:ca,scale:Nv,scaleX:Nv,scaleY:Nv,scaleZ:Nv,skew:ca,skewX:ca,skewY:ca,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:Zh,originX:jR,originY:jR,originZ:je,zIndex:LR,fillOpacity:Zh,strokeOpacity:Zh,numOctaves:LR};function VI(t,e,n,r){const{style:s,vars:o,transform:a,transformOrigin:l}=t;let c=!1,u=!1,d=!0;for(const f in e){const h=e[f];if(qz(f)){o[f]=h;continue}const p=Kz[f],v=tue(h,p);if(Uc.has(f)){if(c=!0,a[f]=v,!d)continue;h!==(p.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=v):s[f]=v}if(e.transform||(c||r?s.transform=Jce(t.transform,n,d,r):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:p=0}=l;s.transformOrigin=`${f} ${h} ${p}`}}const BI=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Yz(t,e,n){for(const r in e)!qr(e[r])&&!Wz(r,n)&&(t[r]=e[r])}function sue({transformTemplate:t},e,n){return F.useMemo(()=>{const r=BI();return VI(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function oue(t,e,n){const r=t.style||{},s={};return Yz(s,r,t),Object.assign(s,sue(t,e,n)),t.transformValues?t.transformValues(s):s}function aue(t,e,n){const r={},s=oue(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const lue=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function V0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||lue.has(t)}let Xz=t=>!V0(t);function cue(t){t&&(Xz=e=>e.startsWith("on")?!V0(e):t(e))}try{cue(require("@emotion/is-prop-valid").default)}catch{}function uue(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(Xz(s)||n===!0&&V0(s)||!e&&!V0(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function $R(t,e,n){return typeof t=="string"?t:je.transform(e+n*t)}function due(t,e,n){const r=$R(e,t.x,t.width),s=$R(n,t.y,t.height);return`${r} ${s}`}const fue={offset:"stroke-dashoffset",array:"stroke-dasharray"},hue={offset:"strokeDashoffset",array:"strokeDasharray"};function pue(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?fue:hue;t[o.offset]=je.transform(-r);const a=je.transform(e),l=je.transform(n);t[o.array]=`${a} ${l}`}function UI(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:o,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},d,f,h){if(VI(t,u,d,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:v,dimensions:g}=t;p.transform&&(g&&(v.transform=p.transform),delete p.transform),g&&(s!==void 0||o!==void 0||v.transform)&&(v.transformOrigin=due(g,s!==void 0?s:.5,o!==void 0?o:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),a!==void 0&&pue(p,a,l,c,!1)}const Qz=()=>({...BI(),attrs:{}}),zI=t=>typeof t=="string"&&t.toLowerCase()==="svg";function mue(t,e,n,r){const s=F.useMemo(()=>{const o=Qz();return UI(o,e,{enableHardwareAcceleration:!1},zI(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};Yz(o,t.style,t),s.style={...o,...s.style}}return s}function gue(t=!1){return(n,r,s,{latestValues:o},a)=>{const c=(FI(n)?mue:aue)(r,o,a,n),d={...uue(r,typeof n=="string",t),...c,ref:s},{children:f}=r,h=F.useMemo(()=>qr(f)?f.get():f,[f]);return F.createElement(n,{...d,children:h})}}function Zz(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const Jz=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function eW(t,e,n,r){Zz(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(Jz.has(s)?s:jI(s),e.attrs[s])}function WI(t,e){const{style:n}=t,r={};for(const s in n)(qr(n[s])||e.style&&qr(e.style[s])||Wz(s,t))&&(r[s]=n[s]);return r}function tW(t,e){const n=WI(t,e);for(const r in t)if(qr(t[r])||qr(e[r])){const s=_g.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function HI(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function vue(t){const e=F.useRef(null);return e.current===null&&(e.current=t()),e.current}const B0=t=>Array.isArray(t),yue=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),bue=t=>B0(t)?t[t.length-1]||0:t;function Sy(t){const e=qr(t)?t.get():t;return yue(e)?e.toValue():e}function wue({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,o){const a={latestValues:_ue(r,s,o,t),renderState:e()};return n&&(a.mount=l=>n(r,l,a)),a}const nW=t=>(e,n)=>{const r=F.useContext(zw),s=F.useContext(MI),o=()=>wue(t,e,r,s);return n?o():vue(o)};function _ue(t,e,n,r){const s={},o=r(t,{});for(const h in o)s[h]=Sy(o[h]);let{initial:a,animate:l}=t;const c=qw(t),u=Bz(t);e&&u&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const f=d?l:a;return f&&typeof f!="boolean"&&!Hw(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const v=HI(t,p);if(!v)return;const{transitionEnd:g,transition:b,...y}=v;for(const x in y){let E=y[x];if(Array.isArray(E)){const T=d?E.length-1:0;E=E[T]}E!==null&&(s[x]=E)}for(const x in g)s[x]=g[x]}),s}const tn=t=>t;class FR{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function xue(t){let e=new FR,n=new FR,r=0,s=!1,o=!1;const a=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&s,h=f?e:n;return u&&a.add(c),h.add(c)&&f&&s&&(r=e.order.length),c},cancel:c=>{n.remove(c),a.delete(c)},process:c=>{if(s){o=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const d=e.order[u];d(c),a.has(d)&&(l.schedule(d),t())}s=!1,o&&(o=!1,l.process(c))}};return l}const Dv=["prepare","read","update","preRender","render","postRender"],Eue=40;function Tue(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=Dv.reduce((f,h)=>(f[h]=xue(()=>n=!0),f),{}),a=f=>o[f].process(s),l=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,Eue),1),s.timestamp=f,s.isProcessing=!0,Dv.forEach(a),s.isProcessing=!1,n&&e&&(r=!1,t(l))},c=()=>{n=!0,r=!0,s.isProcessing||t(l)};return{schedule:Dv.reduce((f,h)=>{const p=o[h];return f[h]=(v,g=!1,b=!1)=>(n||c(),p.schedule(v,g,b)),f},{}),cancel:f=>Dv.forEach(h=>o[h].cancel(f)),state:s,steps:o}}const{schedule:Bt,cancel:Ro,state:ar,steps:h1}=Tue(typeof requestAnimationFrame<"u"?requestAnimationFrame:tn,!0),Sue={useVisualState:nW({scrapeMotionValuesFromProps:tW,createRenderState:Qz,onMount:(t,e,{renderState:n,latestValues:r})=>{Bt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Bt.render(()=>{UI(n,r,{enableHardwareAcceleration:!1},zI(e.tagName),t.transformTemplate),eW(e,n)})}})},Cue={useVisualState:nW({scrapeMotionValuesFromProps:WI,createRenderState:BI})};function Pue(t,{forwardMotionProps:e=!1},n,r){return{...FI(t)?Sue:Cue,preloadedFeatures:n,useRender:gue(e),createVisualElement:r,Component:t}}function fo(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const rW=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Kw(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const Aue=t=>e=>rW(e)&&t(e,Kw(e));function bo(t,e,n,r){return fo(t,e,Aue(n),r)}const Iue=(t,e)=>n=>e(t(n)),$a=(...t)=>t.reduce(Iue);function iW(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const VR=iW("dragHorizontal"),BR=iW("dragVertical");function sW(t){let e=!1;if(t==="y")e=BR();else if(t==="x")e=VR();else{const n=VR(),r=BR();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function oW(){const t=sW(!0);return t?(t(),!1):!0}class sl{constructor(e){this.isMounted=!1,this.node=e}update(){}}function UR(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(o,a)=>{if(o.pointerType==="touch"||oW())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[r]&&Bt.update(()=>l[r](o,a))};return bo(t.current,n,s,{passive:!t.getProps()[r]})}class Oue extends sl{mount(){this.unmount=$a(UR(this.node,!0),UR(this.node,!1))}unmount(){}}class kue extends sl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$a(fo(this.node.current,"focus",()=>this.onFocus()),fo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const aW=(t,e)=>e?t===e?!0:aW(t,e.parentElement):!1;function p1(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Kw(n))}class Nue extends sl{constructor(){super(...arguments),this.removeStartListeners=tn,this.removeEndListeners=tn,this.removeAccessibleListeners=tn,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=bo(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();Bt.update(()=>{!f&&!aW(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),a=bo(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=$a(o,a),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const a=l=>{l.key!=="Enter"||!this.checkPressEnd()||p1("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Bt.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=fo(this.node.current,"keyup",a),p1("down",(l,c)=>{this.startPress(l,c)})},n=fo(this.node.current,"keydown",e),r=()=>{this.isPressing&&p1("cancel",(o,a)=>this.cancelPress(o,a))},s=fo(this.node.current,"blur",r);this.removeAccessibleListeners=$a(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Bt.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!oW()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Bt.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=bo(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=fo(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=$a(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const nS=new WeakMap,m1=new WeakMap,Due=t=>{const e=nS.get(t.target);e&&e(t)},Rue=t=>{t.forEach(Due)};function Mue({root:t,...e}){const n=t||document;m1.has(n)||m1.set(n,{});const r=m1.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Rue,{root:t,...e})),r[s]}function jue(t,e,n){const r=Mue(e);return nS.set(t,n),r.observe(t),()=>{nS.delete(t),r.unobserve(t)}}const Lue={some:0,all:1};class $ue extends sl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Lue[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return jue(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Fue(e,n))&&this.startObserver()}unmount(){}}function Fue({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Vue={inView:{Feature:$ue},tap:{Feature:Nue},focus:{Feature:kue},hover:{Feature:Oue}};function lW(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Bue(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function Uue(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Yw(t,e,n){const r=t.getProps();return HI(r,e,n!==void 0?n:r.custom,Bue(t),Uue(t))}let zue=tn,qI=tn;const Fa=t=>t*1e3,wo=t=>t/1e3,Wue={current:!1},cW=t=>Array.isArray(t)&&typeof t[0]=="number";function uW(t){return!!(!t||typeof t=="string"&&dW[t]||cW(t)||Array.isArray(t)&&t.every(uW))}const Ah=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,dW={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ah([0,.65,.55,1]),circOut:Ah([.55,0,1,.45]),backIn:Ah([.31,.01,.66,-.59]),backOut:Ah([.33,1.53,.69,.99])};function fW(t){if(t)return cW(t)?Ah(t):Array.isArray(t)?t.map(fW):dW[t]}function Hue(t,e,n,{delay:r=0,duration:s,repeat:o=0,repeatType:a="loop",ease:l,times:c}={}){const u={[e]:n};c&&(u.offset=c);const d=fW(l);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"})}function que(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const hW=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Gue=1e-7,Kue=12;function Yue(t,e,n,r,s){let o,a,l=0;do a=e+(n-e)/2,o=hW(a,r,s)-t,o>0?n=a:e=a;while(Math.abs(o)>Gue&&++l<Kue);return a}function Tg(t,e,n,r){if(t===e&&n===r)return tn;const s=o=>Yue(o,0,1,t,n);return o=>o===0||o===1?o:hW(s(o),e,r)}const Xue=Tg(.42,0,1,1),Que=Tg(0,0,.58,1),pW=Tg(.42,0,.58,1),Zue=t=>Array.isArray(t)&&typeof t[0]!="number",mW=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,gW=t=>e=>1-t(1-e),GI=t=>1-Math.sin(Math.acos(t)),vW=gW(GI),Jue=mW(GI),yW=Tg(.33,1.53,.69,.99),KI=gW(yW),ede=mW(KI),tde=t=>(t*=2)<1?.5*KI(t):.5*(2-Math.pow(2,-10*(t-1))),nde={linear:tn,easeIn:Xue,easeInOut:pW,easeOut:Que,circIn:GI,circInOut:Jue,circOut:vW,backIn:KI,backInOut:ede,backOut:yW,anticipate:tde},zR=t=>{if(Array.isArray(t)){qI(t.length===4);const[e,n,r,s]=t;return Tg(e,n,r,s)}else if(typeof t=="string")return nde[t];return t},YI=(t,e)=>n=>!!(xg(n)&&nue.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),bW=(t,e,n)=>r=>{if(!xg(r))return r;const[s,o,a,l]=r.match(Gw);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},rde=t=>Ka(0,255,t),g1={...zc,transform:t=>Math.round(rde(t))},Ul={test:YI("rgb","red"),parse:bW("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+g1.transform(t)+", "+g1.transform(e)+", "+g1.transform(n)+", "+Jh(Zh.transform(r))+")"};function ide(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const rS={test:YI("#"),parse:ide,transform:Ul.transform},Au={test:YI("hsl","hue"),parse:bW("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+js.transform(Jh(e))+", "+js.transform(Jh(n))+", "+Jh(Zh.transform(r))+")"},wr={test:t=>Ul.test(t)||rS.test(t)||Au.test(t),parse:t=>Ul.test(t)?Ul.parse(t):Au.test(t)?Au.parse(t):rS.parse(t),transform:t=>xg(t)?t:t.hasOwnProperty("red")?Ul.transform(t):Au.transform(t)},Ht=(t,e,n)=>-n*t+n*e+t;function v1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function sde({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,a=0;if(!e)s=o=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;s=v1(c,l,t+1/3),o=v1(c,l,t),a=v1(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}const y1=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},ode=[rS,Ul,Au],ade=t=>ode.find(e=>e.test(t));function WR(t){const e=ade(t);let n=e.parse(t);return e===Au&&(n=sde(n)),n}const wW=(t,e)=>{const n=WR(t),r=WR(e),s={...n};return o=>(s.red=y1(n.red,r.red,o),s.green=y1(n.green,r.green,o),s.blue=y1(n.blue,r.blue,o),s.alpha=Ht(n.alpha,r.alpha,o),Ul.transform(s))};function lde(t){var e,n;return isNaN(t)&&xg(t)&&(((e=t.match(Gw))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Gz))===null||n===void 0?void 0:n.length)||0)>0}const _W={regex:eue,countKey:"Vars",token:"${v}",parse:tn},xW={regex:Gz,countKey:"Colors",token:"${c}",parse:wr.parse},EW={regex:Gw,countKey:"Numbers",token:"${n}",parse:zc.parse};function b1(t,{regex:e,countKey:n,token:r,parse:s}){const o=t.tokenised.match(e);o&&(t["num"+n]=o.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...o.map(s)))}function U0(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&b1(n,_W),b1(n,xW),b1(n,EW),n}function TW(t){return U0(t).values}function SW(t){const{values:e,numColors:n,numVars:r,tokenised:s}=U0(t),o=e.length;return a=>{let l=s;for(let c=0;c<o;c++)c<r?l=l.replace(_W.token,a[c]):c<r+n?l=l.replace(xW.token,wr.transform(a[c])):l=l.replace(EW.token,Jh(a[c]));return l}}const cde=t=>typeof t=="number"?0:t;function ude(t){const e=TW(t);return SW(t)(e.map(cde))}const Ya={test:lde,parse:TW,createTransformer:SW,getAnimatableNone:ude},CW=(t,e)=>n=>`${n>0?e:t}`;function PW(t,e){return typeof t=="number"?n=>Ht(t,e,n):wr.test(t)?wW(t,e):t.startsWith("var(")?CW(t,e):IW(t,e)}const AW=(t,e)=>{const n=[...t],r=n.length,s=t.map((o,a)=>PW(o,e[a]));return o=>{for(let a=0;a<r;a++)n[a]=s[a](o);return n}},dde=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=PW(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}},IW=(t,e)=>{const n=Ya.createTransformer(e),r=U0(t),s=U0(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?$a(AW(r.values,s.values),n):CW(t,e)},Zp=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},HR=(t,e)=>n=>Ht(t,e,n);function fde(t){return typeof t=="number"?HR:typeof t=="string"?wr.test(t)?wW:IW:Array.isArray(t)?AW:typeof t=="object"?dde:HR}function hde(t,e,n){const r=[],s=n||fde(t[0]),o=t.length-1;for(let a=0;a<o;a++){let l=s(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||tn:e;l=$a(c,l)}r.push(l)}return r}function OW(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(qI(o===e.length),o===1)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=hde(e,r,s),l=a.length,c=u=>{let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const f=Zp(t[d],t[d+1],u);return a[d](f)};return n?u=>c(Ka(t[0],t[o-1],u)):c}function pde(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Zp(0,e,r);t.push(Ht(n,1,s))}}function mde(t){const e=[0];return pde(e,t.length-1),e}function gde(t,e){return t.map(n=>n*e)}function vde(t,e){return t.map(()=>e||pW).splice(0,t.length-1)}function z0({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=Zue(r)?r.map(zR):zR(r),o={done:!1,value:e[0]},a=gde(n&&n.length===e.length?n:mde(e),t),l=OW(a,e,{ease:Array.isArray(s)?s:vde(e,s)});return{calculatedDuration:t,next:c=>(o.value=l(c),o.done=c>=t,o)}}function kW(t,e){return e?t*(1e3/e):0}const yde=5;function NW(t,e,n){const r=Math.max(e-yde,0);return kW(n-t(r),e-r)}const w1=.001,bde=.01,qR=10,wde=.05,_de=1;function xde({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,o;zue(t<=Fa(qR));let a=1-e;a=Ka(wde,_de,a),t=Ka(bde,qR,wo(t)),a<1?(s=u=>{const d=u*a,f=d*t,h=d-n,p=iS(u,a),v=Math.exp(-f);return w1-h/p*v},o=u=>{const f=u*a*t,h=f*n+n,p=Math.pow(a,2)*Math.pow(u,2)*t,v=Math.exp(-f),g=iS(Math.pow(u,2),a);return(-s(u)+w1>0?-1:1)*((h-p)*v)/g}):(s=u=>{const d=Math.exp(-u*t),f=(u-n)*t+1;return-w1+d*f},o=u=>{const d=Math.exp(-u*t),f=(n-u)*(t*t);return d*f});const l=5/t,c=Tde(s,o,l);if(t=Fa(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:t}}}const Ede=12;function Tde(t,e,n){let r=n;for(let s=1;s<Ede;s++)r=r-t(r)/e(r);return r}function iS(t,e){return t*Math.sqrt(1-e*e)}const Sde=["duration","bounce"],Cde=["stiffness","damping","mass"];function GR(t,e){return e.some(n=>t[n]!==void 0)}function Pde(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!GR(t,Cde)&&GR(t,Sde)){const n=xde(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function DW({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],o=t[t.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=Pde({...r,velocity:-wo(r.velocity||0)}),p=f||0,v=c/(2*Math.sqrt(l*u)),g=o-s,b=wo(Math.sqrt(l/u)),y=Math.abs(g)<5;n||(n=y?.01:2),e||(e=y?.005:.5);let x;if(v<1){const E=iS(b,v);x=T=>{const S=Math.exp(-v*b*T);return o-S*((p+v*b*g)/E*Math.sin(E*T)+g*Math.cos(E*T))}}else if(v===1)x=E=>o-Math.exp(-b*E)*(g+(p+b*g)*E);else{const E=b*Math.sqrt(v*v-1);x=T=>{const S=Math.exp(-v*b*T),A=Math.min(E*T,300);return o-S*((p+v*b*g)*Math.sinh(A)+E*g*Math.cosh(A))/E}}return{calculatedDuration:h&&d||null,next:E=>{const T=x(E);if(h)a.done=E>=d;else{let S=p;E!==0&&(v<1?S=NW(x,E,T):S=0);const A=Math.abs(S)<=n,C=Math.abs(o-T)<=e;a.done=A&&C}return a.value=a.done?o:T,a}}}function KR({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=t[0],h={done:!1,value:f},p=P=>l!==void 0&&P<l||c!==void 0&&P>c,v=P=>l===void 0?c:c===void 0||Math.abs(l-P)<Math.abs(c-P)?l:c;let g=n*e;const b=f+g,y=a===void 0?b:a(b);y!==b&&(g=y-f);const x=P=>-g*Math.exp(-P/r),E=P=>y+x(P),T=P=>{const I=x(P),R=E(P);h.done=Math.abs(I)<=u,h.value=h.done?y:R};let S,A;const C=P=>{p(h.value)&&(S=P,A=DW({keyframes:[h.value,v(h.value)],velocity:NW(E,P,h.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:P=>{let I=!1;return!A&&S===void 0&&(I=!0,T(P),C(P)),S!==void 0&&P>S?A.next(P-S):(!I&&T(P),h)}}}const Ade=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Bt.update(e,!0),stop:()=>Ro(e),now:()=>ar.isProcessing?ar.timestamp:performance.now()}},YR=2e4;function XR(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<YR;)e+=n,r=t.next(e);return e>=YR?1/0:e}const Ide={decay:KR,inertia:KR,tween:z0,keyframes:z0,spring:DW};function W0({autoplay:t=!0,delay:e=0,driver:n=Ade,keyframes:r,type:s="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...h}){let p=1,v=!1,g,b;const y=()=>{b=new Promise(H=>{g=H})};y();let x;const E=Ide[s]||z0;let T;E!==z0&&typeof r[0]!="number"&&(T=OW([0,100],r,{clamp:!1}),r=[0,100]);const S=E({...h,keyframes:r});let A;l==="mirror"&&(A=E({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let C="idle",P=null,I=null,R=null;S.calculatedDuration===null&&o&&(S.calculatedDuration=XR(S));const{calculatedDuration:j}=S;let O=1/0,D=1/0;j!==null&&(O=j+a,D=O*(o+1)-a);let N=0;const U=H=>{if(I===null)return;p>0&&(I=Math.min(I,H)),p<0&&(I=Math.min(H-D/p,I)),P!==null?N=P:N=Math.round(H-I)*p;const V=N-e*(p>=0?1:-1),ee=p>=0?V<0:V>D;N=Math.max(V,0),C==="finished"&&P===null&&(N=D);let se=N,oe=S;if(o){const ie=Math.min(N,D)/O;let we=Math.floor(ie),pe=ie%1;!pe&&ie>=1&&(pe=1),pe===1&&we--,we=Math.min(we,o+1),!!(we%2)&&(l==="reverse"?(pe=1-pe,a&&(pe-=a/O)):l==="mirror"&&(oe=A)),se=Ka(0,1,pe)*O}const xe=ee?{done:!1,value:r[0]}:oe.next(se);T&&(xe.value=T(xe.value));let{done:Se}=xe;!ee&&j!==null&&(Se=p>=0?N>=D:N<=0);const ye=P===null&&(C==="finished"||C==="running"&&Se);return f&&f(xe.value),ye&&Y(),xe},K=()=>{x&&x.stop(),x=void 0},q=()=>{C="idle",K(),g(),y(),I=R=null},Y=()=>{C="finished",d&&d(),K(),g()},G=()=>{if(v)return;x||(x=n(U));const H=x.now();c&&c(),P!==null?I=H-P:(!I||C==="finished")&&(I=H),C==="finished"&&y(),R=I,P=null,C="running",x.start()};t&&G();const J={then(H,V){return b.then(H,V)},get time(){return wo(N)},set time(H){H=Fa(H),N=H,P!==null||!x||p===0?P=H:I=x.now()-H/p},get duration(){const H=S.calculatedDuration===null?XR(S):S.calculatedDuration;return wo(H)},get speed(){return p},set speed(H){H===p||!x||(p=H,J.time=wo(N))},get state(){return C},play:G,pause:()=>{C="paused",P=N},stop:()=>{v=!0,C!=="idle"&&(C="idle",u&&u(),q())},cancel:()=>{R!==null&&U(R),q()},complete:()=>{C="finished"},sample:H=>(I=0,U(H))};return J}function Ode(t){let e;return()=>(e===void 0&&(e=t()),e)}const kde=Ode(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Nde=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Rv=10,Dde=2e4,Rde=(t,e)=>e.type==="spring"||t==="backgroundColor"||!uW(e.ease);function Mde(t,e,{onUpdate:n,onComplete:r,...s}){if(!(kde()&&Nde.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let a=!1,l,c,u=!1;const d=()=>{c=new Promise(E=>{l=E})};d();let{keyframes:f,duration:h=300,ease:p,times:v}=s;if(Rde(e,s)){const E=W0({...s,repeat:0,delay:0});let T={done:!1,value:f[0]};const S=[];let A=0;for(;!T.done&&A<Dde;)T=E.sample(A),S.push(T.value),A+=Rv;v=void 0,f=S,h=A-Rv,p="linear"}const g=Hue(t.owner.current,e,f,{...s,duration:h,ease:p,times:v}),b=()=>{u=!1,g.cancel()},y=()=>{u=!0,Bt.update(b),l(),d()};return g.onfinish=()=>{u||(t.set(que(f,s)),r&&r(),y())},{then(E,T){return c.then(E,T)},attachTimeline(E){return g.timeline=E,g.onfinish=null,tn},get time(){return wo(g.currentTime||0)},set time(E){g.currentTime=Fa(E)},get speed(){return g.playbackRate},set speed(E){g.playbackRate=E},get duration(){return wo(h)},play:()=>{a||(g.play(),Ro(b))},pause:()=>g.pause(),stop:()=>{if(a=!0,g.playState==="idle")return;const{currentTime:E}=g;if(E){const T=W0({...s,autoplay:!1});t.setWithVelocity(T.sample(E-Rv).value,T.sample(E).value,Rv)}y()},complete:()=>{u||g.finish()},cancel:y}}function jde({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:tn,pause:tn,stop:tn,then:o=>(o(),Promise.resolve()),cancel:tn,complete:tn});return e?W0({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const Lde={type:"spring",stiffness:500,damping:25,restSpeed:10},$de=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Fde={type:"keyframes",duration:.8},Vde={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Bde=(t,{keyframes:e})=>e.length>2?Fde:Uc.has(t)?t.startsWith("scale")?$de(e[1]):Lde:Vde,sS=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ya.test(e)||e==="0")&&!e.startsWith("url(")),Ude=new Set(["brightness","contrast","saturate","opacity"]);function zde(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Gw)||[];if(!r)return t;const s=n.replace(r,"");let o=Ude.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const Wde=/([a-z-]*)\(.*?\)/g,oS={...Ya,getAnimatableNone:t=>{const e=t.match(Wde);return e?e.map(zde).join(" "):t}},Hde={...Kz,color:wr,backgroundColor:wr,outlineColor:wr,fill:wr,stroke:wr,borderColor:wr,borderTopColor:wr,borderRightColor:wr,borderBottomColor:wr,borderLeftColor:wr,filter:oS,WebkitFilter:oS},XI=t=>Hde[t];function RW(t,e){let n=XI(t);return n!==oS&&(n=Ya),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const MW=t=>/^0[^.\s]+$/.test(t);function qde(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||MW(t)}function Gde(t,e,n,r){const s=sS(e,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const a=r.from!==void 0?r.from:t.get();let l;const c=[];for(let u=0;u<o.length;u++)o[u]===null&&(o[u]=u===0?a:o[u-1]),qde(o[u])&&c.push(u),typeof o[u]=="string"&&o[u]!=="none"&&o[u]!=="0"&&(l=o[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];o[d]=RW(e,l)}return o}function Kde({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function QI(t,e){return t[e]||t.default||t}const Yde={skipAnimations:!1},ZI=(t,e,n,r={})=>s=>{const o=QI(r,t)||{},a=o.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Fa(a);const c=Gde(e,t,n,o),u=c[0],d=c[c.length-1],f=sS(t,u),h=sS(t,d);let p={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:v=>{e.set(v),o.onUpdate&&o.onUpdate(v)},onComplete:()=>{s(),o.onComplete&&o.onComplete()}};if(Kde(o)||(p={...p,...Bde(t,p)}),p.duration&&(p.duration=Fa(p.duration)),p.repeatDelay&&(p.repeatDelay=Fa(p.repeatDelay)),!f||!h||Wue.current||o.type===!1||Yde.skipAnimations)return jde(p);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const v=Mde(e,t,p);if(v)return v}return W0(p)};function H0(t){return!!(qr(t)&&t.add)}const jW=t=>/^\-?\d*\.?\d+$/.test(t);function JI(t,e){t.indexOf(e)===-1&&t.push(e)}function eO(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class tO{constructor(){this.subscriptions=[]}add(e){return JI(this.subscriptions,e),()=>eO(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const a=this.subscriptions[o];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Xde=t=>!isNaN(parseFloat(t));class Qde{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:a}=ar;this.lastUpdated!==a&&(this.timeDelta=o,this.lastUpdated=a,Bt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Bt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Xde(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new tO);const r=this.events[e].add(n);return e==="change"?()=>{r(),Bt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?kW(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bd(t,e){return new Qde(t,e)}const LW=t=>e=>e.test(t),Zde={test:t=>t==="auto",parse:t=>t},$W=[zc,je,js,ca,iue,rue,Zde],ih=t=>$W.find(LW(t)),Jde=[...$W,wr,Ya],efe=t=>Jde.find(LW(t));function tfe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,bd(n))}function nfe(t,e){const n=Yw(t,e);let{transitionEnd:r={},transition:s={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const a in o){const l=bue(o[a]);tfe(t,a,l)}}function rfe(t,e,n){var r,s;const o=Object.keys(e).filter(l=>!t.hasValue(l)),a=o.length;if(a)for(let l=0;l<a;l++){const c=o[l],u=e[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(r=n[c])!==null&&r!==void 0?r:t.readValue(c))!==null&&s!==void 0?s:e[c]),d!=null&&(typeof d=="string"&&(jW(d)||MW(d))?d=parseFloat(d):!efe(d)&&Ya.test(u)&&(d=RW(c,u)),t.addValue(c,bd(d,{owner:t})),n[c]===void 0&&(n[c]=d),d!==null&&t.setBaseTarget(c,d))}}function ife(t,e){return e?(e[t]||e.default||e).from:void 0}function sfe(t,e,n){const r={};for(const s in t){const o=ife(s,e);if(o!==void 0)r[s]=o;else{const a=n.getValue(s);a&&(r[s]=a.get())}}return r}function ofe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function afe(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function FW(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");r&&(o=r);const u=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const f in l){const h=t.getValue(f),p=l[f];if(!h||p===void 0||d&&ofe(d,f))continue;const v={delay:n,elapsed:0,...QI(o||{},f)};if(window.HandoffAppearAnimations){const y=t.getProps()[Vz];if(y){const x=window.HandoffAppearAnimations(y,f,h,Bt);x!==null&&(v.elapsed=x,v.isHandoff=!0)}}let g=!v.isHandoff&&!afe(h,p);if(v.type==="spring"&&(h.getVelocity()||v.velocity)&&(g=!1),h.animation&&(g=!1),g)continue;h.start(ZI(f,h,p,t.shouldReduceMotion&&Uc.has(f)?{type:!1}:v));const b=h.animation;H0(c)&&(c.add(f),b.then(()=>c.remove(f))),u.push(b)}return a&&Promise.all(u).then(()=>{a&&nfe(t,a)}),u}function aS(t,e,n={}){const r=Yw(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(FW(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return lfe(t,e,u+c,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function lfe(t,e,n=0,r=0,s=1,o){const a=[],l=(t.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(t.variantChildren).sort(cfe).forEach((u,d)=>{u.notify("AnimationStart",e),a.push(aS(u,e,{...o,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function cfe(t,e){return t.sortNodePosition(e)}function ufe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>aS(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=aS(t,e,n);else{const s=typeof e=="function"?Yw(t,e,n.custom):e;r=Promise.all(FW(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const dfe=[...LI].reverse(),ffe=LI.length;function hfe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>ufe(t,n,r)))}function pfe(t){let e=hfe(t);const n=gfe();let r=!0;const s=(c,u)=>{const d=Yw(t,u);if(d){const{transition:f,transitionEnd:h,...p}=d;c={...c,...p,...h}}return c};function o(c){e=c(t)}function a(c,u){const d=t.getProps(),f=t.getVariantContext(!0)||{},h=[],p=new Set;let v={},g=1/0;for(let y=0;y<ffe;y++){const x=dfe[y],E=n[x],T=d[x]!==void 0?d[x]:f[x],S=Xp(T),A=x===u?E.isActive:null;A===!1&&(g=y);let C=T===f[x]&&T!==d[x]&&S;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),E.protectedKeys={...v},!E.isActive&&A===null||!T&&!E.prevProp||Hw(T)||typeof T=="boolean")continue;let I=mfe(E.prevProp,T)||x===u&&E.isActive&&!C&&S||y>g&&S,R=!1;const j=Array.isArray(T)?T:[T];let O=j.reduce(s,{});A===!1&&(O={});const{prevResolvedValues:D={}}=E,N={...D,...O},U=K=>{I=!0,p.has(K)&&(R=!0,p.delete(K)),E.needsAnimating[K]=!0};for(const K in N){const q=O[K],Y=D[K];if(v.hasOwnProperty(K))continue;let G=!1;B0(q)&&B0(Y)?G=!lW(q,Y):G=q!==Y,G?q!==void 0?U(K):p.add(K):q!==void 0&&p.has(K)?U(K):E.protectedKeys[K]=!0}E.prevProp=T,E.prevResolvedValues=O,E.isActive&&(v={...v,...O}),r&&t.blockInitialAnimation&&(I=!1),I&&(!C||R)&&h.push(...j.map(K=>({animation:K,options:{type:x,...c}})))}if(p.size){const y={};p.forEach(x=>{const E=t.getBaseTarget(x);E!==void 0&&(y[x]=E)}),h.push({animation:y})}let b=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(h):Promise.resolve()}function l(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(p=>{var v;return(v=p.animationState)===null||v===void 0?void 0:v.setActive(c,u)}),n[c].isActive=u;const h=a(d,c);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:a,setActive:l,setAnimateFunction:o,getState:()=>n}}function mfe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!lW(e,t):!1}function yl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gfe(){return{animate:yl(!0),whileInView:yl(),whileHover:yl(),whileTap:yl(),whileDrag:yl(),whileFocus:yl(),exit:yl()}}class vfe extends sl{constructor(e){super(e),e.animationState||(e.animationState=pfe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Hw(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let yfe=0;class bfe extends sl{constructor(){super(...arguments),this.id=yfe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const wfe={animation:{Feature:vfe},exit:{Feature:bfe}},QR=(t,e)=>Math.abs(t-e);function _fe(t,e){const n=QR(t.x,e.x),r=QR(t.y,e.y);return Math.sqrt(n**2+r**2)}class VW{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=x1(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=_fe(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:v}=f,{timestamp:g}=ar;this.history.push({...v,timestamp:g});const{onStart:b,onMove:y}=this.handlers;h||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=_1(h,this.transformPagePoint),Bt.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=x1(f.type==="pointercancel"?this.lastMoveEventInfo:_1(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,b),v&&v(f,b)},!rW(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=Kw(e),l=_1(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=ar;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,x1(l,this.history)),this.removeListeners=$a(bo(this.contextWindow,"pointermove",this.handlePointerMove),bo(this.contextWindow,"pointerup",this.handlePointerUp),bo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ro(this.updatePoint)}}function _1(t,e){return e?{point:e(t.point)}:t}function ZR(t,e){return{x:t.x-e.x,y:t.y-e.y}}function x1({point:t},e){return{point:t,delta:ZR(t,BW(e)),offset:ZR(t,xfe(e)),velocity:Efe(e,.1)}}function xfe(t){return t[0]}function BW(t){return t[t.length-1]}function Efe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=BW(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Fa(e)));)n--;if(!r)return{x:0,y:0};const o=wo(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const a={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function oi(t){return t.max-t.min}function lS(t,e=0,n=.01){return Math.abs(t-e)<=n}function JR(t,e,n,r=.5){t.origin=r,t.originPoint=Ht(e.min,e.max,t.origin),t.scale=oi(n)/oi(e),(lS(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ht(n.min,n.max,t.origin)-t.originPoint,(lS(t.translate)||isNaN(t.translate))&&(t.translate=0)}function ep(t,e,n,r){JR(t.x,e.x,n.x,r?r.originX:void 0),JR(t.y,e.y,n.y,r?r.originY:void 0)}function eM(t,e,n){t.min=n.min+e.min,t.max=t.min+oi(e)}function Tfe(t,e,n){eM(t.x,e.x,n.x),eM(t.y,e.y,n.y)}function tM(t,e,n){t.min=e.min-n.min,t.max=t.min+oi(e)}function tp(t,e,n){tM(t.x,e.x,n.x),tM(t.y,e.y,n.y)}function Sfe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ht(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ht(n,t,r.max):Math.min(t,n)),t}function nM(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Cfe(t,{top:e,left:n,bottom:r,right:s}){return{x:nM(t.x,n,s),y:nM(t.y,e,r)}}function rM(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Pfe(t,e){return{x:rM(t.x,e.x),y:rM(t.y,e.y)}}function Afe(t,e){let n=.5;const r=oi(t),s=oi(e);return s>r?n=Zp(e.min,e.max-r,t.min):r>s&&(n=Zp(t.min,t.max-s,e.min)),Ka(0,1,n)}function Ife(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const cS=.35;function Ofe(t=cS){return t===!1?t=0:t===!0&&(t=cS),{x:iM(t,"left","right"),y:iM(t,"top","bottom")}}function iM(t,e,n){return{min:sM(t,e),max:sM(t,n)}}function sM(t,e){return typeof t=="number"?t:t[e]||0}const oM=()=>({translate:0,scale:1,origin:0,originPoint:0}),Iu=()=>({x:oM(),y:oM()}),aM=()=>({min:0,max:0}),vn=()=>({x:aM(),y:aM()});function yi(t){return[t("x"),t("y")]}function UW({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function kfe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Nfe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function E1(t){return t===void 0||t===1}function uS({scale:t,scaleX:e,scaleY:n}){return!E1(t)||!E1(e)||!E1(n)}function Pl(t){return uS(t)||zW(t)||t.z||t.rotate||t.rotateX||t.rotateY}function zW(t){return lM(t.x)||lM(t.y)}function lM(t){return t&&t!=="0%"}function q0(t,e,n){const r=t-n,s=e*r;return n+s}function cM(t,e,n,r,s){return s!==void 0&&(t=q0(t,s,r)),q0(t,n,r)+e}function dS(t,e=0,n=1,r,s){t.min=cM(t.min,e,n,r,s),t.max=cM(t.max,e,n,r,s)}function WW(t,{x:e,y:n}){dS(t.x,e.translate,e.scale,e.originPoint),dS(t.y,n.translate,n.scale,n.originPoint)}function Dfe(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,a;for(let l=0;l<s;l++){o=n[l],a=o.projectionDelta;const c=o.instance;c&&c.style&&c.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Ou(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,WW(t,a)),r&&Pl(o.latestValues)&&Ou(t,o.latestValues))}e.x=uM(e.x),e.y=uM(e.y)}function uM(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function fa(t,e){t.min=t.min+e,t.max=t.max+e}function dM(t,e,[n,r,s]){const o=e[s]!==void 0?e[s]:.5,a=Ht(t.min,t.max,o);dS(t,e[n],e[r],a,e.scale)}const Rfe=["x","scaleX","originX"],Mfe=["y","scaleY","originY"];function Ou(t,e){dM(t.x,e,Rfe),dM(t.y,e,Mfe)}function HW(t,e){return UW(Nfe(t.getBoundingClientRect(),e))}function jfe(t,e,n){const r=HW(t,n),{scroll:s}=e;return s&&(fa(r.x,s.offset.x),fa(r.y,s.offset.y)),r}const qW=({current:t})=>t?t.ownerDocument.defaultView:null,Lfe=new WeakMap;class $fe{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Kw(d,"page").point)},o=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:v}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=sW(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),yi(b=>{let y=this.getAxisMotionValue(b).get()||0;if(js.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const E=x.layout.layoutBox[b];E&&(y=oi(E)*(parseFloat(y)/100))}}this.originPoint[b]=y}),v&&Bt.update(()=>v(d,f),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},a=(d,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:v,onDrag:g}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:b}=f;if(p&&this.currentDirection===null){this.currentDirection=Ffe(b),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),g&&g(d,f)},l=(d,f)=>this.stop(d,f),c=()=>yi(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new VW(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:qW(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Bt.update(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Mv(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=Sfe(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&Pu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=Cfe(s.layoutBox,n):this.constraints=!1,this.elastic=Ofe(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&yi(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=Ife(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Pu(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=jfe(r,s.root,this.visualElement.getTransformPagePoint());let a=Pfe(s.layout.layoutBox,o);if(n){const l=n(kfe(a));this.hasMutatedConstraints=!!l,l&&(a=UW(l))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=yi(d=>{if(!Mv(d,n,this.currentDirection))return;let f=c&&c[d]||{};a&&(f={min:0,max:0});const h=s?200:1e6,p=s?40:1e7,v={type:"inertia",velocity:r?e[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(ZI(e,r,0,n))}stopAnimation(){yi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){yi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){yi(n=>{const{drag:r}=this.getProps();if(!Mv(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];o.set(e[n]-Ht(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Pu(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};yi(a=>{const l=this.getAxisMotionValue(a);if(l){const c=l.get();s[a]=Afe({min:c,max:c},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),yi(a=>{if(!Mv(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(Ht(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;Lfe.set(this.visualElement,this);const e=this.visualElement.current,n=bo(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Pu(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const a=fo(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(yi(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:a=cS,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:a,dragMomentum:l}}}function Mv(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Ffe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Vfe extends sl{constructor(e){super(e),this.removeGroupControls=tn,this.removeListeners=tn,this.controls=new $fe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||tn}unmount(){this.removeGroupControls(),this.removeListeners()}}const fM=t=>(e,n)=>{t&&Bt.update(()=>t(e,n))};class Bfe extends sl{constructor(){super(...arguments),this.removePointerDownListener=tn}onPointerDown(e){this.session=new VW(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:qW(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:fM(e),onStart:fM(n),onMove:r,onEnd:(o,a)=>{delete this.session,s&&Bt.update(()=>s(o,a))}}}mount(){this.removePointerDownListener=bo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Ufe(){const t=F.useContext(MI);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=F.useId();return F.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const Cy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function hM(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const sh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(je.test(t))t=parseFloat(t);else return t;const n=hM(t,e.target.x),r=hM(t,e.target.y);return`${n}% ${r}%`}},zfe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Ya.parse(t);if(s.length>5)return r;const o=Ya.createTransformer(t),a=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;s[0+a]/=l,s[1+a]/=c;const u=Ht(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),o(s)}};class Wfe extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;Xce(Hfe),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Cy.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,a=r.projection;return a&&(a.isPresent=o,s||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||Bt.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function GW(t){const[e,n]=Ufe(),r=F.useContext(Uz);return L.createElement(Wfe,{...t,layoutGroup:r,switchLayoutGroup:F.useContext(zz),isPresent:e,safeToRemove:n})}const Hfe={borderRadius:{...sh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sh,borderTopRightRadius:sh,borderBottomLeftRadius:sh,borderBottomRightRadius:sh,boxShadow:zfe},KW=["TopLeft","TopRight","BottomLeft","BottomRight"],qfe=KW.length,pM=t=>typeof t=="string"?parseFloat(t):t,mM=t=>typeof t=="number"||je.test(t);function Gfe(t,e,n,r,s,o){s?(t.opacity=Ht(0,n.opacity!==void 0?n.opacity:1,Kfe(r)),t.opacityExit=Ht(e.opacity!==void 0?e.opacity:1,0,Yfe(r))):o&&(t.opacity=Ht(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<qfe;a++){const l=`border${KW[a]}Radius`;let c=gM(e,l),u=gM(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||mM(c)===mM(u)?(t[l]=Math.max(Ht(pM(c),pM(u),r),0),(js.test(u)||js.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=Ht(e.rotate||0,n.rotate||0,r))}function gM(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Kfe=YW(0,.5,vW),Yfe=YW(.5,.95,tn);function YW(t,e,n){return r=>r<t?0:r>e?1:n(Zp(t,e,r))}function vM(t,e){t.min=e.min,t.max=e.max}function hi(t,e){vM(t.x,e.x),vM(t.y,e.y)}function yM(t,e,n,r,s){return t-=e,t=q0(t,1/n,r),s!==void 0&&(t=q0(t,1/s,r)),t}function Xfe(t,e=0,n=1,r=.5,s,o=t,a=t){if(js.test(e)&&(e=parseFloat(e),e=Ht(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=Ht(o.min,o.max,r);t===o&&(l-=e),t.min=yM(t.min,e,n,l,s),t.max=yM(t.max,e,n,l,s)}function bM(t,e,[n,r,s],o,a){Xfe(t,e[n],e[r],e[s],e.scale,o,a)}const Qfe=["x","scaleX","originX"],Zfe=["y","scaleY","originY"];function wM(t,e,n,r){bM(t.x,e,Qfe,n?n.x:void 0,r?r.x:void 0),bM(t.y,e,Zfe,n?n.y:void 0,r?r.y:void 0)}function _M(t){return t.translate===0&&t.scale===1}function XW(t){return _M(t.x)&&_M(t.y)}function Jfe(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function QW(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function xM(t){return oi(t.x)/oi(t.y)}class ehe{constructor(){this.members=[]}add(e){JI(this.members,e),e.scheduleRender()}remove(e){if(eO(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function EM(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y;if((s||o)&&(r=`translate3d(${s}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const the=(t,e)=>t.depth-e.depth;class nhe{constructor(){this.children=[],this.isDirty=!1}add(e){JI(this.children,e),this.isDirty=!0}remove(e){eO(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(the),this.isDirty=!1,this.children.forEach(e)}}function rhe(t,e){const n=performance.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(Ro(r),t(o-e))};return Bt.read(r,!0),()=>Ro(r)}function ihe(t){window.MotionDebug&&window.MotionDebug.record(t)}function she(t){return t instanceof SVGElement&&t.tagName!=="svg"}function ohe(t,e,n){const r=qr(t)?t:bd(t);return r.start(ZI("",r,e,n)),r.animation}const TM=["","X","Y","Z"],ahe={visibility:"hidden"},SM=1e3;let lhe=0;const Al={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function ZW({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=e==null?void 0:e()){this.id=lhe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Al.totalNodes=Al.resolvedTargetDeltas=Al.recalculatedProjection=0,this.nodes.forEach(dhe),this.nodes.forEach(ghe),this.nodes.forEach(vhe),this.nodes.forEach(fhe),ihe(Al)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new nhe)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new tO),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=she(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=rhe(h,250),Cy.hasAnimatedSinceResize&&(Cy.hasAnimatedSinceResize=!1,this.nodes.forEach(PM))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||xhe,{onLayoutAnimationStart:b,onLayoutAnimationComplete:y}=d.getProps(),x=!this.targetLayout||!QW(this.targetLayout,v)||p,E=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||h&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,E);const T={...QI(g,"layout"),onPlay:b,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else h||PM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ro(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yhe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(CM);return}this.isUpdating||this.nodes.forEach(phe),this.isUpdating=!1,this.nodes.forEach(mhe),this.nodes.forEach(che),this.nodes.forEach(uhe),this.clearAllSnapshots();const l=performance.now();ar.delta=Ka(0,1e3/60,l-ar.timestamp),ar.timestamp=l,ar.isProcessing=!0,h1.update.process(ar),h1.preRender.process(ar),h1.render.process(ar),ar.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(hhe),this.sharedNodes.forEach(bhe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Bt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Bt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=vn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!XW(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(l||Pl(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),Ehe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return vn();const l=a.measureViewportBox(),{scroll:c}=this.root;return c&&(fa(l.x,c.offset.x),fa(l.y,c.offset.y)),l}removeElementScroll(a){const l=vn();hi(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){hi(l,a);const{scroll:h}=this.root;h&&(fa(l.x,-h.offset.x),fa(l.y,-h.offset.y))}fa(l.x,d.offset.x),fa(l.y,d.offset.y)}}return l}applyTransform(a,l=!1){const c=vn();hi(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ou(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Pl(d.latestValues)&&Ou(c,d.latestValues)}return Pl(this.latestValues)&&Ou(c,this.latestValues),c}removeTransform(a){const l=vn();hi(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Pl(u.latestValues))continue;uS(u.latestValues)&&u.updateSnapshot();const d=vn(),f=u.measurePageBox();hi(d,f),wM(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Pl(this.latestValues)&&wM(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ar.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=ar.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vn(),this.relativeTargetOrigin=vn(),tp(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),hi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=vn(),this.targetWithTransforms=vn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Tfe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hi(this.target,this.layout.layoutBox),WW(this.target,this.targetDelta)):hi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vn(),this.relativeTargetOrigin=vn(),tp(this.relativeTargetOrigin,this.target,p.target),hi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Al.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||uS(this.parent.latestValues)||zW(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ar.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;hi(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;Dfe(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:v}=l;if(!v){this.projectionTransform&&(this.projectionDelta=Iu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Iu(),this.projectionDeltaWithTransform=Iu());const g=this.projectionTransform;ep(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=EM(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Al.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Iu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=vn(),p=c?c.source:void 0,v=this.layout?this.layout.source:void 0,g=p!==v,b=this.getStack(),y=!b||b.members.length<=1,x=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(_he));this.animationProgress=0;let E;this.mixTargetDelta=T=>{const S=T/1e3;AM(f.x,a.x,S),AM(f.y,a.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(tp(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),whe(this.relativeTarget,this.relativeTargetOrigin,h,S),E&&Jfe(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=vn()),hi(E,this.relativeTarget)),g&&(this.animationValues=d,Gfe(d,u,this.latestValues,S,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ro(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Bt.update(()=>{Cy.hasAnimatedSinceResize=!0,this.currentAnimation=ohe(0,SM,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(SM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&JW(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||vn();const f=oi(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const h=oi(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+h}hi(l,c),Ou(l,d),ep(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new ehe),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<TM.length;d++){const f="rotate"+TM[d];c[f]&&(u[f]=c[f],a.setStaticValue(f,0))}a.render();for(const d in u)a.setStaticValue(d,u[d]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ahe;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Sy(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Sy(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Pl(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=EM(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:p,y:v}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in F0){if(h[g]===void 0)continue;const{correct:b,applyTo:y}=F0[g],x=u.transform==="none"?h[g]:b(h[g],f);if(y){const E=y.length;for(let T=0;T<E;T++)u[y[T]]=x}else u[g]=x}return this.options.layoutId&&(u.pointerEvents=f===this?Sy(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(CM),this.root.sharedNodes.clear()}}}function che(t){t.updateLayout()}function uhe(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,a=n.source!==t.layout.source;o==="size"?yi(f=>{const h=a?n.measuredBox[f]:n.layoutBox[f],p=oi(h);h.min=r[f].min,h.max=h.min+p}):JW(o,n.layoutBox,r)&&yi(f=>{const h=a?n.measuredBox[f]:n.layoutBox[f],p=oi(r[f]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const l=Iu();ep(l,r,n.layoutBox);const c=Iu();a?ep(c,t.applyTransform(s,!0),n.measuredBox):ep(c,r,n.layoutBox);const u=!XW(l);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const v=vn();tp(v,n.layoutBox,h.layoutBox);const g=vn();tp(g,r,p.layoutBox),QW(v,g)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function dhe(t){Al.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function fhe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function hhe(t){t.clearSnapshot()}function CM(t){t.clearMeasurements()}function phe(t){t.isLayoutDirty=!1}function mhe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function PM(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ghe(t){t.resolveTargetDelta()}function vhe(t){t.calcProjection()}function yhe(t){t.resetRotation()}function bhe(t){t.removeLeadSnapshot()}function AM(t,e,n){t.translate=Ht(e.translate,0,n),t.scale=Ht(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function IM(t,e,n,r){t.min=Ht(e.min,n.min,r),t.max=Ht(e.max,n.max,r)}function whe(t,e,n,r){IM(t.x,e.x,n.x,r),IM(t.y,e.y,n.y,r)}function _he(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const xhe={duration:.45,ease:[.4,0,.1,1]},OM=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),kM=OM("applewebkit/")&&!OM("chrome/")?Math.round:tn;function NM(t){t.min=kM(t.min),t.max=kM(t.max)}function Ehe(t){NM(t.x),NM(t.y)}function JW(t,e,n){return t==="position"||t==="preserve-aspect"&&!lS(xM(e),xM(n),.2)}const The=ZW({attachResizeListener:(t,e)=>fo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),T1={current:void 0},e8=ZW({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!T1.current){const t=new The({});t.mount(window),t.setOptions({layoutScroll:!0}),T1.current=t}return T1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),She={pan:{Feature:Bfe},drag:{Feature:Vfe,ProjectionNode:e8,MeasureLayout:GW}},Che=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Phe(t){const e=Che.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function fS(t,e,n=1){const[r,s]=Phe(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const a=o.trim();return jW(a)?parseFloat(a):a}else return tS(s)?fS(s,e,n+1):s}function Ahe(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const o=s.get();if(!tS(o))return;const a=fS(o,r);a&&s.set(a)});for(const s in e){const o=e[s];if(!tS(o))continue;const a=fS(o,r);a&&(e[s]=a,n||(n={}),n[s]===void 0&&(n[s]=o))}return{target:e,transitionEnd:n}}const Ihe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),t8=t=>Ihe.has(t),Ohe=t=>Object.keys(t).some(t8),DM=t=>t===zc||t===je,RM=(t,e)=>parseFloat(t.split(", ")[e]),MM=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return RM(s[1],e);{const o=r.match(/^matrix\((.+)\)$/);return o?RM(o[1],t):0}},khe=new Set(["x","y","z"]),Nhe=_g.filter(t=>!khe.has(t));function Dhe(t){const e=[];return Nhe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const wd={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:MM(4,13),y:MM(5,14)};wd.translateX=wd.x;wd.translateY=wd.y;const Rhe=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,o=getComputedStyle(s),{display:a}=o,l={};a==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{l[u]=wd[u](r,o)}),e.render();const c=e.measureViewportBox();return n.forEach(u=>{const d=e.getValue(u);d&&d.jump(l[u]),t[u]=wd[u](c,o)}),t},Mhe=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(t8);let o=[],a=!1;const l=[];if(s.forEach(c=>{const u=t.getValue(c);if(!t.hasValue(c))return;let d=n[c],f=ih(d);const h=e[c];let p;if(B0(h)){const v=h.length,g=h[0]===null?1:0;d=h[g],f=ih(d);for(let b=g;b<v&&h[b]!==null;b++)p?qI(ih(h[b])===p):p=ih(h[b])}else p=ih(h);if(f!==p)if(DM(f)&&DM(p)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof h=="string"?e[c]=parseFloat(h):Array.isArray(h)&&p===je&&(e[c]=h.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(d===0||h===0)?d===0?u.set(p.transform(d)):e[c]=f.transform(h):(a||(o=Dhe(t),a=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:e[c],u.jump(h))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=Rhe(e,t,l);return o.length&&o.forEach(([d,f])=>{t.getValue(d).set(f)}),t.render(),Ww&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function jhe(t,e,n,r){return Ohe(e)?Mhe(t,e,n,r):{target:e,transitionEnd:r}}const Lhe=(t,e,n,r)=>{const s=Ahe(t,e,r);return e=s.target,r=s.transitionEnd,jhe(t,e,n,r)},hS={current:null},n8={current:!1};function $he(){if(n8.current=!0,!!Ww)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>hS.current=t.matches;t.addListener(e),e()}else hS.current=!1}function Fhe(t,e,n){const{willChange:r}=e;for(const s in e){const o=e[s],a=n[s];if(qr(o))t.addValue(s,o),H0(r)&&r.add(s);else if(qr(a))t.addValue(s,bd(o,{owner:t})),H0(r)&&r.remove(s);else if(a!==o)if(t.hasValue(s)){const l=t.getValue(s);!l.hasAnimated&&l.set(o)}else{const l=t.getStaticValue(s);t.addValue(s,bd(l!==void 0?l:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const jM=new WeakMap,r8=Object.keys(Qp),Vhe=r8.length,LM=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Bhe=$I.length;class Uhe{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Bt.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.isControllingVariants=qw(n),this.isVariantNode=Bz(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];l[f]!==void 0&&qr(h)&&(h.set(l[f],!1),H0(u)&&u.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,jM.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),n8.current||$he(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hS.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){jM.delete(this.current),this.projection&&this.projection.unmount(),Ro(this.notifyUpdate),Ro(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Uc.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Bt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,o){let a,l;for(let c=0;c<Vhe;c++){const u=r8[c],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:p}=Qp[u];h&&(a=h),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),p&&(l=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:p}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Pu(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:h,layoutRoot:p})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<LM.length;r++){const s=LM[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o=e["on"+s];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Fhe(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Bhe;r++){const s=$I[r],o=this.props[s];(Xp(o)||o===!1)&&(n[s]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=bd(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=HI(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!qr(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new tO),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class i8 extends Uhe{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},o){let a=sfe(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),a&&(a=s(a))),o){rfe(this,r,a);const l=Lhe(this,r,a,n);n=l.transitionEnd,r=l.target}return{transition:e,transitionEnd:n,...r}}}function zhe(t){return window.getComputedStyle(t)}class Whe extends i8{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Uc.has(n)){const r=XI(n);return r&&r.default||0}else{const r=zhe(e),s=(qz(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return HW(e,n)}build(e,n,r,s){VI(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return WI(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){Zz(e,n,r,s)}}class Hhe extends i8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Uc.has(n)){const r=XI(n);return r&&r.default||0}return n=Jz.has(n)?n:jI(n),e.getAttribute(n)}measureInstanceViewportBox(){return vn()}scrapeMotionValuesFromProps(e,n){return tW(e,n)}build(e,n,r,s){UI(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){eW(e,n,r,s)}mount(e){this.isSVGTag=zI(e.tagName),super.mount(e)}}const qhe=(t,e)=>FI(t)?new Hhe(e,{enableHardwareAcceleration:!1}):new Whe(e,{enableHardwareAcceleration:!0}),Ghe={layout:{ProjectionNode:e8,MeasureLayout:GW}},Khe={...wfe,...Vue,...She,...Ghe},G0=Kce((t,e)=>Pue(t,e,Khe,qhe)),Yhe=[{path:"/home",label:"Inicio"},{path:"/tasks",label:"Tareas"},{path:"/finance",label:"Finanzas"},{path:"/more",label:"Ms"}];function s8(){const t=Rc(),e=Dc();return w.jsx("nav",{className:"fixed bottom-0 w-full bg-pastel-blue bg-opacity-100 text-gray-800 shadow-md flex justify-around p-3 z-50",children:Yhe.map(({path:n,label:r},s)=>{const o=e.pathname.startsWith(n);return w.jsxs("button",{onClick:()=>t(n),className:"relative",children:[w.jsx(G0.span,{animate:{scale:o?1.1:1},transition:{type:"spring",stiffness:300},className:o?"text-pastel-pink font-semibold":"text-gray-800",children:r}),o&&w.jsx(G0.span,{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-6 h-1 bg-pastel-pink rounded",layoutId:"activeUnderline"})]},s)})})}var Xhe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Qhe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vt=(t,e)=>{const n=F.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:a,children:l,...c},u)=>F.createElement("svg",{ref:u,...Xhe,width:s,height:s,stroke:r,strokeWidth:a?Number(o)*24/Number(s):o,className:`lucide lucide-${Qhe(t)}`,...c},[...e.map(([d,f])=>F.createElement(d,f)),...(Array.isArray(l)?l:[l])||[]]));return n.displayName=`${t}`,n},K0=vt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),o8=vt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Zhe=vt("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),pS=vt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),a8=vt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Jhe=vt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),epe=vt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),$M=vt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),tpe=vt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),nO=vt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),npe=vt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),l8=vt("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]),FM=vt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Jp=vt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Xw=vt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),rpe=vt("Layers",[["polygon",{points:"12 2 2 7 12 12 22 7 12 2",key:"1b0ttc"}],["polyline",{points:"2 17 12 22 22 17",key:"imjtdl"}],["polyline",{points:"2 12 12 17 22 12",key:"5dexcv"}]]),ipe=vt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),VM=vt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),c8=vt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),em=vt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),mS=vt("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),spe=vt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Qw=vt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),ope=vt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),u8=vt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ape=vt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),tm=vt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),gS=vt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),lpe=vt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Sg(){return w.jsx("div",{className:"flex items-center justify-center p-4",role:"status","aria-label":"Loading",children:w.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})})}function cpe(){const[t,e]=F.useState(()=>{const u=localStorage.getItem("chatOpen");return u?JSON.parse(u):!1}),[n,r]=F.useState([]),[s,o]=F.useState(""),[a,l]=F.useState(!1);F.useEffect(()=>{localStorage.setItem("chatOpen",JSON.stringify(t))},[t]);const c=async()=>{var d,f,h;if(!s)return;const u={from:"user",text:s};r(p=>[...p,u]),o(""),l(!0);try{const b={from:"bot",text:((h=(f=(d=(await(await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${{}.VITE_OPENAI_KEY}`},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"user",content:s}]})})).json()).choices)==null?void 0:d[0])==null?void 0:f.message)==null?void 0:h.content)||"Sin respuesta de IA"};r(y=>[...y,b])}catch{r(v=>[...v,{from:"bot",text:"Error al llamar a la API de IA"}])}finally{l(!1)}};return w.jsxs(w.Fragment,{children:[t&&w.jsxs("div",{className:"fixed bottom-20 right-6 w-80 h-96 bg-white shadow-lg rounded-lg flex flex-col overflow-hidden z-50",children:[w.jsxs("div",{className:"bg-blue-600 text-white p-2 flex items-center",children:[w.jsx(VM,{className:"mr-2"})," Chat IA"]}),w.jsxs("div",{className:"flex-1 p-2 overflow-y-auto relative",children:[a&&w.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-75",children:w.jsx(Sg,{})}),w.jsx("div",{className:`mb-2 ${m.from==="user"?"text-right":"text-left"}`,children:w.jsx("span",{className:"inline-block p-2 rounded bg-gray-200",children:m.text})},i),"))}"]}),w.jsxs("div",{className:"p-2 flex",children:[w.jsx("input",{"aria-label":"Mensaje de chat",type:"text",value:s,onChange:u=>o(u.target.value),className:"flex-1 border rounded px-2 py-1",placeholder:"Escribe..."}),w.jsx(G0.button,{onClick:c,"aria-label":"Enviar mensaje",className:"ml-2 bg-blue-600 text-white px-3 rounded",disabled:a,children:"Enviar"})]})]}),w.jsx(G0.button,{onClick:()=>e(!t),"aria-label":t?"Cerrar chat":"Abrir chat",whileHover:{scale:1.1},whileTap:{scale:.9},className:"fixed bottom-6 right-6 bg-blue-600 text-white p-4 rounded-full shadow-lg z-50",children:w.jsx(VM,{})})]})}function upe({className:t="",onClick:e}){return w.jsxs("svg",{onClick:e,className:`${t} rounded-full bg-gray-200 p-1`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:[w.jsx("path",{d:"M12 12c2.209 0 4-1.791 4-4s-1.791-4-4-4-4 1.791-4 4 1.791 4 4 4z"}),w.jsx("path",{d:"M4 20c0-4 4-6 8-6s8 2 8 6v1H4v-1z"})]})}function dpe(){il();const[t,e]=F.useState(!1);return w.jsxs("div",{className:"relative min-h-screen flex flex-col bg-pastel-yellow text-gray-800 font-sans",children:[w.jsxs("div",{className:"absolute top-4 right-4 z-20",children:[w.jsx(upe,{onClick:()=>e(!t),className:"w-8 h-8 text-gray-800 cursor-pointer"}),t&&w.jsxs("div",{className:"absolute right-0 mt-2 bg-white border rounded shadow p-2 space-y-1",children:[w.jsx(Gn,{to:"/perfil",className:"block px-2 py-1 hover:bg-gray-100",children:"Perfil"}),w.jsx(Gn,{to:"/buzon",className:"block px-2 py-1 hover:bg-gray-100",children:"Buzn"})]})]}),w.jsx("main",{className:"flex-grow p-6 max-w-7xl mx-auto",children:w.jsx(mw,{})}),w.jsx(s8,{}),w.jsx(cpe,{})]})}function fpe(){const[t,e]=F.useState(""),[n,r]=F.useState(""),[s,o]=F.useState(""),[a,l]=F.useState(!0),{login:c}=il(),u=Rc(),d=async f=>{f.preventDefault(),o("");try{await c(t,n,a),u("/home")}catch{o("Usuario o contrasea invlidos")}};return w.jsx("div",{className:"flex items-center justify-center h-screen bg-pastel-yellow",children:w.jsxs("form",{onSubmit:d,className:"bg-white p-6 rounded shadow-md",children:[w.jsx("h2",{className:"text-2xl mb-4",children:"Iniciar sesin"}),w.jsx("input",{type:"text",placeholder:"Nombre de usuario",value:t,onChange:f=>e(f.target.value),className:"border p-2 w-full mb-4"}),w.jsx("input",{type:"password",placeholder:"Contrasea",value:n,onChange:f=>r(f.target.value),className:"border p-2 w-full mb-4"}),s&&w.jsx("p",{className:"text-red-600 text-sm mb-4",children:s}),w.jsxs("div",{className:"flex items-center mb-4",children:[w.jsx("input",{type:"checkbox",id:"remember",checked:a,onChange:f=>l(f.target.checked),className:"mr-2"}),w.jsx("label",{htmlFor:"remember",className:"text-sm",children:"Recurdame"})]}),w.jsx("button",{type:"submit",className:"bg-pastel-blue text-white px-4 py-2 rounded w-full hover:bg-pastel-green transition-colors",children:"Entrar"}),w.jsxs("p",{className:"mt-4 text-sm",children:["No tienes cuenta? ",w.jsx(Gn,{to:"/signup",className:"text-pastel-blue hover:underline",children:"Regstrate"})]})]})})}function hpe(){const[t,e]=F.useState(""),[n,r]=F.useState(""),[s,o]=F.useState(""),{signup:a}=il(),l=Rc(),c=async u=>{u.preventDefault(),o("");try{await a(t,n),l("/home")}catch(d){o(d.message)}};return w.jsx("div",{className:"flex items-center justify-center h-screen bg-pastel-yellow",children:w.jsxs("form",{onSubmit:c,className:"bg-white p-6 rounded shadow-md",children:[w.jsx("h2",{className:"text-2xl mb-4",children:"Crear cuenta"}),w.jsx("input",{type:"email",placeholder:"Correo electrnico",value:t,onChange:u=>e(u.target.value),className:"border p-2 w-full mb-4"}),w.jsx("input",{type:"password",placeholder:"Contrasea",value:n,onChange:u=>r(u.target.value),className:"border p-2 w-full mb-4"}),s&&w.jsx("p",{className:"text-red-600 text-sm mb-4",children:s}),w.jsx("button",{type:"submit",className:"bg-pastel-blue text-white px-4 py-2 rounded w-full hover:bg-pastel-green transition-colors",children:"Registrarse"}),w.jsxs("p",{className:"mt-4 text-sm",children:["Ya tienes cuenta? ",w.jsx(Gn,{to:"/",className:"text-pastel-blue hover:underline",children:"Inicia sesin"})]})]})})}function S1({children:t,className:e}){return w.jsx("div",{className:`bg-white/70 backdrop-blur-md rounded-2xl shadow-md ${e}`,children:t})}function ppe({value:t,max:e=100,variant:n="primary",className:r}){const s=()=>{switch(n){case"success":return"bg-pastel-green";case"primary":return"bg-pastel-blue";case"destructive":return"bg-pastel-pink";default:return"bg-gray-300"}};return w.jsx("div",{className:`group cursor-pointer w-full bg-gray-200 rounded-full overflow-visible ${r}`,children:w.jsx("div",{className:`${s()} transition-transform duration-200 ease-in-out transform origin-bottom group-hover:scale-y-110`,style:{width:`${t/e*100}%`,height:"100%"}})})}const mpe="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/8=",gpe="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/8=",vpe="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/8=",ype="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/8=";function bpe(){const{role:t,userName:e,weddingName:n,progress:r,logoUrl:s}=il(),o=F.useRef(null),a=300,l=()=>{var h;(h=o.current)==null||h.scrollBy({left:-a,behavior:"smooth"})},c=()=>{var h;(h=o.current)==null||h.scrollBy({left:a,behavior:"smooth"})},f=t==="particular"?[{label:"Invitados confirmados",value:120,icon:gS},{label:"Presupuesto gastado",value:"8,500",icon:FM},{label:"Proveedores contratados",value:"5 / 8",icon:tm},{label:"Tareas completadas",value:"25 / 30",icon:pS}]:[{label:"Tareas asignadas",value:12,icon:pS},{label:"Proveedores asignados",value:3,icon:tm},{label:"Momentos por coordinar",value:4,icon:gS},{label:"Presupuesto gastado",value:"4,500",icon:FM}];return w.jsxs("div",{className:"relative flex flex-col h-full bg-pastel-yellow pb-16",children:[w.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-pastel-pink rounded-full opacity-20 transform translate-x-1/2 -translate-y-1/2"}),w.jsxs("header",{className:"relative z-10 p-6 flex justify-between items-center",children:[w.jsxs("div",{className:"space-y-1",children:[w.jsxs("p",{className:"text-2xl text-gray-800",children:["Bienvenidos, ",e]}),w.jsx("p",{className:"text-4xl font-bold text-gray-800",children:"Cada detalle hace tu boda inolvidable"})]}),w.jsx("img",{src:"/logo-app.png",alt:"Logo de la boda",className:"w-32 h-32 object-contain"})]}),w.jsx("section",{className:"z-10 w-full p-6",children:w.jsxs(S1,{className:"bg-white/70 backdrop-blur-md p-4 w-full",children:[w.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Progreso de tareas"}),w.jsx(ppe,{className:"h-4 rounded-full w-full",value:r,max:100,variant:r>=100?"success":r>=80?"primary":"destructive"}),w.jsxs("p",{className:"mt-2 text-sm font-medium text-gray-700",children:[r,"% completado"]})]})}),w.jsx("section",{className:"z-10 grid grid-cols-1 sm:grid-cols-2 gap-6 p-6 flex-grow",children:f.map((h,p)=>{const v=h.icon;return w.jsxs(S1,{className:"p-4 bg-white/80 backdrop-blur-md hover:shadow-lg transition transform hover:scale-105",children:[w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx(v,{className:"text-pastel-blue"}),w.jsx("p",{className:"text-sm text-gray-500",children:h.label})]}),w.jsx("p",{className:"text-2xl font-extrabold text-blue-600 mt-2",children:h.value})]},p)})}),w.jsx("section",{className:"z-10 p-6",children:w.jsxs("div",{className:"relative",children:[w.jsx("button",{onClick:l,className:"absolute left-0 top-1/2 transform -translate-y-1/2 z-20 p-2 bg-white/80 rounded-full shadow-md",children:w.jsx(epe,{className:"text-gray-700"})}),w.jsx("div",{ref:o,className:"flex space-x-4 py-2 overflow-hidden scroll-smooth",children:[mpe,gpe,vpe,ype].map((h,p)=>w.jsx("div",{className:"flex-shrink-0 w-80 h-56 rounded-xl overflow-hidden shadow-md",children:w.jsx("img",{src:h,alt:`Inspiracin ${p+1}`,className:"w-full h-full object-cover"})},p))}),w.jsx("button",{onClick:c,className:"absolute right-0 top-1/2 transform -translate-y-1/2 z-20 p-2 bg-white/80 rounded-full shadow-md",children:w.jsx($M,{className:"text-gray-700"})})]})}),w.jsxs("section",{className:"z-10 p-6",children:[w.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"ltimas Noticias"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{title:"Tendencias en decoraciones nupciales 2025",url:"#",source:"Blog de Bodas"},{title:"Cmo elegir el men perfecto para tu boda",url:"#",source:"Revista Eventos"},{title:"Gua definitiva de flores de temporada",url:"#",source:"Noticias Florales"}].map((h,p)=>w.jsxs(S1,{className:"p-4 hover:shadow-lg transition",children:[w.jsx("p",{className:"text-lg font-medium text-gray-800",children:h.title}),w.jsx("p",{className:"text-sm text-gray-500 mt-1",children:h.source}),w.jsxs("a",{href:h.url,className:"inline-flex items-center text-blue-600 mt-2",children:["Leer ms ",w.jsx($M,{className:"ml-1"})]})]},p))})]}),w.jsx("div",{className:"fixed bottom-0 left-0 w-full z-20",children:w.jsx(s8,{})})]})}function wpe(){return w.jsx(bpe,{})}function os(){return os=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},os.apply(this,arguments)}function _pe(t,e){if(t){if(typeof t=="string")return BM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BM(t,e)}}function BM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d8(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=_pe(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var kt;(function(t){t.Hour="Hour",t.QuarterDay="Quarter Day",t.HalfDay="Half Day",t.Day="Day",t.Week="Week",t.Month="Month",t.Year="Year"})(kt||(kt={}));var UM={},Y0=function(e,n){n===void 0&&(n={});var r=JSON.stringify([e,n]),s=UM[r];return s||(s=new Intl.DateTimeFormat(e,n),UM[r]=s),s},Xt=function(e,n,r){var s=new Date(e.getFullYear()+(r==="year"?n:0),e.getMonth()+(r==="month"?n:0),e.getDate()+(r==="day"?n:0),e.getHours()+(r==="hour"?n:0),e.getMinutes()+(r==="minute"?n:0),e.getSeconds()+(r==="second"?n:0),e.getMilliseconds()+(r==="millisecond"?n:0));return s},Or=function(e,n){var r=["millisecond","second","minute","hour","day","month","year"],s=function(l){var c=r.indexOf(n);return r.indexOf(l)<=c},o=new Date(e.getFullYear(),s("year")?0:e.getMonth(),s("month")?1:e.getDate(),s("day")?0:e.getHours(),s("hour")?0:e.getMinutes(),s("minute")?0:e.getSeconds(),s("second")?0:e.getMilliseconds());return o},zM=function(e,n,r){for(var s=e[0].start,o=e[0].start,a=d8(e),l;!(l=a()).done;){var c=l.value;c.start<s&&(s=c.start),c.end>o&&(o=c.end)}switch(n){case kt.Year:s=Xt(s,-1,"year"),s=Or(s,"year"),o=Xt(o,1,"year"),o=Or(o,"year");break;case kt.Month:s=Xt(s,-1*r,"month"),s=Or(s,"month"),o=Xt(o,1,"year"),o=Or(o,"year");break;case kt.Week:s=Or(s,"day"),s=Xt(xpe(s),-7*r,"day"),o=Or(o,"day"),o=Xt(o,1.5,"month");break;case kt.Day:s=Or(s,"day"),s=Xt(s,-1*r,"day"),o=Or(o,"day"),o=Xt(o,19,"day");break;case kt.QuarterDay:s=Or(s,"day"),s=Xt(s,-1*r,"day"),o=Or(o,"day"),o=Xt(o,66,"hour");break;case kt.HalfDay:s=Or(s,"day"),s=Xt(s,-1*r,"day"),o=Or(o,"day"),o=Xt(o,108,"hour");break;case kt.Hour:s=Or(s,"hour"),s=Xt(s,-1*r,"hour"),o=Or(o,"day"),o=Xt(o,1,"day");break}return[s,o]},WM=function(e,n,r){for(var s=new Date(e),o=[s];s<n;){switch(r){case kt.Year:s=Xt(s,1,"year");break;case kt.Month:s=Xt(s,1,"month");break;case kt.Week:s=Xt(s,7,"day");break;case kt.Day:s=Xt(s,1,"day");break;case kt.HalfDay:s=Xt(s,12,"hour");break;case kt.QuarterDay:s=Xt(s,6,"hour");break;case kt.Hour:s=Xt(s,1,"hour");break}o.push(s)}return o},oh=function(e,n){var r=Y0(n,{month:"long"}).format(e);return r=r.replace(r[0],r[0].toLocaleUpperCase()),r},C1=function(e,n,r){var s=Y0(n,{weekday:r}).format(e);return s=s.replace(s[0],s[0].toLocaleUpperCase()),s},xpe=function(e){var n=e.getDay(),r=e.getDate()-n+(n===0?-6:1);return new Date(e.setDate(r))},Epe=function(e){var n=new Date(e.valueOf()),r=(n.getDay()+6)%7;n.setDate(n.getDate()-r+3);var s=n.valueOf();n.setMonth(0,1),n.getDay()!==4&&n.setMonth(0,1+(4-n.getDay()+7)%7);var o=(1+Math.ceil((s-n.valueOf())/6048e5)).toString();return o.length===1?"0"+o:o},Tpe=function(e,n){return new Date(n,e+1,0).getDate()},bl={ganttTable:"_3_ygE",ganttTable_Header:"_1nBOt",ganttTable_HeaderSeparator:"_2eZzQ",ganttTable_HeaderItem:"_WuQ0f"},Spe=function(e){var n=e.headerHeight,r=e.fontFamily,s=e.fontSize,o=e.rowWidth;return L.createElement("div",{className:bl.ganttTable,style:{fontFamily:r,fontSize:s}},L.createElement("div",{className:bl.ganttTable_Header,style:{height:n-2}},L.createElement("div",{className:bl.ganttTable_HeaderItem,style:{minWidth:o}},"Name"),L.createElement("div",{className:bl.ganttTable_HeaderSeparator,style:{height:n*.5,marginTop:n*.2}}),L.createElement("div",{className:bl.ganttTable_HeaderItem,style:{minWidth:o}},"From"),L.createElement("div",{className:bl.ganttTable_HeaderSeparator,style:{height:n*.5,marginTop:n*.25}}),L.createElement("div",{className:bl.ganttTable_HeaderItem,style:{minWidth:o}},"To")))},aa={taskListWrapper:"_3ZbQT",taskListTableRow:"_34SS0",taskListCell:"_3lLk3",taskListNameWrapper:"_nI1Xw",taskListExpander:"_2QjE6",taskListEmptyExpander:"_2TfEi"},HM={},Cpe=function(e){return function(n,r){var s=n.toString(),o=HM[s];return o||(o=n.toLocaleDateString(e,r),HM[s]=o),o}},qM={weekday:"short",year:"numeric",month:"long",day:"numeric"},Ppe=function(e){var n=e.rowHeight,r=e.rowWidth,s=e.tasks,o=e.fontFamily,a=e.fontSize,l=e.locale,c=e.onExpanderClick,u=F.useMemo(function(){return Cpe(l)},[l]);return L.createElement("div",{className:aa.taskListWrapper,style:{fontFamily:o,fontSize:a}},s.map(function(d){var f="";return d.hideChildren===!1?f="":d.hideChildren===!0&&(f=""),L.createElement("div",{className:aa.taskListTableRow,style:{height:n},key:d.id+"row"},L.createElement("div",{className:aa.taskListCell,style:{minWidth:r,maxWidth:r},title:d.name},L.createElement("div",{className:aa.taskListNameWrapper},L.createElement("div",{className:f?aa.taskListExpander:aa.taskListEmptyExpander,onClick:function(){return c(d)}},f),L.createElement("div",null,d.name))),L.createElement("div",{className:aa.taskListCell,style:{minWidth:r,maxWidth:r}},"",u(d.start,qM)),L.createElement("div",{className:aa.taskListCell,style:{minWidth:r,maxWidth:r}},"",u(d.end,qM)))}))},np={tooltipDefaultContainer:"_3T42e",tooltipDefaultContainerParagraph:"_29NTg",tooltipDetailsContainer:"_25P-K",tooltipDetailsContainerHidden:"_3gVAq"},Ape=function(e){var n=e.task,r=e.rowHeight,s=e.rtl,o=e.svgContainerHeight,a=e.svgContainerWidth,l=e.scrollX,c=e.scrollY,u=e.arrowIndent,d=e.fontSize,f=e.fontFamily,h=e.headerHeight,p=e.taskListWidth,v=e.TooltipContent,g=F.useRef(null),b=F.useState(0),y=b[0],x=b[1],E=F.useState(0),T=E[0],S=E[1];return F.useEffect(function(){if(g.current){var A=g.current.offsetHeight*1.1,C=g.current.offsetWidth*1.1,P=n.index*r-c+h,I;if(s){I=n.x1-u*1.5-C-l,I<0&&(I=n.x2+u*1.5-l);var R=C+I;R>a&&(I=a-C,P+=r)}else{I=n.x2+u*1.5+p-l;var j=C+I,O=p+a;j>O&&(I=n.x1+p-u*1.5-l-C),I<p&&(I=a+p-C,P+=r)}var D=A+P-c;D>o-c&&(P=o-A),x(P),S(I)}},[g,n,u,l,c,h,p,r,o,a,s]),L.createElement("div",{ref:g,className:T?np.tooltipDetailsContainer:np.tooltipDetailsContainerHidden,style:{left:T,top:y}},L.createElement(v,{task:n,fontSize:d,fontFamily:f}))},Ipe=function(e){var n=e.task,r=e.fontSize,s=e.fontFamily,o={fontSize:r,fontFamily:s};return L.createElement("div",{className:np.tooltipDefaultContainer,style:o},L.createElement("b",{style:{fontSize:r+6}},n.name+": "+n.start.getDate()+"-"+(n.start.getMonth()+1)+"-"+n.start.getFullYear()+" - "+n.end.getDate()+"-"+(n.end.getMonth()+1)+"-"+n.end.getFullYear()),n.end.getTime()-n.start.getTime()!==0&&L.createElement("p",{className:np.tooltipDefaultContainerParagraph},"Duration: "+~~((n.end.getTime()-n.start.getTime())/(1e3*60*60*24))+" day(s)"),L.createElement("p",{className:np.tooltipDefaultContainerParagraph},!!n.progress&&"Progress: "+n.progress+" %"))},Ope={scroll:"_1eT-t"},kpe=function(e){var n=e.scroll,r=e.ganttHeight,s=e.ganttFullHeight,o=e.headerHeight,a=e.rtl,l=e.onScroll,c=F.useRef(null);return F.useEffect(function(){c.current&&(c.current.scrollTop=n)},[n]),L.createElement("div",{style:{height:r,marginTop:o,marginLeft:a?"":"-1rem"},className:Ope.scroll,onScroll:l,ref:c},L.createElement("div",{style:{height:s,width:1}}))},Npe=function(e){var n=e.headerHeight,r=e.fontFamily,s=e.fontSize,o=e.rowWidth,a=e.rowHeight,l=e.scrollY,c=e.tasks,u=e.selectedTask,d=e.setSelectedTask,f=e.onExpanderClick,h=e.locale,p=e.ganttHeight,v=e.taskListRef,g=e.horizontalContainerClass,b=e.TaskListHeader,y=e.TaskListTable,x=F.useRef(null);F.useEffect(function(){x.current&&(x.current.scrollTop=l)},[l]);var E={headerHeight:n,fontFamily:r,fontSize:s,rowWidth:o},T=u?u.id:"",S={rowHeight:a,rowWidth:o,fontFamily:r,fontSize:s,tasks:c,locale:h,selectedTaskId:T,setSelectedTask:d,onExpanderClick:f};return L.createElement("div",{ref:v},L.createElement(b,Object.assign({},E)),L.createElement("div",{ref:x,className:g,style:p?{height:p}:{}},L.createElement(y,Object.assign({},S))))},jv={gridRow:"_2dZTy",gridRowLine:"_3rUKi",gridTick:"_RuwuK"},Dpe=function(e){for(var n=e.tasks,r=e.dates,s=e.rowHeight,o=e.svgWidth,a=e.columnWidth,l=e.todayColor,c=e.rtl,u=0,d=[],f=[L.createElement("line",{key:"RowLineFirst",x:"0",y1:0,x2:o,y2:0,className:jv.gridRowLine})],h=d8(n),p;!(p=h()).done;){var v=p.value;d.push(L.createElement("rect",{key:"Row"+v.id,x:"0",y:u,width:o,height:s,className:jv.gridRow})),f.push(L.createElement("line",{key:"RowLine"+v.id,x:"0",y1:u+s,x2:o,y2:u+s,className:jv.gridRowLine})),u+=s}for(var g=new Date,b=0,y=[],x=L.createElement("rect",null),E=0;E<r.length;E++){var T=r[E];y.push(L.createElement("line",{key:T.getTime(),x1:b,y1:0,x2:b,y2:u,className:jv.gridTick})),(E+1!==r.length&&T.getTime()<g.getTime()&&r[E+1].getTime()>=g.getTime()||E!==0&&E+1===r.length&&T.getTime()<g.getTime()&&Xt(T,T.getTime()-r[E-1].getTime(),"millisecond").getTime()>=g.getTime())&&(x=L.createElement("rect",{x:b,y:0,width:a,height:u,fill:l})),c&&E+1!==r.length&&T.getTime()>=g.getTime()&&r[E+1].getTime()<g.getTime()&&(x=L.createElement("rect",{x:b+a,y:0,width:a,height:u,fill:l})),b+=a}return L.createElement("g",{className:"gridBody"},L.createElement("g",{className:"rows"},d),L.createElement("g",{className:"rowLines"},f),L.createElement("g",{className:"ticks"},y),L.createElement("g",{className:"today"},x))},Rpe=function(e){return L.createElement("g",{className:"grid"},L.createElement(Dpe,Object.assign({},e)))},no={calendarBottomText:"_9w8d5",calendarTopTick:"_1rLuZ",calendarTopText:"_2q1Kt",calendarHeader:"_35nLX"},nu=function(e){var n=e.value,r=e.x1Line,s=e.y1Line,o=e.y2Line,a=e.xText,l=e.yText;return L.createElement("g",{className:"calendarTop"},L.createElement("line",{x1:r,y1:s,x2:r,y2:o,className:no.calendarTopTick,key:n+"line"}),L.createElement("text",{key:n+"text",y:l,x:a,className:no.calendarTopText},n))},Mpe=function(e){var n=e.dateSetup,r=e.locale,s=e.viewMode,o=e.rtl,a=e.headerHeight,l=e.columnWidth,c=e.fontFamily,u=e.fontSize,d=function(){for(var I=[],R=[],j=a*.5,O=0;O<n.dates.length;O++){var D=n.dates[O],N=D.getFullYear();if(R.push(L.createElement("text",{key:D.getFullYear(),y:a*.8,x:l*O+l*.5,className:no.calendarBottomText},N)),O===0||D.getFullYear()!==n.dates[O-1].getFullYear()){var U=D.getFullYear().toString(),K=void 0;o?K=(6+O+D.getFullYear()+1)*l:K=(6+O-D.getFullYear())*l,I.push(L.createElement(nu,{key:U,value:U,x1Line:l*O,y1Line:0,y2Line:a,xText:K,yText:j*.9}))}}return[I,R]},f=function(){for(var I=[],R=[],j=a*.5,O=0;O<n.dates.length;O++){var D=n.dates[O],N=oh(D,r);if(R.push(L.createElement("text",{key:N+D.getFullYear(),y:a*.8,x:l*O+l*.5,className:no.calendarBottomText},N)),O===0||D.getFullYear()!==n.dates[O-1].getFullYear()){var U=D.getFullYear().toString(),K=void 0;o?K=(6+O+D.getMonth()+1)*l:K=(6+O-D.getMonth())*l,I.push(L.createElement(nu,{key:U,value:U,x1Line:l*O,y1Line:0,y2Line:j,xText:K,yText:j*.9}))}}return[I,R]},h=function(){for(var I=[],R=[],j=1,O=a*.5,D=n.dates,N=D.length-1;N>=0;N--){var U=D[N],K="";(N===0||U.getMonth()!==D[N-1].getMonth())&&(K=oh(U,r)+", "+U.getFullYear());var q="W"+Epe(U);R.push(L.createElement("text",{key:U.getTime(),y:a*.8,x:l*(N+ +o),className:no.calendarBottomText},q)),K&&(N!==D.length-1&&I.push(L.createElement(nu,{key:K,value:K,x1Line:l*N+j*l,y1Line:0,y2Line:O,xText:l*N+l*j*.5,yText:O*.9})),j=0),j++}return[I,R]},p=function(){for(var I=[],R=[],j=a*.5,O=n.dates,D=0;D<O.length;D++){var N=O[D],U=C1(N,r,"short")+", "+N.getDate().toString();if(R.push(L.createElement("text",{key:N.getTime(),y:a*.8,x:l*D+l*.5,className:no.calendarBottomText},U)),D+1!==O.length&&N.getMonth()!==O[D+1].getMonth()){var K=oh(N,r);I.push(L.createElement(nu,{key:K+N.getFullYear(),value:K,x1Line:l*(D+1),y1Line:0,y2Line:j,xText:l*(D+1)-Tpe(N.getMonth(),N.getFullYear())*l*.5,yText:j*.9}))}}return[I,R]},v=function(){for(var I=[],R=[],j=s===kt.HalfDay?2:4,O=a*.5,D=n.dates,N=0;N<D.length;N++){var U=D[N],K=Y0(r,{hour:"numeric"}).format(U);if(R.push(L.createElement("text",{key:U.getTime(),y:a*.8,x:l*(N+ +o),className:no.calendarBottomText,fontFamily:c},K)),N===0||U.getDate()!==D[N-1].getDate()){var q=C1(U,r,"short")+", "+U.getDate()+" "+oh(U,r);I.push(L.createElement(nu,{key:q+U.getFullYear(),value:q,x1Line:l*N+j*l,y1Line:0,y2Line:O,xText:l*N+j*l*.5,yText:O*.9}))}}return[I,R]},g=function(){for(var I=[],R=[],j=a*.5,O=n.dates,D=0;D<O.length;D++){var N=O[D],U=Y0(r,{hour:"numeric"}).format(N);if(R.push(L.createElement("text",{key:N.getTime(),y:a*.8,x:l*(D+ +o),className:no.calendarBottomText,fontFamily:c},U)),D!==0&&N.getDate()!==O[D-1].getDate()){var K=O[D-1],q=C1(K,r,"long")+", "+K.getDate()+" "+oh(K,r),Y=(N.getHours()-24)/2;I.push(L.createElement(nu,{key:q+K.getFullYear(),value:q,x1Line:l*D,y1Line:0,y2Line:j,xText:l*(D+Y),yText:j*.9}))}}return[I,R]},b=[],y=[];switch(n.viewMode){case kt.Year:var x=d();b=x[0],y=x[1];break;case kt.Month:var E=f();b=E[0],y=E[1];break;case kt.Week:var T=h();b=T[0],y=T[1];break;case kt.Day:var S=p();b=S[0],y=S[1];break;case kt.QuarterDay:case kt.HalfDay:var A=v();b=A[0],y=A[1];break;case kt.Hour:var C=g();b=C[0],y=C[1]}return L.createElement("g",{className:"calendar",fontSize:u,fontFamily:c},L.createElement("rect",{x:0,y:0,width:l*n.dates.length,height:a,className:no.calendarHeader}),y," ",b)};typeof Symbol<"u"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));typeof Symbol<"u"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function P1(t,e){try{var n=t()}catch(r){return e(r)}return n&&n.then?n.then(void 0,e):n}var jpe=function(e){var n=e.taskFrom,r=e.taskTo,s=e.rowHeight,o=e.taskHeight,a=e.arrowIndent,l=e.rtl,c,u;if(l){var d=$pe(n,r,s,o,a);c=d[0],u=d[1]}else{var f=Lpe(n,r,s,o,a);c=f[0],u=f[1]}return L.createElement("g",{className:"arrow"},L.createElement("path",{strokeWidth:"1.5",d:c,fill:"none"}),L.createElement("polygon",{points:u}))},Lpe=function(e,n,r,s,o){var a=e.index>n.index?-1:1,l=n.y+s/2,c=e.x2+o*2,u=c<n.x1?"":"H "+(n.x1-o),d=c>n.x1?o:n.x1-e.x2-o,f="M "+e.x2+" "+(e.y+s/2)+` 
  h `+o+` 
  v `+a*r/2+` 
  `+u+`
  V `+l+` 
  h `+d,h=n.x1+","+l+` 
  `+(n.x1-5)+","+(l-5)+` 
  `+(n.x1-5)+","+(l+5);return[f,h]},$pe=function(e,n,r,s,o){var a=e.index>n.index?-1:1,l=n.y+s/2,c=e.x1-o*2,u=c>n.x2?"":"H "+(n.x2+o),d=c<n.x2?-o:n.x2-e.x1+o,f="M "+e.x1+" "+(e.y+s/2)+` 
  h `+-o+` 
  v `+a*r/2+` 
  `+u+`
  V `+l+` 
  h `+d,h=n.x2+","+l+` 
  `+(n.x2+5)+","+(l+5)+` 
  `+(n.x2+5)+","+(l-5);return[f,h]},Fpe=function(e,n,r,s,o,a,l,c,u,d,f,h,p,v,g,b,y,x){var E=e.map(function(T,S){return Vpe(T,S,n,r,s,o,a,l,c,u,d,f,h,p,v,g,b,y,x)});return E=E.map(function(T){for(var S=T.dependencies||[],A=function(I){var R=E.findIndex(function(j){return j.id===S[I]});R!==-1&&E[R].barChildren.push(T)},C=0;C<S.length;C++)A(C);return T}),E},Vpe=function(e,n,r,s,o,a,l,c,u,d,f,h,p,v,g,b,y,x,E){var T;switch(e.type){case"milestone":T=Bpe(e,n,r,s,o,a,l,c,x,E);break;case"project":T=GM(e,n,r,s,o,a,l,c,u,v,g,b,y);break;default:T=GM(e,n,r,s,o,a,l,c,u,d,f,h,p);break}return T},GM=function(e,n,r,s,o,a,l,c,u,d,f,h,p){var v,g;u?(g=KM(e.start,r,s),v=KM(e.end,r,s)):(v=X0(e.start,r,s),g=X0(e.end,r,s));var b=e.type;b==="task"&&g-v<c*2&&(b="smalltask",g=v+c*2);var y=Ih(v,g,e.progress,u),x=y[0],E=y[1],T=f8(n,o,a),S=e.type==="project"?e.hideChildren:void 0,A=os({backgroundColor:h,backgroundSelectedColor:p,progressColor:d,progressSelectedColor:f},e.styles);return os({},e,{typeInternal:b,x1:v,x2:g,y:T,index:n,progressX:E,progressWidth:x,barCornerRadius:l,handleWidth:c,hideChildren:S,height:a,barChildren:[],styles:A})},Bpe=function(e,n,r,s,o,a,l,c,u,d){var f=X0(e.start,r,s),h=f8(n,o,a),p=f-a*.5,v=f+a*.5,g=a/1.414,b=os({backgroundColor:u,backgroundSelectedColor:d,progressColor:"",progressSelectedColor:""},e.styles);return os({},e,{end:e.start,x1:p,x2:v,y:h,index:n,progressX:0,progressWidth:0,barCornerRadius:l,handleWidth:c,typeInternal:e.type,progress:0,height:g,hideChildren:void 0,barChildren:[],styles:b})},X0=function(e,n,r){var s=n.findIndex(function(c){return c.getTime()>=e.getTime()})-1,o=e.getTime()-n[s].getTime(),a=o/(n[s+1].getTime()-n[s].getTime()),l=s*r+a*r;return l},KM=function(e,n,r){var s=X0(e,n,r);return s+=r,s},f8=function(e,n,r){var s=e*n+(n-r)/2;return s},Ih=function(e,n,r,s){var o=(n-e)*r*.01,a;return s?a=n-o:a=e,[o,a]},Upe=function(e,n){if(e>=n.x2)return 100;if(e<=n.x1)return 0;var r=n.x2-n.x1,s=Math.round((e-n.x1)*100/r);return s},zpe=function(e,n){if(e>=n.x2)return 0;if(e<=n.x1)return 100;var r=n.x2-n.x1,s=Math.round((n.x2-e)*100/r);return s},h8=function(e,n,r){var s=[e-5,n+r,e+5,n+r,e,n+r-8.66];return s.join(",")},Wpe=function(e,n,r){e>=r.x2-r.handleWidth*2&&(e=r.x2-r.handleWidth*2);var s=Math.round((e-r.x1)/n),o=s*n,a=r.x1+o;return a},Hpe=function(e,n,r){e<=r.x1+r.handleWidth*2&&(e=r.x1+r.handleWidth*2);var s=Math.round((e-r.x2)/n),o=s*n,a=r.x2+o;return a},p8=function(e,n,r){var s=Math.round((e-r.x1)/n),o=s*n,a=r.x1+o,l=a+r.x2-r.x1;return[a,l]},Il=function(e,n,r,s,o){var a=new Date((e-n)/s*o+r.getTime());return a=new Date(a.getTime()+(a.getTimezoneOffset()-r.getTimezoneOffset())*6e4),a},YM=function(e,n,r,s,o,a,l){var c;switch(r.type){case"milestone":c=Gpe(e,n,r,s,o,a);break;default:c=qpe(e,n,r,s,o,a,l);break}return c},qpe=function(e,n,r,s,o,a,l){var c=os({},r),u=!1;switch(n){case"progress":if(l?c.progress=zpe(e,r):c.progress=Upe(e,r),u=c.progress!==r.progress,u){var d=Ih(c.x1,c.x2,c.progress,l),f=d[0],h=d[1];c.progressWidth=f,c.progressX=h}break;case"start":{var p=Wpe(e,s,r);if(c.x1=p,u=c.x1!==r.x1,u){l?c.end=Il(p,r.x1,r.end,s,o):c.start=Il(p,r.x1,r.start,s,o);var v=Ih(c.x1,c.x2,c.progress,l),g=v[0],b=v[1];c.progressWidth=g,c.progressX=b}break}case"end":{var y=Hpe(e,s,r);if(c.x2=y,u=c.x2!==r.x2,u){l?c.start=Il(y,r.x2,r.start,s,o):c.end=Il(y,r.x2,r.end,s,o);var x=Ih(c.x1,c.x2,c.progress,l),E=x[0],T=x[1];c.progressWidth=E,c.progressX=T}break}case"move":{var S=p8(e-a,s,r),A=S[0],C=S[1];if(u=A!==r.x1,u){c.start=Il(A,r.x1,r.start,s,o),c.end=Il(C,r.x2,r.end,s,o),c.x1=A,c.x2=C;var P=Ih(c.x1,c.x2,c.progress,l),I=P[0],R=P[1];c.progressWidth=I,c.progressX=R}break}}return{isChanged:u,changedTask:c}},Gpe=function(e,n,r,s,o,a){var l=os({},r),c=!1;switch(n){case"move":{var u=p8(e-a,s,r),d=u[0],f=u[1];c=d!==r.x1,c&&(l.start=Il(d,r.x1,r.start,s,o),l.end=l.start,l.x1=d,l.x2=f);break}}return{isChanged:c,changedTask:l}};function Kpe(t){return t.key!==void 0}function Ype(t){var e=t.filter(function(s){return s.hideChildren&&s.type==="project"});if(e.length>0)for(var n=function(o){var a=e[o],l=m8(t,a);t=t.filter(function(c){return l.indexOf(c)===-1})},r=0;e.length>r;r++)n(r);return t}function m8(t,e){var n=[];e.type!=="project"?n=t.filter(function(s){return s.dependencies&&s.dependencies.indexOf(e.id)!==-1}):n=t.filter(function(s){return s.project&&s.project===e.id});var r=[];return n.forEach(function(s){r.push.apply(r,m8(t,s))}),n=n.concat(n,r),n}var Xpe=function(e,n){var r=e.displayOrder||Number.MAX_VALUE,s=n.displayOrder||Number.MAX_VALUE;return r>s?1:r<s?-1:0},Cg={barWrapper:"_KxSXS",barHandle:"_3w_5u",barBackground:"_31ERP"},g8=function(e){var n=e.x,r=e.y,s=e.width,o=e.height,a=e.isSelected,l=e.progressX,c=e.progressWidth,u=e.barCornerRadius,d=e.styles,f=e.onMouseDown,h=function(){return a?d.progressSelectedColor:d.progressColor},p=function(){return a?d.backgroundSelectedColor:d.backgroundColor};return L.createElement("g",{onMouseDown:f},L.createElement("rect",{x:n,width:s,y:r,height:o,ry:u,rx:u,fill:p(),className:Cg.barBackground}),L.createElement("rect",{x:l,width:c,y:r,height:o,ry:u,rx:u,fill:h()}))},XM=function(e){var n=e.x,r=e.y,s=e.width,o=e.height,a=e.barCornerRadius,l=e.onMouseDown;return L.createElement("rect",{x:n,y:r,width:s,height:o,className:Cg.barHandle,ry:a,rx:a,onMouseDown:l})},v8=function(e){var n=e.progressPoint,r=e.onMouseDown;return L.createElement("polygon",{className:Cg.barHandle,points:n,onMouseDown:r})},Qpe=function(e){var n=e.task,r=e.isProgressChangeable,s=e.isDateChangeable,o=e.rtl,a=e.onEventStart,l=e.isSelected,c=h8(+!o*n.progressWidth+n.progressX,n.y,n.height),u=n.height-2;return L.createElement("g",{className:Cg.barWrapper,tabIndex:0},L.createElement(g8,{x:n.x1,y:n.y,width:n.x2-n.x1,height:n.height,progressX:n.progressX,progressWidth:n.progressWidth,barCornerRadius:n.barCornerRadius,styles:n.styles,isSelected:l,onMouseDown:function(f){s&&a("move",n,f)}}),L.createElement("g",{className:"handleGroup"},s&&L.createElement("g",null,L.createElement(XM,{x:n.x1+1,y:n.y+1,width:n.handleWidth,height:u,barCornerRadius:n.barCornerRadius,onMouseDown:function(f){a("start",n,f)}}),L.createElement(XM,{x:n.x2-n.handleWidth-1,y:n.y+1,width:n.handleWidth,height:u,barCornerRadius:n.barCornerRadius,onMouseDown:function(f){a("end",n,f)}})),r&&L.createElement(v8,{progressPoint:c,onMouseDown:function(f){a("progress",n,f)}})))},Zpe=function(e){var n=e.task,r=e.isProgressChangeable,s=e.isDateChangeable,o=e.onEventStart,a=e.isSelected,l=h8(n.progressWidth+n.x1,n.y,n.height);return L.createElement("g",{className:Cg.barWrapper,tabIndex:0},L.createElement(g8,{x:n.x1,y:n.y,width:n.x2-n.x1,height:n.height,progressX:n.progressX,progressWidth:n.progressWidth,barCornerRadius:n.barCornerRadius,styles:n.styles,isSelected:a,onMouseDown:function(u){s&&o("move",n,u)}}),L.createElement("g",{className:"handleGroup"},r&&L.createElement(v8,{progressPoint:l,onMouseDown:function(u){o("progress",n,u)}})))},QM={milestoneWrapper:"_RRr13",milestoneBackground:"_2P2B1"},Jpe=function(e){var n=e.task,r=e.isDateChangeable,s=e.onEventStart,o=e.isSelected,a="rotate(45 "+(n.x1+n.height*.356)+` 
    `+(n.y+n.height*.85)+")",l=function(){return o?n.styles.backgroundSelectedColor:n.styles.backgroundColor};return L.createElement("g",{tabIndex:0,className:QM.milestoneWrapper},L.createElement("rect",{fill:l(),x:n.x1,width:n.height,y:n.y,height:n.height,rx:n.barCornerRadius,ry:n.barCornerRadius,transform:a,className:QM.milestoneBackground,onMouseDown:function(u){r&&s("move",n,u)}}))},ah={projectWrapper:"_1KJ6x",projectBackground:"_2RbVy",projectTop:"_2pZMF"},eme=function(e){var n=e.task,r=e.isSelected,s=r?n.styles.backgroundSelectedColor:n.styles.backgroundColor,o=r?n.styles.progressSelectedColor:n.styles.progressColor,a=n.x2-n.x1,l=[n.x1,n.y+n.height/2-1,n.x1,n.y+n.height,n.x1+15,n.y+n.height/2-1].join(","),c=[n.x2,n.y+n.height/2-1,n.x2,n.y+n.height,n.x2-15,n.y+n.height/2-1].join(",");return L.createElement("g",{tabIndex:0,className:ah.projectWrapper},L.createElement("rect",{fill:s,x:n.x1,width:a,y:n.y,height:n.height,rx:n.barCornerRadius,ry:n.barCornerRadius,className:ah.projectBackground}),L.createElement("rect",{x:n.progressX,width:n.progressWidth,y:n.y,height:n.height,ry:n.barCornerRadius,rx:n.barCornerRadius,fill:o}),L.createElement("rect",{fill:s,x:n.x1,width:a,y:n.y,height:n.height/2,rx:n.barCornerRadius,ry:n.barCornerRadius,className:ah.projectTop}),L.createElement("polygon",{className:ah.projectTop,points:l,fill:s}),L.createElement("polygon",{className:ah.projectTop,points:c,fill:s}))},ZM={barLabel:"_3zRJQ",barLabelOutside:"_3KcaM"},tme=function(e){var n=os({},e),r=n.task,s=n.arrowIndent,o=n.isDelete,a=n.taskHeight,l=n.isSelected,c=n.rtl,u=n.onEventStart,d=F.useRef(null),f=F.useState(L.createElement("div",null)),h=f[0],p=f[1],v=F.useState(!0),g=v[0],b=v[1];F.useEffect(function(){switch(r.typeInternal){case"milestone":p(L.createElement(Jpe,Object.assign({},e)));break;case"project":p(L.createElement(eme,Object.assign({},e)));break;case"smalltask":p(L.createElement(Zpe,Object.assign({},e)));break;default:p(L.createElement(Qpe,Object.assign({},e)));break}},[r,l]),F.useEffect(function(){d.current&&b(d.current.getBBox().width<r.x2-r.x1)},[d,r]);var y=function(){var E=r.x2-r.x1,T=r.barChildren.length>0;return g?r.x1+E*.5:c&&d.current?r.x1-d.current.getBBox().width-s*+T-s*.2:r.x1+E+s*+T+s*.2};return L.createElement("g",{onKeyDown:function(E){switch(E.key){case"Delete":{o&&u("delete",r,E);break}}E.stopPropagation()},onMouseEnter:function(E){u("mouseenter",r,E)},onMouseLeave:function(E){u("mouseleave",r,E)},onDoubleClick:function(E){u("dblclick",r,E)},onClick:function(E){u("click",r,E)},onFocus:function(){u("select",r)}},h,L.createElement("text",{x:y(),y:r.y+a*.5,className:g?ZM.barLabel:ZM.barLabelOutside,ref:d},r.name))},nme=function(e){var n,r=e.tasks,s=e.dates,o=e.ganttEvent,a=e.selectedTask,l=e.rowHeight,c=e.columnWidth,u=e.timeStep,d=e.svg,f=e.taskHeight,h=e.arrowColor,p=e.arrowIndent,v=e.fontFamily,g=e.fontSize,b=e.rtl,y=e.setGanttEvent,x=e.setFailedTask,E=e.setSelectedTask,T=e.onDateChange,S=e.onProgressChange,A=e.onDoubleClick,C=e.onClick,P=e.onDelete,I=d==null||(n=d.current)===null||n===void 0?void 0:n.createSVGPoint(),R=F.useState(0),j=R[0],O=R[1],D=F.useState(0),N=D[0],U=D[1],K=F.useState(!1),q=K[0],Y=K[1];F.useEffect(function(){var J=s[1].getTime()-s[0].getTime()-s[1].getTimezoneOffset()*60*1e3+s[0].getTimezoneOffset()*60*1e3,H=u*c/J;O(H)},[c,s,u]),F.useEffect(function(){var J=function(ee){try{var se;if(!o.changedTask||!I||!(d!=null&&d.current))return Promise.resolve();ee.preventDefault(),I.x=ee.clientX;var oe=I.matrixTransform(d==null||(se=d.current.getScreenCTM())===null||se===void 0?void 0:se.inverse()),xe=YM(oe.x,o.action,o.changedTask,j,u,N,b),Se=xe.isChanged,ye=xe.changedTask;return Se&&y({action:o.action,changedTask:ye}),Promise.resolve()}catch(ie){return Promise.reject(ie)}},H=function V(ee){try{var se,oe=function(){ae||x(Se)},xe=o.action,Se=o.originalSelectedTask,ye=o.changedTask;if(!ye||!I||!(d!=null&&d.current)||!Se)return Promise.resolve();ee.preventDefault(),I.x=ee.clientX;var ie=I.matrixTransform(d==null||(se=d.current.getScreenCTM())===null||se===void 0?void 0:se.inverse()),we=YM(ie.x,xe,ye,j,u,N,b),pe=we.changedTask,X=Se.start!==pe.start||Se.end!==pe.end||Se.progress!==pe.progress;d.current.removeEventListener("mousemove",J),d.current.removeEventListener("mouseup",V),y({action:""}),Y(!1);var ae=!0,M=function(){if((xe==="move"||xe==="end"||xe==="start")&&T&&X){var te=P1(function(){return Promise.resolve(T(pe,pe.barChildren)).then(function(z){z!==void 0&&(ae=z)})},function(){ae=!1});if(te&&te.then)return te.then(function(){})}else{var Z=function(){if(S&&X){var z=P1(function(){return Promise.resolve(S(pe,pe.barChildren)).then(function(W){W!==void 0&&(ae=W)})},function(){ae=!1});if(z&&z.then)return z.then(function(){})}}();if(Z&&Z.then)return Z.then(function(){})}}();return Promise.resolve(M&&M.then?M.then(oe):oe(M))}catch(te){return Promise.reject(te)}};!q&&(o.action==="move"||o.action==="end"||o.action==="start"||o.action==="progress")&&d!==null&&d!==void 0&&d.current&&(d.current.addEventListener("mousemove",J),d.current.addEventListener("mouseup",H),Y(!0))},[o,j,N,S,u,T,d,q,I,b,x,y]);var G=function(H,V,ee){try{return Promise.resolve(function(){if(!ee)H==="select"&&E(V.id);else return function(){if(Kpe(ee)){var se=function(){if(H==="delete"){var Se=function(){if(P){var ye=P1(function(){return Promise.resolve(P(V)).then(function(ie){ie!==void 0&&ie&&y({action:H,changedTask:V})})},function(ie){console.error("Error on Delete. "+ie)});if(ye&&ye.then)return ye.then(function(){})}}();if(Se&&Se.then)return Se.then(function(){})}}();if(se&&se.then)return se.then(function(){})}else if(H==="mouseenter")o.action||y({action:H,changedTask:V,originalSelectedTask:V});else if(H==="mouseleave")o.action==="mouseenter"&&y({action:""});else if(H==="dblclick")A&&A(V);else if(H==="click")C&&C(V);else if(H==="move"){var oe;if(!(d!=null&&d.current)||!I)return;I.x=ee.clientX;var xe=I.matrixTransform((oe=d.current.getScreenCTM())===null||oe===void 0?void 0:oe.inverse());U(xe.x-V.x1),y({action:H,changedTask:V,originalSelectedTask:V})}else y({action:H,changedTask:V,originalSelectedTask:V})}()}())}catch(se){return Promise.reject(se)}};return L.createElement("g",{className:"content"},L.createElement("g",{className:"arrows",fill:h,stroke:h},r.map(function(J){return J.barChildren.map(function(H){return L.createElement(jpe,{key:"Arrow from "+J.id+" to "+r[H.index].id,taskFrom:J,taskTo:r[H.index],rowHeight:l,taskHeight:f,arrowIndent:p,rtl:b})})})),L.createElement("g",{className:"bar",fontFamily:v,fontSize:g},r.map(function(J){return L.createElement(tme,{task:J,arrowIndent:p,taskHeight:f,isProgressChangeable:!!S&&!J.isDisabled,isDateChangeable:!!T&&!J.isDisabled,isDelete:!J.isDisabled,onEventStart:G,key:J.id,isSelected:!!a&&J.id===a.id,rtl:b})})))},Q0={ganttVerticalContainer:"_CZjuD",horizontalContainer:"_2B2zv",wrapper:"_3eULf"},rme=function(e){var n=e.gridProps,r=e.calendarProps,s=e.barProps,o=e.ganttHeight,a=e.scrollY,l=e.scrollX,c=F.useRef(null),u=F.useRef(null),d=F.useRef(null),f=os({},s,{svg:c});return F.useEffect(function(){u.current&&(u.current.scrollTop=a)},[a]),F.useEffect(function(){d.current&&(d.current.scrollLeft=l)},[l]),L.createElement("div",{className:Q0.ganttVerticalContainer,ref:d,dir:"ltr"},L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:n.svgWidth,height:r.headerHeight,fontFamily:s.fontFamily},L.createElement(Mpe,Object.assign({},r))),L.createElement("div",{ref:u,className:Q0.horizontalContainer,style:o?{height:o,width:n.svgWidth}:{width:n.svgWidth}},L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:n.svgWidth,height:s.rowHeight*s.tasks.length,fontFamily:s.fontFamily,ref:c},L.createElement(Rpe,Object.assign({},n)),L.createElement(nme,Object.assign({},f)))))},JM={scrollWrapper:"_2k9Ys",scroll:"_19jgW"},ime=function(e){var n=e.scroll,r=e.svgWidth,s=e.taskListWidth,o=e.rtl,a=e.onScroll,l=F.useRef(null);return F.useEffect(function(){l.current&&(l.current.scrollLeft=n)},[n]),L.createElement("div",{dir:"ltr",style:{margin:o?"0px "+s+"px 0px 0px":"0px 0px 0px "+s+"px"},className:JM.scrollWrapper,onScroll:a,ref:l},L.createElement("div",{style:{width:r},className:JM.scroll}))},sme=function(e){var n=e.tasks,r=e.headerHeight,s=r===void 0?50:r,o=e.columnWidth,a=o===void 0?60:o,l=e.listCellWidth,c=l===void 0?"155px":l,u=e.rowHeight,d=u===void 0?50:u,f=e.ganttHeight,h=f===void 0?0:f,p=e.viewMode,v=p===void 0?kt.Day:p,g=e.preStepsCount,b=g===void 0?1:g,y=e.locale,x=y===void 0?"en-GB":y,E=e.barFill,T=E===void 0?60:E,S=e.barCornerRadius,A=S===void 0?3:S,C=e.barProgressColor,P=C===void 0?"#a3a3ff":C,I=e.barProgressSelectedColor,R=I===void 0?"#8282f5":I,j=e.barBackgroundColor,O=j===void 0?"#b8c2cc":j,D=e.barBackgroundSelectedColor,N=D===void 0?"#aeb8c2":D,U=e.projectProgressColor,K=U===void 0?"#7db59a":U,q=e.projectProgressSelectedColor,Y=q===void 0?"#59a985":q,G=e.projectBackgroundColor,J=G===void 0?"#fac465":G,H=e.projectBackgroundSelectedColor,V=H===void 0?"#f7bb53":H,ee=e.milestoneBackgroundColor,se=ee===void 0?"#f1c453":ee,oe=e.milestoneBackgroundSelectedColor,xe=oe===void 0?"#f29e4c":oe,Se=e.rtl,ye=Se===void 0?!1:Se,ie=e.handleWidth,we=ie===void 0?8:ie,pe=e.timeStep,X=pe===void 0?3e5:pe,ae=e.arrowColor,M=ae===void 0?"grey":ae,te=e.fontFamily,Z=te===void 0?"Arial, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue":te,z=e.fontSize,W=z===void 0?"14px":z,Q=e.arrowIndent,ue=Q===void 0?20:Q,de=e.todayColor,re=de===void 0?"rgba(252, 248, 227, 0.5)":de,he=e.viewDate,Te=e.TooltipContent,ve=Te===void 0?Ipe:Te,Oe=e.TaskListHeader,Le=Oe===void 0?Spe:Oe,Ne=e.TaskListTable,_n=Ne===void 0?Ppe:Ne,fs=e.onDateChange,yr=e.onProgressChange,Gs=e.onDoubleClick,ht=e.onClick,Ks=e.onDelete,hs=e.onSelect,Dn=e.onExpanderClick,ui=F.useRef(null),Yo=F.useRef(null),Xo=F.useState(function(){var Je=zM(n,v,b),rt=Je[0],dt=Je[1];return{viewMode:v,dates:WM(rt,dt,v)}}),Gr=Xo[0],dl=Xo[1],Ar=F.useState(void 0),Ir=Ar[0],Kc=Ar[1],ps=F.useState(0),fl=ps[0],hl=ps[1],Of=F.useState(0),pl=Of[0],Wg=Of[1],Rn=F.useState(h),Hg=Rn[0],Qo=Rn[1],Zo=F.useState([]),Kr=Zo[0],Yc=Zo[1],Ys=F.useState({action:""}),Jo=Ys[0],qg=Ys[1],ea=F.useMemo(function(){return d*T/100},[d,T]),kf=F.useState(),ta=kf[0],Xc=kf[1],Vi=F.useState(null),ml=Vi[0],Nf=Vi[1],Yr=Gr.dates.length*a,ms=Kr.length*d,Df=F.useState(0),di=Df[0],Rf=Df[1],gl=F.useState(-1),fi=gl[0],Xs=gl[1],na=F.useState(!1),gs=na[0],vs=na[1];F.useEffect(function(){var Je;Dn?Je=Ype(n):Je=n,Je=Je.sort(Xpe);var rt=zM(Je,v,b),dt=rt[0],bt=rt[1],ft=WM(dt,bt,v);ye&&(ft=ft.reverse(),fi===-1&&Xs(ft.length*a)),dl({dates:ft,viewMode:v}),Yc(Fpe(Je,ft,a,d,ea,A,we,ye,P,R,O,N,K,Y,J,V,se,xe))},[n,v,b,d,A,a,ea,we,P,R,O,N,K,Y,J,V,se,xe,ye,fi,Dn]),F.useEffect(function(){if(v===Gr.viewMode&&(he&&!Ir||he&&(Ir==null?void 0:Ir.valueOf())!==he.valueOf())){var Je=Gr.dates,rt=Je.findIndex(function(dt,bt){return he.valueOf()>=dt.valueOf()&&bt+1!==Je.length&&he.valueOf()<Je[bt+1].valueOf()});if(rt===-1)return;Kc(he),Xs(a*rt)}},[he,a,Gr.dates,Gr.viewMode,v,Ir,Kc]),F.useEffect(function(){var Je=Jo.changedTask,rt=Jo.action;if(Je){if(rt==="delete")qg({action:""}),Yc(Kr.filter(function(ft){return ft.id!==Je.id}));else if(rt==="move"||rt==="end"||rt==="start"||rt==="progress"){var dt=Kr.find(function(ft){return ft.id===Je.id});if(dt&&(dt.start.getTime()!==Je.start.getTime()||dt.end.getTime()!==Je.end.getTime()||dt.progress!==Je.progress)){var bt=Kr.map(function(ft){return ft.id===Je.id?Je:ft});Yc(bt)}}}},[Jo,Kr]),F.useEffect(function(){ml&&(Yc(Kr.map(function(Je){return Je.id!==ml.id?Je:ml})),Nf(null))},[ml,Kr]),F.useEffect(function(){c||hl(0),Yo.current&&hl(Yo.current.offsetWidth)},[Yo,c]),F.useEffect(function(){ui.current&&Wg(ui.current.offsetWidth-fl)},[ui,fl]),F.useEffect(function(){Qo(h?h+s:n.length*d+s)},[h,n,s,d]),F.useEffect(function(){var Je,rt=function(bt){if(bt.shiftKey||bt.deltaX){var ft=bt.deltaX?bt.deltaX:bt.deltaY,br=fi+ft;br<0?br=0:br>Yr&&(br=Yr),Xs(br),bt.preventDefault()}else if(h){var Bi=di+bt.deltaY;Bi<0?Bi=0:Bi>ms-h&&(Bi=ms-h),Bi!==di&&(Rf(Bi),bt.preventDefault())}vs(!0)};return(Je=ui.current)===null||Je===void 0||Je.addEventListener("wheel",rt,{passive:!1}),function(){var dt;(dt=ui.current)===null||dt===void 0||dt.removeEventListener("wheel",rt)}},[ui,di,fi,h,Yr,ye,ms]);var fx=function(rt){di!==rt.currentTarget.scrollTop&&!gs?(Rf(rt.currentTarget.scrollTop),vs(!0)):vs(!1)},Gg=function(rt){fi!==rt.currentTarget.scrollLeft&&!gs?(Xs(rt.currentTarget.scrollLeft),vs(!0)):vs(!1)},Kg=function(rt){rt.preventDefault();var dt=di,bt=fi,ft=!0;switch(rt.key){case"Down":case"ArrowDown":dt+=d,ft=!1;break;case"Up":case"ArrowUp":dt-=d,ft=!1;break;case"Left":case"ArrowLeft":bt-=a;break;case"Right":case"ArrowRight":bt+=a;break}ft?(bt<0?bt=0:bt>Yr&&(bt=Yr),Xs(bt)):(dt<0?dt=0:dt>ms-h&&(dt=ms-h),Rf(dt)),vs(!0)},Mf=function(rt){var dt=Kr.find(function(ft){return ft.id===rt}),bt=Kr.find(function(ft){return!!ta&&ft.id===ta.id});hs&&(bt&&hs(bt,!1),dt&&hs(dt,!0)),Xc(dt)},jf=function(rt){Dn&&rt.hideChildren!==void 0&&Dn(os({},rt,{hideChildren:!rt.hideChildren}))},Lf={columnWidth:a,svgWidth:Yr,tasks:n,rowHeight:d,dates:Gr.dates,todayColor:re,rtl:ye},Yg={dateSetup:Gr,locale:x,viewMode:v,headerHeight:s,columnWidth:a,fontFamily:Z,fontSize:W,rtl:ye},Xg={tasks:Kr,dates:Gr.dates,ganttEvent:Jo,selectedTask:ta,rowHeight:d,taskHeight:ea,columnWidth:a,arrowColor:M,timeStep:X,fontFamily:Z,fontSize:W,arrowIndent:ue,svgWidth:Yr,rtl:ye,setGanttEvent:qg,setFailedTask:Nf,setSelectedTask:Mf,onDateChange:fs,onProgressChange:yr,onDoubleClick:Gs,onClick:ht,onDelete:Ks},hx={rowHeight:d,rowWidth:c,fontFamily:Z,fontSize:W,tasks:Kr,locale:x,headerHeight:s,scrollY:di,ganttHeight:h,horizontalContainerClass:Q0.horizontalContainer,selectedTask:ta,taskListRef:Yo,setSelectedTask:Mf,onExpanderClick:jf,TaskListHeader:Le,TaskListTable:_n};return L.createElement("div",null,L.createElement("div",{className:Q0.wrapper,onKeyDown:Kg,tabIndex:0,ref:ui},c&&L.createElement(Npe,Object.assign({},hx)),L.createElement(rme,{gridProps:Lf,calendarProps:Yg,barProps:Xg,ganttHeight:h,scrollY:di,scrollX:fi}),Jo.changedTask&&L.createElement(Ape,{arrowIndent:ue,rowHeight:d,svgContainerHeight:Hg,svgContainerWidth:pl,fontFamily:Z,fontSize:W,scrollX:fi,scrollY:di,task:Jo.changedTask,headerHeight:s,taskListWidth:fl,TooltipContent:ve,rtl:ye,svgWidth:Yr}),L.createElement(kpe,{ganttFullHeight:ms,ganttHeight:h,headerHeight:s,scroll:di,onScroll:fx,rtl:ye})),L.createElement(ime,{svgWidth:Yr,taskListWidth:fl,scroll:fi,rtl:ye,onScroll:Gg}))};function Mo(t){"@babel/helpers - typeof";return Mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mo(t)}function ome(t,e){if(Mo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function y8(t){var e=ome(t,"string");return Mo(e)=="symbol"?e:e+""}function Rl(t,e,n){return(e=y8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ej(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Et(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ej(Object(n),!0).forEach(function(r){Rl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ej(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zw(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ws(t,e){if(t==null)return{};var n,r,s=Zw(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function On(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y8(r.key),r)}}function kn(t,e,n){return e&&tj(t.prototype,e),n&&tj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Z0(t){return Z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Z0(t)}function b8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b8=function(){return!!t})()}function ame(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lme(t,e){if(e&&(Mo(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ame(t)}function mr(t,e,n){return e=Z0(e),lme(t,b8()?Reflect.construct(e,n||[],Z0(t).constructor):e.apply(t,n))}function J0(t,e){return J0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},J0(t,e)}function gr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J0(t,e)}function w8(t){if(Array.isArray(t))return t}function cme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function vS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function rO(t,e){if(t){if(typeof t=="string")return vS(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vS(t,e):void 0}}function _8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _c(t,e){return w8(t)||cme(t,e)||rO(t,e)||_8()}function x8(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=x8(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function sn(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=x8(t))&&(r&&(r+=" "),r+=e);return r}function Zt(){return Zt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zt.apply(null,arguments)}var ume=function(t,e,n,r,s,o,a,l){if(!t){var c;if(e===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,s,o,a,l],d=0;c=new Error(e.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},dme=ume;const nm=Ke(dme);var fme=function(){};function hme(t,e){var n={};return Object.keys(t).forEach(function(r){n[Py(r)]=fme}),n}function nj(t,e){return t[e]!==void 0}function Py(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function pme(t){return!!t&&(typeof t!="function"||t.prototype&&t.prototype.isReactComponent)}function mme(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,J0(t,e)}function E8(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function T8(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function S8(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}E8.__suppressDeprecationWarning=!0;T8.__suppressDeprecationWarning=!0;S8.__suppressDeprecationWarning=!0;function gme(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,s=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?s="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(s="UNSAFE_componentWillUpdate"),n!==null||r!==null||s!==null){var o=t.displayName||t.name,a=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+a+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(s!==null?`
  `+s:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=E8,e.componentWillReceiveProps=T8),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=S8;var l=e.componentDidUpdate;e.componentDidUpdate=function(u,d,f){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;l.call(this,u,d,h)}}return t}var vme="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function C8(t,e,n){n===void 0&&(n=[]);var r=t.displayName||t.name||"Component",s=pme(t),o=Object.keys(e),a=o.map(Py);s||!n.length||nm(!1);var l=function(u){mme(d,u);function d(){for(var h,p=arguments.length,v=new Array(p),g=0;g<p;g++)v[g]=arguments[g];h=u.call.apply(u,[this].concat(v))||this,h.handlers=Object.create(null),o.forEach(function(y){var x=e[y],E=function(S){if(h.props[x]){var A;h._notifying=!0;for(var C=arguments.length,P=new Array(C>1?C-1:0),I=1;I<C;I++)P[I-1]=arguments[I];(A=h.props)[x].apply(A,[S].concat(P)),h._notifying=!1}h.unmounted||h.setState(function(R){var j,O=R.values;return{values:Zt(Object.create(null),O,(j={},j[y]=S,j))}})};h.handlers[x]=E}),n.length&&(h.attachRef=function(y){h.inner=y});var b=Object.create(null);return o.forEach(function(y){b[y]=h.props[Py(y)]}),h.state={values:b,prevProps:{}},h}var f=d.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},d.getDerivedStateFromProps=function(p,v){var g=v.values,b=v.prevProps,y={values:Zt(Object.create(null),g),prevProps:{}};return o.forEach(function(x){y.prevProps[x]=p[x],!nj(p,x)&&nj(b,x)&&(y.values[x]=p[Py(x)])}),y},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var p=this,v=this.props,g=v.innerRef,b=Zw(v,["innerRef"]);a.forEach(function(x){delete b[x]});var y={};return o.forEach(function(x){var E=p.props[x];y[x]=E!==void 0?E:p.state.values[x]}),L.createElement(t,Zt({},b,y,this.handlers,{ref:g||this.attachRef}))},d}(L.Component);gme(l),l.displayName="Uncontrolled("+r+")",l.propTypes=Zt({innerRef:function(){}},hme(e)),n.forEach(function(u){l.prototype[u]=function(){var f;return(f=this.inner)[u].apply(f,arguments)}});var c=l;return L.forwardRef&&(c=L.forwardRef(function(u,d){return L.createElement(l,Zt({},u,{innerRef:d,__source:{fileName:vme,lineNumber:128},__self:this}))}),c.propTypes=l.propTypes),c.ControlledComponent=t,c.deferControlTo=function(u,d,f){return d===void 0&&(d={}),C8(u,Zt({},e,d),f)},c}var P8={exports:{}},yme="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",bme=yme,wme=bme;function A8(){}function I8(){}I8.resetWarningCache=A8;var _me=function(){function t(r,s,o,a,l,c){if(c!==wme){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:I8,resetWarningCache:A8};return n.PropTypes=n,n};P8.exports=_me();var xme=P8.exports;const fe=Ke(xme);var eb="milliseconds",rm="seconds",im="minutes",sm="hours",xc="day",_d="week",om="month",Ec="year",Tc="decade",Sc="century",O8={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},Eme={month:1,year:12,decade:10*12,century:100*12};function Tme(t){return[31,Sme(t),31,30,31,30,31,31,30,31,30,31]}function Sme(t){return t%4===0&&t%100!==0||t%400===0?29:28}function as(t,e,n){switch(t=new Date(t),n){case eb:case rm:case im:case sm:case xc:case _d:return Cme(t,e*O8[n]);case om:case Ec:case Tc:case Sc:return Pme(t,e*Eme[n])}throw new TypeError('Invalid units: "'+n+'"')}function Cme(t,e){var n=new Date(+t+e);return Ame(t,n)}function Pme(t,e){var n=t.getFullYear(),r=t.getMonth(),s=t.getDate(),o=n*12+r+e,a=Math.trunc(o/12),l=o%12,c=Math.min(s,Tme(a)[l]),u=new Date(t);return u.setFullYear(a),u.setDate(1),u.setMonth(l),u.setDate(c),u}function Ame(t,e){var n=t.getTimezoneOffset(),r=e.getTimezoneOffset(),s=r-n;return new Date(+e+s*O8.minutes)}function am(t,e,n){return as(t,-e,n)}function er(t,e,n){switch(t=new Date(t),e){case Sc:case Tc:case Ec:t=nb(t,0);case om:t=M8(t,1);case _d:case xc:t=um(t,0);case sm:t=xd(t,0);case im:t=cm(t,0);case rm:t=lm(t,0)}return e===Tc&&(t=am(t,Cc(t)%10,"year")),e===Sc&&(t=am(t,Cc(t)%100,"year")),e===_d&&(t=j8(t,0,n)),t}function tb(t,e,n){switch(t=new Date(t),t=er(t,e,n),e){case Sc:case Tc:case Ec:case om:case _d:t=as(t,1,e),t=am(t,1,xc),t.setHours(23,59,59,999);break;case xc:t.setHours(23,59,59,999);break;case sm:case im:case rm:t=as(t,1,e),t=am(t,1,eb)}return t}var df=hf(function(t,e){return t===e}),iO=hf(function(t,e){return t!==e}),Jw=hf(function(t,e){return t>e}),Pg=hf(function(t,e){return t>=e}),sO=hf(function(t,e){return t<e}),ff=hf(function(t,e){return t<=e});function k8(){return new Date(Math.min.apply(Math,arguments))}function N8(){return new Date(Math.max.apply(Math,arguments))}function D8(t,e,n,r){return r=r||"day",(!e||Pg(t,e,r))&&(!n||ff(t,n,r))}var lm=ol("Milliseconds"),cm=ol("Seconds"),xd=ol("Minutes"),um=ol("Hours"),R8=ol("Day"),M8=ol("Date"),nb=ol("Month"),Cc=ol("FullYear");function Ime(t,e){return e===void 0?Cc(er(t,Tc)):as(t,e+10,Ec)}function Ome(t,e){return e===void 0?Cc(er(t,Sc)):as(t,e+100,Ec)}function j8(t,e,n){var r=(R8(t)+7-(n||0))%7;return e===void 0?r:as(t,e-r,xc)}function kme(t,e,n,r){var s,o,a;switch(n){case eb:case rm:case im:case sm:case xc:case _d:s=e.getTime()-t.getTime();break;case om:case Ec:case Tc:case Sc:s=(Cc(e)-Cc(t))*12+nb(e)-nb(t);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case eb:o=1;break;case rm:o=1e3;break;case im:o=1e3*60;break;case sm:o=1e3*60*60;break;case xc:o=1e3*60*60*24;break;case _d:o=1e3*60*60*24*7;break;case om:o=1;break;case Ec:o=12;break;case Tc:o=120;break;case Sc:o=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return a=s/o,r?a:Math.round(a)}function ol(t){var e=function(n){switch(n){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(t);return function(n,r){if(r===void 0)return n["get"+t]();var s=new Date(n);return s["set"+t](r),e&&s["get"+t]()!=r&&(t==="Hours"||r>=e&&s.getHours()-n.getHours()<Math.floor(r/e))&&s["set"+t](r+e),s}}function hf(t){return function(e,n,r){return t(+er(e,r),+er(n,r))}}const rj=Object.freeze(Object.defineProperty({__proto__:null,add:as,century:Ome,date:M8,day:R8,decade:Ime,diff:kme,endOf:tb,eq:df,gt:Jw,gte:Pg,hours:um,inRange:D8,lt:sO,lte:ff,max:N8,milliseconds:lm,min:k8,minutes:xd,month:nb,neq:iO,seconds:cm,startOf:er,subtract:am,weekday:j8,year:Cc},Symbol.toStringTag,{value:"Module"}));function Nme(t){if(Array.isArray(t))return vS(t)}function L8(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ay(t){return Nme(t)||L8(t)||rO(t)||Dme()}function Rme(t,e,n){var r=-1,s=t.length;e<0&&(e=-e>s?0:s+e),n=n>s?s:n,n<0&&(n+=s),s=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(s);++r<s;)o[r]=t[r+e];return o}var oO=Rme;function Mme(t,e){return t===e||t!==t&&e!==e}var Ag=Mme,jme=typeof cn=="object"&&cn&&cn.Object===Object&&cn,$8=jme,Lme=$8,$me=typeof self=="object"&&self&&self.Object===Object&&self,Fme=Lme||$me||Function("return this")(),cs=Fme,Vme=cs,Bme=Vme.Symbol,pf=Bme,ij=pf,F8=Object.prototype,Ume=F8.hasOwnProperty,zme=F8.toString,lh=ij?ij.toStringTag:void 0;function Wme(t){var e=Ume.call(t,lh),n=t[lh];try{t[lh]=void 0;var r=!0}catch{}var s=zme.call(t);return r&&(e?t[lh]=n:delete t[lh]),s}var Hme=Wme,qme=Object.prototype,Gme=qme.toString;function Kme(t){return Gme.call(t)}var Yme=Kme,sj=pf,Xme=Hme,Qme=Yme,Zme="[object Null]",Jme="[object Undefined]",oj=sj?sj.toStringTag:void 0;function ege(t){return t==null?t===void 0?Jme:Zme:oj&&oj in Object(t)?Xme(t):Qme(t)}var qo=ege;function tge(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Li=tge;const mf=Ke(Li);var nge=qo,rge=Li,ige="[object AsyncFunction]",sge="[object Function]",oge="[object GeneratorFunction]",age="[object Proxy]";function lge(t){if(!rge(t))return!1;var e=nge(t);return e==sge||e==oge||e==ige||e==age}var e_=lge;const He=Ke(e_);var cge=9007199254740991;function uge(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=cge}var aO=uge,dge=e_,fge=aO;function hge(t){return t!=null&&fge(t.length)&&!dge(t)}var Ig=hge,pge=9007199254740991,mge=/^(?:0|[1-9]\d*)$/;function gge(t,e){var n=typeof t;return e=e??pge,!!e&&(n=="number"||n!="symbol"&&mge.test(t))&&t>-1&&t%1==0&&t<e}var lO=gge,vge=Ag,yge=Ig,bge=lO,wge=Li;function _ge(t,e,n){if(!wge(n))return!1;var r=typeof e;return(r=="number"?yge(n)&&bge(e,n.length):r=="string"&&e in n)?vge(n[e],t):!1}var gf=_ge,xge=/\s/;function Ege(t){for(var e=t.length;e--&&xge.test(t.charAt(e)););return e}var Tge=Ege,Sge=Tge,Cge=/^\s+/;function Pge(t){return t&&t.slice(0,Sge(t)+1).replace(Cge,"")}var Age=Pge;function Ige(t){return t!=null&&typeof t=="object"}var us=Ige,Oge=qo,kge=us,Nge="[object Symbol]";function Dge(t){return typeof t=="symbol"||kge(t)&&Oge(t)==Nge}var vf=Dge,Rge=Age,aj=Li,Mge=vf,lj=0/0,jge=/^[-+]0x[0-9a-f]+$/i,Lge=/^0b[01]+$/i,$ge=/^0o[0-7]+$/i,Fge=parseInt;function Vge(t){if(typeof t=="number")return t;if(Mge(t))return lj;if(aj(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=aj(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Rge(t);var n=Lge.test(t);return n||$ge.test(t)?Fge(t.slice(2),n?2:8):jge.test(t)?lj:+t}var V8=Vge,Bge=V8,cj=1/0,Uge=17976931348623157e292;function zge(t){if(!t)return t===0?t:0;if(t=Bge(t),t===cj||t===-cj){var e=t<0?-1:1;return e*Uge}return t===t?t:0}var B8=zge,Wge=B8;function Hge(t){var e=Wge(t),n=e%1;return e===e?n?e-n:e:0}var U8=Hge,qge=oO,Gge=gf,Kge=U8,Yge=Math.ceil,Xge=Math.max;function Qge(t,e,n){(n?Gge(t,e,n):e===void 0)?e=1:e=Xge(Kge(e),0);var r=t==null?0:t.length;if(!r||e<1)return[];for(var s=0,o=0,a=Array(Yge(r/e));s<r;)a[o++]=qge(t,s,s+=e);return a}var Zge=Qge;const Jge=Ke(Zge);function Og(t){return t&&t.ownerDocument||document}function eve(t){var e=Og(t);return e&&e.defaultView||window}function tve(t,e){return eve(t).getComputedStyle(t,e)}var nve=/([A-Z])/g;function rve(t){return t.replace(nve,"-$1").toLowerCase()}var ive=/^ms-/;function Lv(t){return rve(t).replace(ive,"-ms-")}var sve=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function ove(t){return!!(t&&sve.test(t))}function uu(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(Lv(e))||tve(t).getPropertyValue(Lv(e));Object.keys(e).forEach(function(s){var o=e[s];!o&&o!==0?t.style.removeProperty(Lv(s)):ove(s)?r+=s+"("+o+") ":n+=Lv(s)+": "+o+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}function dm(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function ave(t){return"nodeType"in t&&t.nodeType===document.DOCUMENT_NODE}function cO(t){return"window"in t&&t.window===t?t:ave(t)&&t.defaultView||!1}function z8(t){var e=t==="pageXOffset"?"scrollLeft":"scrollTop";function n(r,s){var o=cO(r);if(s===void 0)return o?o[t]:r[e];o?o.scrollTo(o[t],s):r[e]=s}return n}const W8=z8("pageXOffset"),H8=z8("pageYOffset");function Xl(t){var e=Og(t),n={top:0,left:0,height:0,width:0},r=e&&e.documentElement;return!r||!dm(r,t)||(t.getBoundingClientRect!==void 0&&(n=t.getBoundingClientRect()),n={top:n.top+H8(r)-(r.clientTop||0),left:n.left+W8(r)-(r.clientLeft||0),width:n.width,height:n.height}),n}var lve=function(e){return!!e&&"offsetParent"in e};function cve(t){for(var e=Og(t),n=t&&t.offsetParent;lve(n)&&n.nodeName!=="HTML"&&uu(n,"position")==="static";)n=n.offsetParent;return n||e.documentElement}var uve=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function q8(t,e){var n={top:0,left:0},r;if(uu(t,"position")==="fixed")r=t.getBoundingClientRect();else{var s=e||cve(t);r=Xl(t),uve(s)!=="html"&&(n=Xl(s));var o=String(uu(s,"borderTopWidth")||0);n.top+=parseInt(o,10)-H8(s)||0;var a=String(uu(s,"borderLeftWidth")||0);n.left+=parseInt(a,10)-W8(s)||0}var l=String(uu(t,"marginTop")||0),c=String(uu(t,"marginLeft")||0);return Zt({},r,{top:r.top-n.top-(parseInt(l,10)||0),left:r.left-n.left-(parseInt(c,10)||0)})}const uO=!!(typeof window<"u"&&window.document&&window.document.createElement);var uj=new Date().getTime();function dve(t){var e=new Date().getTime(),n=Math.max(0,16-(e-uj)),r=setTimeout(t,n);return uj=e,r}var fve=["","webkit","moz","o","ms"],yS="clearTimeout",bS=dve,dj=function(e,n){return e+(e?n[0].toUpperCase()+n.substr(1):n)+"AnimationFrame"};uO&&fve.some(function(t){var e=dj(t,"request");return e in window&&(yS=dj(t,"cancel"),bS=function(r){return window[e](r)}),!!bS});var fj=function(e){typeof window[yS]=="function"&&window[yS](e)},G8=bS,A1;function hve(t,e){if(!A1){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;A1=function(o,a){return r.call(o,a)}}return A1(t,e)}var pve=Function.prototype.bind.call(Function.prototype.call,[].slice);function mve(t,e){return pve(t.querySelectorAll(e))}var wS=!1,_S=!1;try{var I1={get passive(){return wS=!0},get once(){return _S=wS=!0}};uO&&(window.addEventListener("test",I1,I1),window.removeEventListener("test",I1,!0))}catch{}function gve(t,e,n,r){if(r&&typeof r!="boolean"&&!_S){var s=r.once,o=r.capture,a=n;!_S&&s&&(a=n.__once||function l(c){this.removeEventListener(e,l,o),n.call(this,c)},n.__once=a),t.addEventListener(e,a,wS?r:o)}t.addEventListener(e,n,r)}function vve(t){const e=F.useRef(t);return F.useEffect(()=>{e.current=t},[t]),e}function hj(t){const e=vve(t);return F.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function pj(){return F.useState(null)}function yve(){const t=F.useRef(!0),e=F.useRef(()=>t.current);return F.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function bve(t){const e=yve();return[t[0],F.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var Ur="top",Ri="bottom",Mi="right",zr="left",dO="auto",kg=[Ur,Ri,Mi,zr],Ed="start",fm="end",wve="clippingParents",K8="viewport",ch="popper",_ve="reference",mj=kg.reduce(function(t,e){return t.concat([e+"-"+Ed,e+"-"+fm])},[]),fO=[].concat(kg,[dO]).reduce(function(t,e){return t.concat([e,e+"-"+Ed,e+"-"+fm])},[]),xve="beforeRead",Eve="read",Tve="afterRead",Sve="beforeMain",Cve="main",Pve="afterMain",Ave="beforeWrite",Ive="write",Ove="afterWrite",kve=[xve,Eve,Tve,Sve,Cve,Pve,Ave,Ive,Ove];function Ls(t){return t.split("-")[0]}function ai(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Pc(t){var e=ai(t).Element;return t instanceof e||t instanceof Element}function $s(t){var e=ai(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function hO(t){if(typeof ShadowRoot>"u")return!1;var e=ai(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Ql=Math.max,rb=Math.min,Td=Math.round;function xS(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Y8(){return!/^((?!chrome|android).)*safari/i.test(xS())}function Sd(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),s=1,o=1;e&&$s(t)&&(s=t.offsetWidth>0&&Td(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Td(r.height)/t.offsetHeight||1);var a=Pc(t)?ai(t):window,l=a.visualViewport,c=!Y8()&&n,u=(r.left+(c&&l?l.offsetLeft:0))/s,d=(r.top+(c&&l?l.offsetTop:0))/o,f=r.width/s,h=r.height/o;return{width:f,height:h,top:d,right:u+f,bottom:d+h,left:u,x:u,y:d}}function pO(t){var e=Sd(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function X8(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&hO(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Xa(t){return t?(t.nodeName||"").toLowerCase():null}function jo(t){return ai(t).getComputedStyle(t)}function Nve(t){return["table","td","th"].indexOf(Xa(t))>=0}function al(t){return((Pc(t)?t.ownerDocument:t.document)||window.document).documentElement}function t_(t){return Xa(t)==="html"?t:t.assignedSlot||t.parentNode||(hO(t)?t.host:null)||al(t)}function gj(t){return!$s(t)||jo(t).position==="fixed"?null:t.offsetParent}function Dve(t){var e=/firefox/i.test(xS()),n=/Trident/i.test(xS());if(n&&$s(t)){var r=jo(t);if(r.position==="fixed")return null}var s=t_(t);for(hO(s)&&(s=s.host);$s(s)&&["html","body"].indexOf(Xa(s))<0;){var o=jo(s);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return s;s=s.parentNode}return null}function Ng(t){for(var e=ai(t),n=gj(t);n&&Nve(n)&&jo(n).position==="static";)n=gj(n);return n&&(Xa(n)==="html"||Xa(n)==="body"&&jo(n).position==="static")?e:n||Dve(t)||e}function mO(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function rp(t,e,n){return Ql(t,rb(e,n))}function Rve(t,e,n){var r=rp(t,e,n);return r>n?n:r}function Q8(){return{top:0,right:0,bottom:0,left:0}}function Z8(t){return Object.assign({},Q8(),t)}function J8(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var Mve=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Z8(typeof e!="number"?e:J8(e,kg))};function jve(t){var e,n=t.state,r=t.name,s=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,l=Ls(n.placement),c=mO(l),u=[zr,Mi].indexOf(l)>=0,d=u?"height":"width";if(!(!o||!a)){var f=Mve(s.padding,n),h=pO(o),p=c==="y"?Ur:zr,v=c==="y"?Ri:Mi,g=n.rects.reference[d]+n.rects.reference[c]-a[c]-n.rects.popper[d],b=a[c]-n.rects.reference[c],y=Ng(o),x=y?c==="y"?y.clientHeight||0:y.clientWidth||0:0,E=g/2-b/2,T=f[p],S=x-h[d]-f[v],A=x/2-h[d]/2+E,C=rp(T,A,S),P=c;n.modifiersData[r]=(e={},e[P]=C,e.centerOffset=C-A,e)}}function Lve(t){var e=t.state,n=t.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||X8(e.elements.popper,s)&&(e.elements.arrow=s))}const $ve={name:"arrow",enabled:!0,phase:"main",fn:jve,effect:Lve,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Cd(t){return t.split("-")[1]}var Fve={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Vve(t,e){var n=t.x,r=t.y,s=e.devicePixelRatio||1;return{x:Td(n*s)/s||0,y:Td(r*s)/s||0}}function vj(t){var e,n=t.popper,r=t.popperRect,s=t.placement,o=t.variation,a=t.offsets,l=t.position,c=t.gpuAcceleration,u=t.adaptive,d=t.roundOffsets,f=t.isFixed,h=a.x,p=h===void 0?0:h,v=a.y,g=v===void 0?0:v,b=typeof d=="function"?d({x:p,y:g}):{x:p,y:g};p=b.x,g=b.y;var y=a.hasOwnProperty("x"),x=a.hasOwnProperty("y"),E=zr,T=Ur,S=window;if(u){var A=Ng(n),C="clientHeight",P="clientWidth";if(A===ai(n)&&(A=al(n),jo(A).position!=="static"&&l==="absolute"&&(C="scrollHeight",P="scrollWidth")),A=A,s===Ur||(s===zr||s===Mi)&&o===fm){T=Ri;var I=f&&A===S&&S.visualViewport?S.visualViewport.height:A[C];g-=I-r.height,g*=c?1:-1}if(s===zr||(s===Ur||s===Ri)&&o===fm){E=Mi;var R=f&&A===S&&S.visualViewport?S.visualViewport.width:A[P];p-=R-r.width,p*=c?1:-1}}var j=Object.assign({position:l},u&&Fve),O=d===!0?Vve({x:p,y:g},ai(n)):{x:p,y:g};if(p=O.x,g=O.y,c){var D;return Object.assign({},j,(D={},D[T]=x?"0":"",D[E]=y?"0":"",D.transform=(S.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",D))}return Object.assign({},j,(e={},e[T]=x?g+"px":"",e[E]=y?p+"px":"",e.transform="",e))}function Bve(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,o=n.adaptive,a=o===void 0?!0:o,l=n.roundOffsets,c=l===void 0?!0:l,u={placement:Ls(e.placement),variation:Cd(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,vj(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,vj(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Uve={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Bve,data:{}};var $v={passive:!0};function zve(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,o=s===void 0?!0:s,a=r.resize,l=a===void 0?!0:a,c=ai(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(d){d.addEventListener("scroll",n.update,$v)}),l&&c.addEventListener("resize",n.update,$v),function(){o&&u.forEach(function(d){d.removeEventListener("scroll",n.update,$v)}),l&&c.removeEventListener("resize",n.update,$v)}}const Wve={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:zve,data:{}};var Hve={left:"right",right:"left",bottom:"top",top:"bottom"};function Iy(t){return t.replace(/left|right|bottom|top/g,function(e){return Hve[e]})}var qve={start:"end",end:"start"};function yj(t){return t.replace(/start|end/g,function(e){return qve[e]})}function gO(t){var e=ai(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function vO(t){return Sd(al(t)).left+gO(t).scrollLeft}function Gve(t,e){var n=ai(t),r=al(t),s=n.visualViewport,o=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){o=s.width,a=s.height;var u=Y8();(u||!u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:a,x:l+vO(t),y:c}}function Kve(t){var e,n=al(t),r=gO(t),s=(e=t.ownerDocument)==null?void 0:e.body,o=Ql(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),a=Ql(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-r.scrollLeft+vO(t),c=-r.scrollTop;return jo(s||n).direction==="rtl"&&(l+=Ql(n.clientWidth,s?s.clientWidth:0)-o),{width:o,height:a,x:l,y:c}}function yO(t){var e=jo(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function eH(t){return["html","body","#document"].indexOf(Xa(t))>=0?t.ownerDocument.body:$s(t)&&yO(t)?t:eH(t_(t))}function ip(t,e){var n;e===void 0&&(e=[]);var r=eH(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),o=ai(r),a=s?[o].concat(o.visualViewport||[],yO(r)?r:[]):r,l=e.concat(a);return s?l:l.concat(ip(t_(a)))}function ES(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Yve(t,e){var n=Sd(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function bj(t,e,n){return e===K8?ES(Gve(t,n)):Pc(e)?Yve(e,n):ES(Kve(al(t)))}function Xve(t){var e=ip(t_(t)),n=["absolute","fixed"].indexOf(jo(t).position)>=0,r=n&&$s(t)?Ng(t):t;return Pc(r)?e.filter(function(s){return Pc(s)&&X8(s,r)&&Xa(s)!=="body"}):[]}function Qve(t,e,n,r){var s=e==="clippingParents"?Xve(t):[].concat(e),o=[].concat(s,[n]),a=o[0],l=o.reduce(function(c,u){var d=bj(t,u,r);return c.top=Ql(d.top,c.top),c.right=rb(d.right,c.right),c.bottom=rb(d.bottom,c.bottom),c.left=Ql(d.left,c.left),c},bj(t,a,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function tH(t){var e=t.reference,n=t.element,r=t.placement,s=r?Ls(r):null,o=r?Cd(r):null,a=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,c;switch(s){case Ur:c={x:a,y:e.y-n.height};break;case Ri:c={x:a,y:e.y+e.height};break;case Mi:c={x:e.x+e.width,y:l};break;case zr:c={x:e.x-n.width,y:l};break;default:c={x:e.x,y:e.y}}var u=s?mO(s):null;if(u!=null){var d=u==="y"?"height":"width";switch(o){case Ed:c[u]=c[u]-(e[d]/2-n[d]/2);break;case fm:c[u]=c[u]+(e[d]/2-n[d]/2);break}}return c}function hm(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,o=n.strategy,a=o===void 0?t.strategy:o,l=n.boundary,c=l===void 0?wve:l,u=n.rootBoundary,d=u===void 0?K8:u,f=n.elementContext,h=f===void 0?ch:f,p=n.altBoundary,v=p===void 0?!1:p,g=n.padding,b=g===void 0?0:g,y=Z8(typeof b!="number"?b:J8(b,kg)),x=h===ch?_ve:ch,E=t.rects.popper,T=t.elements[v?x:h],S=Qve(Pc(T)?T:T.contextElement||al(t.elements.popper),c,d,a),A=Sd(t.elements.reference),C=tH({reference:A,element:E,strategy:"absolute",placement:s}),P=ES(Object.assign({},E,C)),I=h===ch?P:A,R={top:S.top-I.top+y.top,bottom:I.bottom-S.bottom+y.bottom,left:S.left-I.left+y.left,right:I.right-S.right+y.right},j=t.modifiersData.offset;if(h===ch&&j){var O=j[s];Object.keys(R).forEach(function(D){var N=[Mi,Ri].indexOf(D)>=0?1:-1,U=[Ur,Ri].indexOf(D)>=0?"y":"x";R[D]+=O[U]*N})}return R}function Zve(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,o=n.rootBoundary,a=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,u=c===void 0?fO:c,d=Cd(r),f=d?l?mj:mj.filter(function(v){return Cd(v)===d}):kg,h=f.filter(function(v){return u.indexOf(v)>=0});h.length===0&&(h=f);var p=h.reduce(function(v,g){return v[g]=hm(t,{placement:g,boundary:s,rootBoundary:o,padding:a})[Ls(g)],v},{});return Object.keys(p).sort(function(v,g){return p[v]-p[g]})}function Jve(t){if(Ls(t)===dO)return[];var e=Iy(t);return[yj(t),e,yj(e)]}function eye(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,o=s===void 0?!0:s,a=n.altAxis,l=a===void 0?!0:a,c=n.fallbackPlacements,u=n.padding,d=n.boundary,f=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,v=p===void 0?!0:p,g=n.allowedAutoPlacements,b=e.options.placement,y=Ls(b),x=y===b,E=c||(x||!v?[Iy(b)]:Jve(b)),T=[b].concat(E).reduce(function(se,oe){return se.concat(Ls(oe)===dO?Zve(e,{placement:oe,boundary:d,rootBoundary:f,padding:u,flipVariations:v,allowedAutoPlacements:g}):oe)},[]),S=e.rects.reference,A=e.rects.popper,C=new Map,P=!0,I=T[0],R=0;R<T.length;R++){var j=T[R],O=Ls(j),D=Cd(j)===Ed,N=[Ur,Ri].indexOf(O)>=0,U=N?"width":"height",K=hm(e,{placement:j,boundary:d,rootBoundary:f,altBoundary:h,padding:u}),q=N?D?Mi:zr:D?Ri:Ur;S[U]>A[U]&&(q=Iy(q));var Y=Iy(q),G=[];if(o&&G.push(K[O]<=0),l&&G.push(K[q]<=0,K[Y]<=0),G.every(function(se){return se})){I=j,P=!1;break}C.set(j,G)}if(P)for(var J=v?3:1,H=function(oe){var xe=T.find(function(Se){var ye=C.get(Se);if(ye)return ye.slice(0,oe).every(function(ie){return ie})});if(xe)return I=xe,"break"},V=J;V>0;V--){var ee=H(V);if(ee==="break")break}e.placement!==I&&(e.modifiersData[r]._skip=!0,e.placement=I,e.reset=!0)}}const tye={name:"flip",enabled:!0,phase:"main",fn:eye,requiresIfExists:["offset"],data:{_skip:!1}};function wj(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function _j(t){return[Ur,Mi,Ri,zr].some(function(e){return t[e]>=0})}function nye(t){var e=t.state,n=t.name,r=e.rects.reference,s=e.rects.popper,o=e.modifiersData.preventOverflow,a=hm(e,{elementContext:"reference"}),l=hm(e,{altBoundary:!0}),c=wj(a,r),u=wj(l,s,o),d=_j(c),f=_j(u);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const rye={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:nye};function iye(t,e,n){var r=Ls(t),s=[zr,Ur].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=o[0],l=o[1];return a=a||0,l=(l||0)*s,[zr,Mi].indexOf(r)>=0?{x:l,y:a}:{x:a,y:l}}function sye(t){var e=t.state,n=t.options,r=t.name,s=n.offset,o=s===void 0?[0,0]:s,a=fO.reduce(function(d,f){return d[f]=iye(f,e.rects,o),d},{}),l=a[e.placement],c=l.x,u=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=a}const oye={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:sye};function aye(t){var e=t.state,n=t.name;e.modifiersData[n]=tH({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const lye={name:"popperOffsets",enabled:!0,phase:"read",fn:aye,data:{}};function cye(t){return t==="x"?"y":"x"}function uye(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,o=s===void 0?!0:s,a=n.altAxis,l=a===void 0?!1:a,c=n.boundary,u=n.rootBoundary,d=n.altBoundary,f=n.padding,h=n.tether,p=h===void 0?!0:h,v=n.tetherOffset,g=v===void 0?0:v,b=hm(e,{boundary:c,rootBoundary:u,padding:f,altBoundary:d}),y=Ls(e.placement),x=Cd(e.placement),E=!x,T=mO(y),S=cye(T),A=e.modifiersData.popperOffsets,C=e.rects.reference,P=e.rects.popper,I=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,R=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),j=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,O={x:0,y:0};if(A){if(o){var D,N=T==="y"?Ur:zr,U=T==="y"?Ri:Mi,K=T==="y"?"height":"width",q=A[T],Y=q+b[N],G=q-b[U],J=p?-P[K]/2:0,H=x===Ed?C[K]:P[K],V=x===Ed?-P[K]:-C[K],ee=e.elements.arrow,se=p&&ee?pO(ee):{width:0,height:0},oe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Q8(),xe=oe[N],Se=oe[U],ye=rp(0,C[K],se[K]),ie=E?C[K]/2-J-ye-xe-R.mainAxis:H-ye-xe-R.mainAxis,we=E?-C[K]/2+J+ye+Se+R.mainAxis:V+ye+Se+R.mainAxis,pe=e.elements.arrow&&Ng(e.elements.arrow),X=pe?T==="y"?pe.clientTop||0:pe.clientLeft||0:0,ae=(D=j==null?void 0:j[T])!=null?D:0,M=q+ie-ae-X,te=q+we-ae,Z=rp(p?rb(Y,M):Y,q,p?Ql(G,te):G);A[T]=Z,O[T]=Z-q}if(l){var z,W=T==="x"?Ur:zr,Q=T==="x"?Ri:Mi,ue=A[S],de=S==="y"?"height":"width",re=ue+b[W],he=ue-b[Q],Te=[Ur,zr].indexOf(y)!==-1,ve=(z=j==null?void 0:j[S])!=null?z:0,Oe=Te?re:ue-C[de]-P[de]-ve+R.altAxis,Le=Te?ue+C[de]+P[de]-ve-R.altAxis:he,Ne=p&&Te?Rve(Oe,ue,Le):rp(p?Oe:re,ue,p?Le:he);A[S]=Ne,O[S]=Ne-ue}e.modifiersData[r]=O}}const dye={name:"preventOverflow",enabled:!0,phase:"main",fn:uye,requiresIfExists:["offset"]};function fye(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function hye(t){return t===ai(t)||!$s(t)?gO(t):fye(t)}function pye(t){var e=t.getBoundingClientRect(),n=Td(e.width)/t.offsetWidth||1,r=Td(e.height)/t.offsetHeight||1;return n!==1||r!==1}function mye(t,e,n){n===void 0&&(n=!1);var r=$s(e),s=$s(e)&&pye(e),o=al(e),a=Sd(t,s,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((Xa(e)!=="body"||yO(o))&&(l=hye(e)),$s(e)?(c=Sd(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):o&&(c.x=vO(o))),{x:a.left+l.scrollLeft-c.x,y:a.top+l.scrollTop-c.y,width:a.width,height:a.height}}function gye(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function s(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(l){if(!n.has(l)){var c=e.get(l);c&&s(c)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||s(o)}),r}function vye(t){var e=gye(t);return kve.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function yye(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function bye(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var xj={placement:"bottom",modifiers:[],strategy:"absolute"};function Ej(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function wye(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,o=s===void 0?xj:s;return function(l,c,u){u===void 0&&(u=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},xj,o),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},f=[],h=!1,p={state:d,setOptions:function(y){var x=typeof y=="function"?y(d.options):y;g(),d.options=Object.assign({},o,d.options,x),d.scrollParents={reference:Pc(l)?ip(l):l.contextElement?ip(l.contextElement):[],popper:ip(c)};var E=vye(bye([].concat(r,d.options.modifiers)));return d.orderedModifiers=E.filter(function(T){return T.enabled}),v(),p.update()},forceUpdate:function(){if(!h){var y=d.elements,x=y.reference,E=y.popper;if(Ej(x,E)){d.rects={reference:mye(x,Ng(E),d.options.strategy==="fixed"),popper:pO(E)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(R){return d.modifiersData[R.name]=Object.assign({},R.data)});for(var T=0;T<d.orderedModifiers.length;T++){if(d.reset===!0){d.reset=!1,T=-1;continue}var S=d.orderedModifiers[T],A=S.fn,C=S.options,P=C===void 0?{}:C,I=S.name;typeof A=="function"&&(d=A({state:d,options:P,name:I,instance:p})||d)}}}},update:yye(function(){return new Promise(function(b){p.forceUpdate(),b(d)})}),destroy:function(){g(),h=!0}};if(!Ej(l,c))return p;p.setOptions(u).then(function(b){!h&&u.onFirstUpdate&&u.onFirstUpdate(b)});function v(){d.orderedModifiers.forEach(function(b){var y=b.name,x=b.options,E=x===void 0?{}:x,T=b.effect;if(typeof T=="function"){var S=T({state:d,name:y,instance:p,options:E}),A=function(){};f.push(S||A)}})}function g(){f.forEach(function(b){return b()}),f=[]}return p}}var _ye=wye({defaultModifiers:[rye,lye,Uve,Wve,oye,tye,dye,$ve]}),Tj=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},xye={name:"applyStyles",enabled:!1},Eye={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var n=e.state;return function(){var r=n.elements,s=r.reference,o=r.popper;if("removeAttribute"in s){var a=(s.getAttribute("aria-describedby")||"").split(",").filter(function(l){return l.trim()!==o.id});a.length?s.setAttribute("aria-describedby",a.join(",")):s.removeAttribute("aria-describedby")}}},fn:function(e){var n,r=e.state,s=r.elements,o=s.popper,a=s.reference,l=(n=o.getAttribute("role"))==null?void 0:n.toLowerCase();if(o.id&&l==="tooltip"&&"setAttribute"in a){var c=a.getAttribute("aria-describedby");if(c&&c.split(",").indexOf(o.id)!==-1)return;a.setAttribute("aria-describedby",c?c+","+o.id:o.id)}}},Tye=[];function Sye(t,e,n){var r=n===void 0?{}:n,s=r.enabled,o=s===void 0?!0:s,a=r.placement,l=a===void 0?"bottom":a,c=r.strategy,u=c===void 0?"absolute":c,d=r.modifiers,f=d===void 0?Tye:d,h=Zw(r,["enabled","placement","strategy","modifiers"]),p=F.useRef(),v=F.useCallback(function(){var T;(T=p.current)==null||T.update()},[]),g=F.useCallback(function(){var T;(T=p.current)==null||T.forceUpdate()},[]),b=bve(F.useState({placement:l,update:v,forceUpdate:g,attributes:{},styles:{popper:Tj(u),arrow:{}}})),y=b[0],x=b[1],E=F.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(S){var A=S.state,C={},P={};Object.keys(A.elements).forEach(function(I){C[I]=A.styles[I],P[I]=A.attributes[I]}),x({state:A,styles:C,attributes:P,update:v,forceUpdate:g,placement:A.placement})}}},[v,g,x]);return F.useEffect(function(){!p.current||!o||p.current.setOptions({placement:l,strategy:u,modifiers:[].concat(f,[E,xye])})},[u,l,E,o]),F.useEffect(function(){if(!(!o||t==null||e==null))return p.current=_ye(t,e,Zt({},h,{placement:l,strategy:u,modifiers:[].concat(f,[Eye,E])})),function(){p.current!=null&&(p.current.destroy(),p.current=void 0,x(function(T){return Zt({},T,{attributes:{},styles:{popper:Tj(u)}})}))}},[o,t,e]),y}function Cye(t,e,n,r){var s=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,s),n.__once&&t.removeEventListener(e,n.__once,s)}function Oh(t,e,n,r){return gve(t,e,n,r),function(){Cye(t,e,n,r)}}var Pye=function(){},Aye=Pye;const Iye=Ke(Aye);function Oye(t){return t&&"setState"in t?_5.findDOMNode(t):t??null}const kye=function(t){return Og(Oye(t))};var Nye=27,Sj=function(){};function Dye(t){return t.button===0}function Rye(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var Cj=function(e){return e&&("current"in e?e.current:e)};function Mye(t,e,n){var r=n===void 0?{}:n,s=r.disabled,o=r.clickTrigger,a=o===void 0?"click":o,l=F.useRef(!1),c=e||Sj,u=F.useCallback(function(h){var p,v=Cj(t);Iye(!!v,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),l.current=!v||Rye(h)||!Dye(h)||!!dm(v,(p=h.composedPath==null?void 0:h.composedPath()[0])!=null?p:h.target)},[t]),d=hj(function(h){l.current||c(h)}),f=hj(function(h){h.keyCode===Nye&&c(h)});F.useEffect(function(){if(!(s||t==null)){var h=window.event,p=kye(Cj(t)),v=Oh(p,a,u,!0),g=Oh(p,a,function(x){if(x===h){h=void 0;return}d(x)}),b=Oh(p,"keyup",function(x){if(x===h){h=void 0;return}f(x)}),y=[];return"ontouchstart"in p.documentElement&&(y=[].slice.call(p.body.children).map(function(x){return Oh(x,"mousemove",Sj)})),function(){v(),g(),b(),y.forEach(function(x){return x()})}}},[t,s,a,u,d,f])}function jye(t){var e={};return Array.isArray(t)?(t==null||t.forEach(function(n){e[n.name]=n}),e):t||e}function Lye(t){return t===void 0&&(t={}),Array.isArray(t)?t:Object.keys(t).map(function(e){return t[e].name=e,t[e]})}function $ye(t){var e,n,r,s,o=t.enabled,a=t.enableEvents,l=t.placement,c=t.flip,u=t.offset,d=t.fixed,f=t.containerPadding,h=t.arrowElement,p=t.popperConfig,v=p===void 0?{}:p,g=jye(v.modifiers);return Zt({},v,{placement:l,enabled:o,strategy:d?"fixed":v.strategy,modifiers:Lye(Zt({},g,{eventListeners:{enabled:a},preventOverflow:Zt({},g.preventOverflow,{options:f?Zt({padding:f},(e=g.preventOverflow)==null?void 0:e.options):(n=g.preventOverflow)==null?void 0:n.options}),offset:{options:Zt({offset:u},(r=g.offset)==null?void 0:r.options)},arrow:Zt({},g.arrow,{enabled:!!h,options:Zt({},(s=g.arrow)==null?void 0:s.options,{element:h})}),flip:Zt({enabled:!!c},g.flip)}))})}function Fye(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Vye(t,e){t.classList?t.classList.add(e):Fye(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Pj(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Bye(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=Pj(t.className,e):t.setAttribute("class",Pj(t.className&&t.className.baseVal||"",e))}var Fv;function bO(t){if((!Fv&&Fv!==0||t)&&uO){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Fv=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Fv}var O1=function(e){var n;return typeof document>"u"?null:e==null?Og().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(n=e)!=null&&n.nodeType&&e||null)};function Aj(t,e){var n=F.useState(function(){return O1(t)}),r=n[0],s=n[1];if(!r){var o=O1(t);o&&s(o)}return F.useEffect(function(){e&&r&&e(r)},[e,r]),F.useEffect(function(){var a=O1(t);a!==r&&s(a)},[t,r]),r}const Ij=t=>!t||typeof t=="function"?t:e=>{t.current=e};function Uye(t,e){const n=Ij(t),r=Ij(e);return s=>{n&&n(s),r&&r(s)}}function zye(t,e){return F.useMemo(()=>Uye(t,e),[t,e])}var wO=L.forwardRef(function(t,e){var n=t.flip,r=t.offset,s=t.placement,o=t.containerPadding,a=o===void 0?5:o,l=t.popperConfig,c=l===void 0?{}:l,u=t.transition,d=pj(),f=d[0],h=d[1],p=pj(),v=p[0],g=p[1],b=zye(h,e),y=Aj(t.container),x=Aj(t.target),E=F.useState(!t.show),T=E[0],S=E[1],A=Sye(x,f,$ye({placement:s,enableEvents:!!t.show,containerPadding:a||5,flip:n,offset:r,arrowElement:v,popperConfig:c})),C=A.styles,P=A.attributes,I=Zw(A,["styles","attributes"]);t.show?T&&S(!1):!t.transition&&!T&&S(!0);var R=function(){S(!0),t.onExited&&t.onExited.apply(t,arguments)},j=t.show||u&&!T;if(Mye(f,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!j)return null;var O=t.children(Zt({},I,{show:!!t.show,props:Zt({},P.popper,{style:C.popper,ref:b}),arrowProps:Zt({},P.arrow,{style:C.arrow,ref:g})}));if(u){var D=t.onExit,N=t.onExiting,U=t.onEnter,K=t.onEntering,q=t.onEntered;O=L.createElement(u,{in:t.show,appear:!0,onExit:D,onExiting:N,onExited:R,onEnter:U,onEntering:K,onEntered:q},O)}return y?_5.createPortal(O,y):null});wO.displayName="Overlay";wO.propTypes={show:fe.bool,placement:fe.oneOf(fO),target:fe.any,container:fe.any,flip:fe.bool,children:fe.func.isRequired,containerPadding:fe.number,popperConfig:fe.object,rootClose:fe.bool,rootCloseEvent:fe.oneOf(["click","mousedown"]),rootCloseDisabled:fe.bool,onHide:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];if(e.rootClose){var o;return(o=fe.func).isRequired.apply(o,[e].concat(r))}return fe.func.apply(fe,[e].concat(r))},transition:fe.elementType,onEnter:fe.func,onEntering:fe.func,onEntered:fe.func,onExit:fe.func,onExiting:fe.func,onExited:fe.func};const Wye=wO;function Hye(){this.__data__=[],this.size=0}var qye=Hye,Gye=Ag;function Kye(t,e){for(var n=t.length;n--;)if(Gye(t[n][0],e))return n;return-1}var n_=Kye,Yye=n_,Xye=Array.prototype,Qye=Xye.splice;function Zye(t){var e=this.__data__,n=Yye(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Qye.call(e,n,1),--this.size,!0}var Jye=Zye,e0e=n_;function t0e(t){var e=this.__data__,n=e0e(e,t);return n<0?void 0:e[n][1]}var n0e=t0e,r0e=n_;function i0e(t){return r0e(this.__data__,t)>-1}var s0e=i0e,o0e=n_;function a0e(t,e){var n=this.__data__,r=o0e(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var l0e=a0e,c0e=qye,u0e=Jye,d0e=n0e,f0e=s0e,h0e=l0e;function yf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yf.prototype.clear=c0e;yf.prototype.delete=u0e;yf.prototype.get=d0e;yf.prototype.has=f0e;yf.prototype.set=h0e;var r_=yf,p0e=r_;function m0e(){this.__data__=new p0e,this.size=0}var g0e=m0e;function v0e(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var y0e=v0e;function b0e(t){return this.__data__.get(t)}var w0e=b0e;function _0e(t){return this.__data__.has(t)}var x0e=_0e,E0e=cs,T0e=E0e["__core-js_shared__"],S0e=T0e,k1=S0e,Oj=function(){var t=/[^.]+$/.exec(k1&&k1.keys&&k1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function C0e(t){return!!Oj&&Oj in t}var P0e=C0e,A0e=Function.prototype,I0e=A0e.toString;function O0e(t){if(t!=null){try{return I0e.call(t)}catch{}try{return t+""}catch{}}return""}var nH=O0e,k0e=e_,N0e=P0e,D0e=Li,R0e=nH,M0e=/[\\^$.*+?()[\]{}|]/g,j0e=/^\[object .+?Constructor\]$/,L0e=Function.prototype,$0e=Object.prototype,F0e=L0e.toString,V0e=$0e.hasOwnProperty,B0e=RegExp("^"+F0e.call(V0e).replace(M0e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function U0e(t){if(!D0e(t)||N0e(t))return!1;var e=k0e(t)?B0e:j0e;return e.test(R0e(t))}var z0e=U0e;function W0e(t,e){return t==null?void 0:t[e]}var H0e=W0e,q0e=z0e,G0e=H0e;function K0e(t,e){var n=G0e(t,e);return q0e(n)?n:void 0}var Wc=K0e,Y0e=Wc,X0e=cs,Q0e=Y0e(X0e,"Map"),_O=Q0e,Z0e=Wc,J0e=Z0e(Object,"create"),i_=J0e,kj=i_;function ebe(){this.__data__=kj?kj(null):{},this.size=0}var tbe=ebe;function nbe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var rbe=nbe,ibe=i_,sbe="__lodash_hash_undefined__",obe=Object.prototype,abe=obe.hasOwnProperty;function lbe(t){var e=this.__data__;if(ibe){var n=e[t];return n===sbe?void 0:n}return abe.call(e,t)?e[t]:void 0}var cbe=lbe,ube=i_,dbe=Object.prototype,fbe=dbe.hasOwnProperty;function hbe(t){var e=this.__data__;return ube?e[t]!==void 0:fbe.call(e,t)}var pbe=hbe,mbe=i_,gbe="__lodash_hash_undefined__";function vbe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=mbe&&e===void 0?gbe:e,this}var ybe=vbe,bbe=tbe,wbe=rbe,_be=cbe,xbe=pbe,Ebe=ybe;function bf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}bf.prototype.clear=bbe;bf.prototype.delete=wbe;bf.prototype.get=_be;bf.prototype.has=xbe;bf.prototype.set=Ebe;var Tbe=bf,Nj=Tbe,Sbe=r_,Cbe=_O;function Pbe(){this.size=0,this.__data__={hash:new Nj,map:new(Cbe||Sbe),string:new Nj}}var Abe=Pbe;function Ibe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Obe=Ibe,kbe=Obe;function Nbe(t,e){var n=t.__data__;return kbe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var s_=Nbe,Dbe=s_;function Rbe(t){var e=Dbe(this,t).delete(t);return this.size-=e?1:0,e}var Mbe=Rbe,jbe=s_;function Lbe(t){return jbe(this,t).get(t)}var $be=Lbe,Fbe=s_;function Vbe(t){return Fbe(this,t).has(t)}var Bbe=Vbe,Ube=s_;function zbe(t,e){var n=Ube(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Wbe=zbe,Hbe=Abe,qbe=Mbe,Gbe=$be,Kbe=Bbe,Ybe=Wbe;function wf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wf.prototype.clear=Hbe;wf.prototype.delete=qbe;wf.prototype.get=Gbe;wf.prototype.has=Kbe;wf.prototype.set=Ybe;var xO=wf,Xbe=r_,Qbe=_O,Zbe=xO,Jbe=200;function ewe(t,e){var n=this.__data__;if(n instanceof Xbe){var r=n.__data__;if(!Qbe||r.length<Jbe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Zbe(r)}return n.set(t,e),this.size=n.size,this}var twe=ewe,nwe=r_,rwe=g0e,iwe=y0e,swe=w0e,owe=x0e,awe=twe;function _f(t){var e=this.__data__=new nwe(t);this.size=e.size}_f.prototype.clear=rwe;_f.prototype.delete=iwe;_f.prototype.get=swe;_f.prototype.has=owe;_f.prototype.set=awe;var EO=_f,lwe="__lodash_hash_undefined__";function cwe(t){return this.__data__.set(t,lwe),this}var uwe=cwe;function dwe(t){return this.__data__.has(t)}var fwe=dwe,hwe=xO,pwe=uwe,mwe=fwe;function ib(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new hwe;++e<n;)this.add(t[e])}ib.prototype.add=ib.prototype.push=pwe;ib.prototype.has=mwe;var rH=ib;function gwe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var iH=gwe;function vwe(t,e){return t.has(e)}var sH=vwe,ywe=rH,bwe=iH,wwe=sH,_we=1,xwe=2;function Ewe(t,e,n,r,s,o){var a=n&_we,l=t.length,c=e.length;if(l!=c&&!(a&&c>l))return!1;var u=o.get(t),d=o.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,p=n&xwe?new ywe:void 0;for(o.set(t,e),o.set(e,t);++f<l;){var v=t[f],g=e[f];if(r)var b=a?r(g,v,f,e,t,o):r(v,g,f,t,e,o);if(b!==void 0){if(b)continue;h=!1;break}if(p){if(!bwe(e,function(y,x){if(!wwe(p,x)&&(v===y||s(v,y,n,r,o)))return p.push(x)})){h=!1;break}}else if(!(v===g||s(v,g,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var oH=Ewe,Twe=cs,Swe=Twe.Uint8Array,aH=Swe;function Cwe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,s){n[++e]=[s,r]}),n}var Pwe=Cwe;function Awe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var TO=Awe,Dj=pf,Rj=aH,Iwe=Ag,Owe=oH,kwe=Pwe,Nwe=TO,Dwe=1,Rwe=2,Mwe="[object Boolean]",jwe="[object Date]",Lwe="[object Error]",$we="[object Map]",Fwe="[object Number]",Vwe="[object RegExp]",Bwe="[object Set]",Uwe="[object String]",zwe="[object Symbol]",Wwe="[object ArrayBuffer]",Hwe="[object DataView]",Mj=Dj?Dj.prototype:void 0,N1=Mj?Mj.valueOf:void 0;function qwe(t,e,n,r,s,o,a){switch(n){case Hwe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Wwe:return!(t.byteLength!=e.byteLength||!o(new Rj(t),new Rj(e)));case Mwe:case jwe:case Fwe:return Iwe(+t,+e);case Lwe:return t.name==e.name&&t.message==e.message;case Vwe:case Uwe:return t==e+"";case $we:var l=kwe;case Bwe:var c=r&Dwe;if(l||(l=Nwe),t.size!=e.size&&!c)return!1;var u=a.get(t);if(u)return u==e;r|=Rwe,a.set(t,e);var d=Owe(l(t),l(e),r,s,o,a);return a.delete(t),d;case zwe:if(N1)return N1.call(t)==N1.call(e)}return!1}var Gwe=qwe;function Kwe(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t}var SO=Kwe,Ywe=Array.isArray,vr=Ywe,Xwe=SO,Qwe=vr;function Zwe(t,e,n){var r=e(t);return Qwe(t)?r:Xwe(r,n(t))}var lH=Zwe;function Jwe(t,e){for(var n=-1,r=t==null?0:t.length,s=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[s++]=a)}return o}var e_e=Jwe;function t_e(){return[]}var cH=t_e,n_e=e_e,r_e=cH,i_e=Object.prototype,s_e=i_e.propertyIsEnumerable,jj=Object.getOwnPropertySymbols,o_e=jj?function(t){return t==null?[]:(t=Object(t),n_e(jj(t),function(e){return s_e.call(t,e)}))}:r_e,CO=o_e;function a_e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var l_e=a_e,c_e=qo,u_e=us,d_e="[object Arguments]";function f_e(t){return u_e(t)&&c_e(t)==d_e}var h_e=f_e,Lj=h_e,p_e=us,uH=Object.prototype,m_e=uH.hasOwnProperty,g_e=uH.propertyIsEnumerable,v_e=Lj(function(){return arguments}())?Lj:function(t){return p_e(t)&&m_e.call(t,"callee")&&!g_e.call(t,"callee")},PO=v_e,sb={exports:{}};function y_e(){return!1}var b_e=y_e;sb.exports;(function(t,e){var n=cs,r=b_e,s=e&&!e.nodeType&&e,o=s&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===s,l=a?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;t.exports=u})(sb,sb.exports);var o_=sb.exports,w_e=qo,__e=aO,x_e=us,E_e="[object Arguments]",T_e="[object Array]",S_e="[object Boolean]",C_e="[object Date]",P_e="[object Error]",A_e="[object Function]",I_e="[object Map]",O_e="[object Number]",k_e="[object Object]",N_e="[object RegExp]",D_e="[object Set]",R_e="[object String]",M_e="[object WeakMap]",j_e="[object ArrayBuffer]",L_e="[object DataView]",$_e="[object Float32Array]",F_e="[object Float64Array]",V_e="[object Int8Array]",B_e="[object Int16Array]",U_e="[object Int32Array]",z_e="[object Uint8Array]",W_e="[object Uint8ClampedArray]",H_e="[object Uint16Array]",q_e="[object Uint32Array]",jt={};jt[$_e]=jt[F_e]=jt[V_e]=jt[B_e]=jt[U_e]=jt[z_e]=jt[W_e]=jt[H_e]=jt[q_e]=!0;jt[E_e]=jt[T_e]=jt[j_e]=jt[S_e]=jt[L_e]=jt[C_e]=jt[P_e]=jt[A_e]=jt[I_e]=jt[O_e]=jt[k_e]=jt[N_e]=jt[D_e]=jt[R_e]=jt[M_e]=!1;function G_e(t){return x_e(t)&&__e(t.length)&&!!jt[w_e(t)]}var K_e=G_e;function Y_e(t){return function(e){return t(e)}}var a_=Y_e,ob={exports:{}};ob.exports;(function(t,e){var n=$8,r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===r,a=o&&n.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||a&&a.binding&&a.binding("util")}catch{}}();t.exports=l})(ob,ob.exports);var AO=ob.exports,X_e=K_e,Q_e=a_,$j=AO,Fj=$j&&$j.isTypedArray,Z_e=Fj?Q_e(Fj):X_e,IO=Z_e,J_e=l_e,exe=PO,txe=vr,nxe=o_,rxe=lO,ixe=IO,sxe=Object.prototype,oxe=sxe.hasOwnProperty;function axe(t,e){var n=txe(t),r=!n&&exe(t),s=!n&&!r&&nxe(t),o=!n&&!r&&!s&&ixe(t),a=n||r||s||o,l=a?J_e(t.length,String):[],c=l.length;for(var u in t)(e||oxe.call(t,u))&&!(a&&(u=="length"||s&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||rxe(u,c)))&&l.push(u);return l}var dH=axe,lxe=Object.prototype;function cxe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||lxe;return t===n}var OO=cxe;function uxe(t,e){return function(n){return t(e(n))}}var fH=uxe,dxe=fH,fxe=dxe(Object.keys,Object),hxe=fxe,pxe=OO,mxe=hxe,gxe=Object.prototype,vxe=gxe.hasOwnProperty;function yxe(t){if(!pxe(t))return mxe(t);var e=[];for(var n in Object(t))vxe.call(t,n)&&n!="constructor"&&e.push(n);return e}var bxe=yxe,wxe=dH,_xe=bxe,xxe=Ig;function Exe(t){return xxe(t)?wxe(t):_xe(t)}var Dg=Exe,Txe=lH,Sxe=CO,Cxe=Dg;function Pxe(t){return Txe(t,Cxe,Sxe)}var hH=Pxe,Vj=hH,Axe=1,Ixe=Object.prototype,Oxe=Ixe.hasOwnProperty;function kxe(t,e,n,r,s,o){var a=n&Axe,l=Vj(t),c=l.length,u=Vj(e),d=u.length;if(c!=d&&!a)return!1;for(var f=c;f--;){var h=l[f];if(!(a?h in e:Oxe.call(e,h)))return!1}var p=o.get(t),v=o.get(e);if(p&&v)return p==e&&v==t;var g=!0;o.set(t,e),o.set(e,t);for(var b=a;++f<c;){h=l[f];var y=t[h],x=e[h];if(r)var E=a?r(x,y,h,e,t,o):r(y,x,h,t,e,o);if(!(E===void 0?y===x||s(y,x,n,r,o):E)){g=!1;break}b||(b=h=="constructor")}if(g&&!b){var T=t.constructor,S=e.constructor;T!=S&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof S=="function"&&S instanceof S)&&(g=!1)}return o.delete(t),o.delete(e),g}var Nxe=kxe,Dxe=Wc,Rxe=cs,Mxe=Dxe(Rxe,"DataView"),jxe=Mxe,Lxe=Wc,$xe=cs,Fxe=Lxe($xe,"Promise"),Vxe=Fxe,Bxe=Wc,Uxe=cs,zxe=Bxe(Uxe,"Set"),pH=zxe,Wxe=Wc,Hxe=cs,qxe=Wxe(Hxe,"WeakMap"),Gxe=qxe,TS=jxe,SS=_O,CS=Vxe,PS=pH,AS=Gxe,mH=qo,xf=nH,Bj="[object Map]",Kxe="[object Object]",Uj="[object Promise]",zj="[object Set]",Wj="[object WeakMap]",Hj="[object DataView]",Yxe=xf(TS),Xxe=xf(SS),Qxe=xf(CS),Zxe=xf(PS),Jxe=xf(AS),Ol=mH;(TS&&Ol(new TS(new ArrayBuffer(1)))!=Hj||SS&&Ol(new SS)!=Bj||CS&&Ol(CS.resolve())!=Uj||PS&&Ol(new PS)!=zj||AS&&Ol(new AS)!=Wj)&&(Ol=function(t){var e=mH(t),n=e==Kxe?t.constructor:void 0,r=n?xf(n):"";if(r)switch(r){case Yxe:return Hj;case Xxe:return Bj;case Qxe:return Uj;case Zxe:return zj;case Jxe:return Wj}return e});var l_=Ol,D1=EO,e1e=oH,t1e=Gwe,n1e=Nxe,qj=l_,Gj=vr,Kj=o_,r1e=IO,i1e=1,Yj="[object Arguments]",Xj="[object Array]",Vv="[object Object]",s1e=Object.prototype,Qj=s1e.hasOwnProperty;function o1e(t,e,n,r,s,o){var a=Gj(t),l=Gj(e),c=a?Xj:qj(t),u=l?Xj:qj(e);c=c==Yj?Vv:c,u=u==Yj?Vv:u;var d=c==Vv,f=u==Vv,h=c==u;if(h&&Kj(t)){if(!Kj(e))return!1;a=!0,d=!1}if(h&&!d)return o||(o=new D1),a||r1e(t)?e1e(t,e,n,r,s,o):t1e(t,e,c,n,r,s,o);if(!(n&i1e)){var p=d&&Qj.call(t,"__wrapped__"),v=f&&Qj.call(e,"__wrapped__");if(p||v){var g=p?t.value():t,b=v?e.value():e;return o||(o=new D1),s(g,b,n,r,o)}}return h?(o||(o=new D1),n1e(t,e,n,r,s,o)):!1}var a1e=o1e,l1e=a1e,Zj=us;function gH(t,e,n,r,s){return t===e?!0:t==null||e==null||!Zj(t)&&!Zj(e)?t!==t&&e!==e:l1e(t,e,n,r,gH,s)}var kO=gH,c1e=kO;function u1e(t,e){return c1e(t,e)}var d1e=u1e;const c_=Ke(d1e);function R1(t,e){var n=cO(t);return n?n.innerHeight:e?t.clientHeight:Xl(t).height}function vH(t,e,n){t.closest&&!n&&t.closest(e);var r=t;do{if(hve(r,e))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}function f1e(t,e,n,r){for(var s=t.length,o=n+(r?1:-1);r?o--:++o<s;)if(e(t[o],o,t))return o;return-1}var yH=f1e,h1e=EO,p1e=kO,m1e=1,g1e=2;function v1e(t,e,n,r){var s=n.length,o=s,a=!r;if(t==null)return!o;for(t=Object(t);s--;){var l=n[s];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++s<o;){l=n[s];var c=l[0],u=t[c],d=l[1];if(a&&l[2]){if(u===void 0&&!(c in t))return!1}else{var f=new h1e;if(r)var h=r(u,d,c,t,e,f);if(!(h===void 0?p1e(d,u,m1e|g1e,r,f):h))return!1}}return!0}var y1e=v1e,b1e=Li;function w1e(t){return t===t&&!b1e(t)}var bH=w1e,_1e=bH,x1e=Dg;function E1e(t){for(var e=x1e(t),n=e.length;n--;){var r=e[n],s=t[r];e[n]=[r,s,_1e(s)]}return e}var T1e=E1e;function S1e(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var wH=S1e,C1e=y1e,P1e=T1e,A1e=wH;function I1e(t){var e=P1e(t);return e.length==1&&e[0][2]?A1e(e[0][0],e[0][1]):function(n){return n===t||C1e(n,t,e)}}var O1e=I1e,k1e=vr,N1e=vf,D1e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,R1e=/^\w*$/;function M1e(t,e){if(k1e(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||N1e(t)?!0:R1e.test(t)||!D1e.test(t)||e!=null&&t in Object(e)}var NO=M1e,_H=xO,j1e="Expected a function";function DO(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(j1e);var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],o=n.cache;if(o.has(s))return o.get(s);var a=t.apply(this,r);return n.cache=o.set(s,a)||o,a};return n.cache=new(DO.Cache||_H),n}DO.Cache=_H;var xH=DO;const L1e=Ke(xH);var $1e=xH,F1e=500;function V1e(t){var e=$1e(t,function(r){return n.size===F1e&&n.clear(),r}),n=e.cache;return e}var B1e=V1e,U1e=B1e,z1e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,W1e=/\\(\\)?/g,H1e=U1e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(z1e,function(n,r,s,o){e.push(s?o.replace(W1e,"$1"):r||n)}),e}),q1e=H1e;function G1e(t,e){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s}var u_=G1e,Jj=pf,K1e=u_,Y1e=vr,X1e=vf,Q1e=1/0,eL=Jj?Jj.prototype:void 0,tL=eL?eL.toString:void 0;function EH(t){if(typeof t=="string")return t;if(Y1e(t))return K1e(t,EH)+"";if(X1e(t))return tL?tL.call(t):"";var e=t+"";return e=="0"&&1/t==-Q1e?"-0":e}var Z1e=EH,J1e=Z1e;function eEe(t){return t==null?"":J1e(t)}var TH=eEe,tEe=vr,nEe=NO,rEe=q1e,iEe=TH;function sEe(t,e){return tEe(t)?t:nEe(t,e)?[t]:rEe(iEe(t))}var d_=sEe,oEe=vf,aEe=1/0;function lEe(t){if(typeof t=="string"||oEe(t))return t;var e=t+"";return e=="0"&&1/t==-aEe?"-0":e}var Rg=lEe,cEe=d_,uEe=Rg;function dEe(t,e){e=cEe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[uEe(e[n++])];return n&&n==r?t:void 0}var f_=dEe,fEe=f_;function hEe(t,e,n){var r=t==null?void 0:fEe(t,e);return r===void 0?n:r}var SH=hEe;const ns=Ke(SH);function pEe(t,e){return t!=null&&e in Object(t)}var mEe=pEe,gEe=d_,vEe=PO,yEe=vr,bEe=lO,wEe=aO,_Ee=Rg;function xEe(t,e,n){e=gEe(e,t);for(var r=-1,s=e.length,o=!1;++r<s;){var a=_Ee(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=s?o:(s=t==null?0:t.length,!!s&&wEe(s)&&bEe(a,s)&&(yEe(t)||vEe(t)))}var EEe=xEe,TEe=mEe,SEe=EEe;function CEe(t,e){return t!=null&&SEe(t,e,TEe)}var PEe=CEe,AEe=kO,IEe=SH,OEe=PEe,kEe=NO,NEe=bH,DEe=wH,REe=Rg,MEe=1,jEe=2;function LEe(t,e){return kEe(t)&&NEe(e)?DEe(REe(t),e):function(n){var r=IEe(n,t);return r===void 0&&r===e?OEe(n,t):AEe(e,r,MEe|jEe)}}var $Ee=LEe;function FEe(t){return t}var Ef=FEe;function VEe(t){return function(e){return e==null?void 0:e[t]}}var BEe=VEe,UEe=f_;function zEe(t){return function(e){return UEe(e,t)}}var WEe=zEe,HEe=BEe,qEe=WEe,GEe=NO,KEe=Rg;function YEe(t){return GEe(t)?HEe(KEe(t)):qEe(t)}var XEe=YEe,QEe=O1e,ZEe=$Ee,JEe=Ef,eTe=vr,tTe=XEe;function nTe(t){return typeof t=="function"?t:t==null?JEe:typeof t=="object"?eTe(t)?ZEe(t[0],t[1]):QEe(t):tTe(t)}var qs=nTe,rTe=yH,iTe=qs,sTe=U8,oTe=Math.max;function aTe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var s=n==null?0:sTe(n);return s<0&&(s=oTe(r+s,0)),rTe(t,iTe(e),s)}var lTe=aTe;const cTe=Ke(lTe);var uTe=Math.ceil,dTe=Math.max;function fTe(t,e,n,r){for(var s=-1,o=dTe(uTe((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++s]=t,t+=n;return a}var hTe=fTe,pTe=hTe,mTe=gf,M1=B8;function gTe(t){return function(e,n,r){return r&&typeof r!="number"&&mTe(e,n,r)&&(n=r=void 0),e=M1(e),n===void 0?(n=e,e=0):n=M1(n),r=r===void 0?e<n?1:-1:M1(r),pTe(e,n,r,t)}}var vTe=gTe,yTe=vTe,bTe=yTe(),wTe=bTe;const pm=Ke(wTe);var nL=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function _Te(t,e){return!!(t===e||nL(t)&&nL(e))}function xTe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!_Te(t[n],e[n]))return!1;return!0}function CH(t,e){e===void 0&&(e=xTe);var n=null;function r(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];if(n&&n.lastThis===this&&e(s,n.lastArgs))return n.lastResult;var a=t.apply(this,s);return n={lastResult:a,lastArgs:s,lastThis:this},a}return r.clear=function(){n=null},r}function IS(t,e){var n=cO(t);return n?n.innerWidth:e?t.clientWidth:Xl(t).width}var rL=pf,ETe=PO,TTe=vr,iL=rL?rL.isConcatSpreadable:void 0;function STe(t){return TTe(t)||ETe(t)||!!(iL&&t&&t[iL])}var CTe=STe,PTe=SO,ATe=CTe;function PH(t,e,n,r,s){var o=-1,a=t.length;for(n||(n=ATe),s||(s=[]);++o<a;){var l=t[o];e>0&&n(l)?e>1?PH(l,e-1,n,r,s):PTe(s,l):r||(s[s.length]=l)}return s}var RO=PH;function ITe(t){return function(e,n,r){for(var s=-1,o=Object(e),a=r(e),l=a.length;l--;){var c=a[t?l:++s];if(n(o[c],c,o)===!1)break}return e}}var OTe=ITe,kTe=OTe,NTe=kTe(),DTe=NTe,RTe=DTe,MTe=Dg;function jTe(t,e){return t&&RTe(t,e,MTe)}var MO=jTe,LTe=Ig;function $Te(t,e){return function(n,r){if(n==null)return n;if(!LTe(n))return t(n,r);for(var s=n.length,o=e?s:-1,a=Object(n);(e?o--:++o<s)&&r(a[o],o,a)!==!1;);return n}}var FTe=$Te,VTe=MO,BTe=FTe,UTe=BTe(VTe),jO=UTe,zTe=jO,WTe=Ig;function HTe(t,e){var n=-1,r=WTe(t)?Array(t.length):[];return zTe(t,function(s,o,a){r[++n]=e(s,o,a)}),r}var AH=HTe;function qTe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var GTe=qTe,sL=vf;function KTe(t,e){if(t!==e){var n=t!==void 0,r=t===null,s=t===t,o=sL(t),a=e!==void 0,l=e===null,c=e===e,u=sL(e);if(!l&&!u&&!o&&t>e||o&&a&&c&&!l&&!u||r&&a&&c||!n&&c||!s)return 1;if(!r&&!o&&!u&&t<e||u&&n&&s&&!r&&!o||l&&n&&s||!a&&s||!c)return-1}return 0}var YTe=KTe,XTe=YTe;function QTe(t,e,n){for(var r=-1,s=t.criteria,o=e.criteria,a=s.length,l=n.length;++r<a;){var c=XTe(s[r],o[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return t.index-e.index}var ZTe=QTe,j1=u_,JTe=f_,eSe=qs,tSe=AH,nSe=GTe,rSe=a_,iSe=ZTe,sSe=Ef,oSe=vr;function aSe(t,e,n){e.length?e=j1(e,function(o){return oSe(o)?function(a){return JTe(a,o.length===1?o[0]:o)}:o}):e=[sSe];var r=-1;e=j1(e,rSe(eSe));var s=tSe(t,function(o,a,l){var c=j1(e,function(u){return u(o)});return{criteria:c,index:++r,value:o}});return nSe(s,function(o,a){return iSe(o,a,n)})}var lSe=aSe;function cSe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var uSe=cSe,dSe=uSe,oL=Math.max;function fSe(t,e,n){return e=oL(e===void 0?t.length-1:e,0),function(){for(var r=arguments,s=-1,o=oL(r.length-e,0),a=Array(o);++s<o;)a[s]=r[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=r[s];return l[e]=n(a),dSe(t,this,l)}}var IH=fSe;function hSe(t){return function(){return t}}var pSe=hSe,mSe=Wc,gSe=function(){try{var t=mSe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),OH=gSe,vSe=pSe,aL=OH,ySe=Ef,bSe=aL?function(t,e){return aL(t,"toString",{configurable:!0,enumerable:!1,value:vSe(e),writable:!0})}:ySe,wSe=bSe,_Se=800,xSe=16,ESe=Date.now;function TSe(t){var e=0,n=0;return function(){var r=ESe(),s=xSe-(r-n);if(n=r,s>0){if(++e>=_Se)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var SSe=TSe,CSe=wSe,PSe=SSe,ASe=PSe(CSe),kH=ASe,ISe=Ef,OSe=IH,kSe=kH;function NSe(t,e){return kSe(OSe(t,e,ISe),t+"")}var NH=NSe,DSe=RO,RSe=lSe,MSe=NH,lL=gf,jSe=MSe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&lL(t,e[0],e[1])?e=[]:n>2&&lL(e[0],e[1],e[2])&&(e=[e[0]]),RSe(t,DSe(e,1),[])}),LSe=jSe;const h_=Ke(LSe);function DH(t){return w8(t)||L8(t)||rO(t)||_8()}function $Se(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var FSe=$Se,VSe=Li,BSe=OO,USe=FSe,zSe=Object.prototype,WSe=zSe.hasOwnProperty;function HSe(t){if(!VSe(t))return USe(t);var e=BSe(t),n=[];for(var r in t)r=="constructor"&&(e||!WSe.call(t,r))||n.push(r);return n}var qSe=HSe,GSe=dH,KSe=qSe,YSe=Ig;function XSe(t){return YSe(t)?GSe(t,!0):KSe(t)}var p_=XSe,QSe=NH,ZSe=Ag,JSe=gf,eCe=p_,RH=Object.prototype,tCe=RH.hasOwnProperty,nCe=QSe(function(t,e){t=Object(t);var n=-1,r=e.length,s=r>2?e[2]:void 0;for(s&&JSe(e[0],e[1],s)&&(r=1);++n<r;)for(var o=e[n],a=eCe(o),l=-1,c=a.length;++l<c;){var u=a[l],d=t[u];(d===void 0||ZSe(d,RH[u])&&!tCe.call(t,u))&&(t[u]=o[u])}return t}),rCe=nCe;const iCe=Ke(rCe);var cL=OH;function sCe(t,e,n){e=="__proto__"&&cL?cL(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var LO=sCe,oCe=LO,aCe=MO,lCe=qs;function cCe(t,e){var n={};return e=lCe(e),aCe(t,function(r,s,o){oCe(n,s,e(r,s,o))}),n}var uCe=cCe;const MH=Ke(uCe);function dCe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var jH=dCe,fCe=LO,hCe=Ag,pCe=Object.prototype,mCe=pCe.hasOwnProperty;function gCe(t,e,n){var r=t[e];(!(mCe.call(t,e)&&hCe(r,n))||n===void 0&&!(e in t))&&fCe(t,e,n)}var LH=gCe,vCe=LH,yCe=LO;function bCe(t,e,n,r){var s=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var l=e[o],c=r?r(n[l],t[l],l,n,t):void 0;c===void 0&&(c=t[l]),s?yCe(n,l,c):vCe(n,l,c)}return n}var Mg=bCe,wCe=Mg,_Ce=Dg;function xCe(t,e){return t&&wCe(e,_Ce(e),t)}var ECe=xCe,TCe=Mg,SCe=p_;function CCe(t,e){return t&&TCe(e,SCe(e),t)}var PCe=CCe,ab={exports:{}};ab.exports;(function(t,e){var n=cs,r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===r,a=o?n.Buffer:void 0,l=a?a.allocUnsafe:void 0;function c(u,d){if(d)return u.slice();var f=u.length,h=l?l(f):new u.constructor(f);return u.copy(h),h}t.exports=c})(ab,ab.exports);var ACe=ab.exports;function ICe(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var OCe=ICe,kCe=Mg,NCe=CO;function DCe(t,e){return kCe(t,NCe(t),e)}var RCe=DCe,MCe=fH,jCe=MCe(Object.getPrototypeOf,Object),m_=jCe,LCe=SO,$Ce=m_,FCe=CO,VCe=cH,BCe=Object.getOwnPropertySymbols,UCe=BCe?function(t){for(var e=[];t;)LCe(e,FCe(t)),t=$Ce(t);return e}:VCe,$H=UCe,zCe=Mg,WCe=$H;function HCe(t,e){return zCe(t,WCe(t),e)}var qCe=HCe,GCe=lH,KCe=$H,YCe=p_;function XCe(t){return GCe(t,YCe,KCe)}var FH=XCe,QCe=Object.prototype,ZCe=QCe.hasOwnProperty;function JCe(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&ZCe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var ePe=JCe,uL=aH;function tPe(t){var e=new t.constructor(t.byteLength);return new uL(e).set(new uL(t)),e}var $O=tPe,nPe=$O;function rPe(t,e){var n=e?nPe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var iPe=rPe,sPe=/\w*$/;function oPe(t){var e=new t.constructor(t.source,sPe.exec(t));return e.lastIndex=t.lastIndex,e}var aPe=oPe,dL=pf,fL=dL?dL.prototype:void 0,hL=fL?fL.valueOf:void 0;function lPe(t){return hL?Object(hL.call(t)):{}}var cPe=lPe,uPe=$O;function dPe(t,e){var n=e?uPe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var fPe=dPe,hPe=$O,pPe=iPe,mPe=aPe,gPe=cPe,vPe=fPe,yPe="[object Boolean]",bPe="[object Date]",wPe="[object Map]",_Pe="[object Number]",xPe="[object RegExp]",EPe="[object Set]",TPe="[object String]",SPe="[object Symbol]",CPe="[object ArrayBuffer]",PPe="[object DataView]",APe="[object Float32Array]",IPe="[object Float64Array]",OPe="[object Int8Array]",kPe="[object Int16Array]",NPe="[object Int32Array]",DPe="[object Uint8Array]",RPe="[object Uint8ClampedArray]",MPe="[object Uint16Array]",jPe="[object Uint32Array]";function LPe(t,e,n){var r=t.constructor;switch(e){case CPe:return hPe(t);case yPe:case bPe:return new r(+t);case PPe:return pPe(t,n);case APe:case IPe:case OPe:case kPe:case NPe:case DPe:case RPe:case MPe:case jPe:return vPe(t,n);case wPe:return new r;case _Pe:case TPe:return new r(t);case xPe:return mPe(t);case EPe:return new r;case SPe:return gPe(t)}}var $Pe=LPe,FPe=Li,pL=Object.create,VPe=function(){function t(){}return function(e){if(!FPe(e))return{};if(pL)return pL(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),VH=VPe,BPe=VH,UPe=m_,zPe=OO;function WPe(t){return typeof t.constructor=="function"&&!zPe(t)?BPe(UPe(t)):{}}var HPe=WPe,qPe=l_,GPe=us,KPe="[object Map]";function YPe(t){return GPe(t)&&qPe(t)==KPe}var XPe=YPe,QPe=XPe,ZPe=a_,mL=AO,gL=mL&&mL.isMap,JPe=gL?ZPe(gL):QPe,eAe=JPe,tAe=l_,nAe=us,rAe="[object Set]";function iAe(t){return nAe(t)&&tAe(t)==rAe}var sAe=iAe,oAe=sAe,aAe=a_,vL=AO,yL=vL&&vL.isSet,lAe=yL?aAe(yL):oAe,cAe=lAe,uAe=EO,dAe=jH,fAe=LH,hAe=ECe,pAe=PCe,mAe=ACe,gAe=OCe,vAe=RCe,yAe=qCe,bAe=hH,wAe=FH,_Ae=l_,xAe=ePe,EAe=$Pe,TAe=HPe,SAe=vr,CAe=o_,PAe=eAe,AAe=Li,IAe=cAe,OAe=Dg,kAe=p_,NAe=1,DAe=2,RAe=4,BH="[object Arguments]",MAe="[object Array]",jAe="[object Boolean]",LAe="[object Date]",$Ae="[object Error]",UH="[object Function]",FAe="[object GeneratorFunction]",VAe="[object Map]",BAe="[object Number]",zH="[object Object]",UAe="[object RegExp]",zAe="[object Set]",WAe="[object String]",HAe="[object Symbol]",qAe="[object WeakMap]",GAe="[object ArrayBuffer]",KAe="[object DataView]",YAe="[object Float32Array]",XAe="[object Float64Array]",QAe="[object Int8Array]",ZAe="[object Int16Array]",JAe="[object Int32Array]",eIe="[object Uint8Array]",tIe="[object Uint8ClampedArray]",nIe="[object Uint16Array]",rIe="[object Uint32Array]",Pt={};Pt[BH]=Pt[MAe]=Pt[GAe]=Pt[KAe]=Pt[jAe]=Pt[LAe]=Pt[YAe]=Pt[XAe]=Pt[QAe]=Pt[ZAe]=Pt[JAe]=Pt[VAe]=Pt[BAe]=Pt[zH]=Pt[UAe]=Pt[zAe]=Pt[WAe]=Pt[HAe]=Pt[eIe]=Pt[tIe]=Pt[nIe]=Pt[rIe]=!0;Pt[$Ae]=Pt[UH]=Pt[qAe]=!1;function Oy(t,e,n,r,s,o){var a,l=e&NAe,c=e&DAe,u=e&RAe;if(n&&(a=s?n(t,r,s,o):n(t)),a!==void 0)return a;if(!AAe(t))return t;var d=SAe(t);if(d){if(a=xAe(t),!l)return gAe(t,a)}else{var f=_Ae(t),h=f==UH||f==FAe;if(CAe(t))return mAe(t,l);if(f==zH||f==BH||h&&!s){if(a=c||h?{}:TAe(t),!l)return c?yAe(t,pAe(a,t)):vAe(t,hAe(a,t))}else{if(!Pt[f])return s?t:{};a=EAe(t,f,l)}}o||(o=new uAe);var p=o.get(t);if(p)return p;o.set(t,a),IAe(t)?t.forEach(function(b){a.add(Oy(b,e,n,b,t,o))}):PAe(t)&&t.forEach(function(b,y){a.set(y,Oy(b,e,n,y,t,o))});var v=u?c?wAe:bAe:c?kAe:OAe,g=d?void 0:v(t);return dAe(g||t,function(b,y){g&&(y=b,b=t[y]),fAe(a,y,Oy(b,e,n,y,t,o))}),a}var iIe=Oy;function sIe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var WH=sIe;const oIe=Ke(WH);var aIe=f_,lIe=oO;function cIe(t,e){return e.length<2?t:aIe(t,lIe(e,0,-1))}var uIe=cIe,dIe=d_,fIe=WH,hIe=uIe,pIe=Rg;function mIe(t,e){return e=dIe(e,t),t=hIe(t,e),t==null||delete t[pIe(fIe(e))]}var gIe=mIe,vIe=qo,yIe=m_,bIe=us,wIe="[object Object]",_Ie=Function.prototype,xIe=Object.prototype,HH=_Ie.toString,EIe=xIe.hasOwnProperty,TIe=HH.call(Object);function SIe(t){if(!bIe(t)||vIe(t)!=wIe)return!1;var e=yIe(t);if(e===null)return!0;var n=EIe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&HH.call(n)==TIe}var qH=SIe;const CIe=Ke(qH);var PIe=qH;function AIe(t){return PIe(t)?void 0:t}var IIe=AIe,OIe=RO;function kIe(t){var e=t==null?0:t.length;return e?OIe(t,1):[]}var NIe=kIe,DIe=NIe,RIe=IH,MIe=kH;function jIe(t){return MIe(RIe(t,void 0,DIe),t+"")}var LIe=jIe,$Ie=u_,FIe=iIe,VIe=gIe,BIe=d_,UIe=Mg,zIe=IIe,WIe=LIe,HIe=FH,qIe=1,GIe=2,KIe=4,YIe=WIe(function(t,e){var n={};if(t==null)return n;var r=!1;e=$Ie(e,function(o){return o=BIe(o,t),r||(r=o.length>1),o}),UIe(t,HIe(t),n),r&&(n=FIe(n,qIe|GIe|KIe,zIe));for(var s=e.length;s--;)VIe(n,e[s]);return n}),XIe=YIe;const QIe=Ke(XIe);var ZIe=jH,JIe=VH,eOe=MO,tOe=qs,nOe=m_,rOe=vr,iOe=o_,sOe=e_,oOe=Li,aOe=IO;function lOe(t,e,n){var r=rOe(t),s=r||iOe(t)||aOe(t);if(e=tOe(e),n==null){var o=t&&t.constructor;s?n=r?new o:[]:oOe(t)?n=sOe(o)?JIe(nOe(t)):{}:n={}}return(s?ZIe:eOe)(t,function(a,l,c){return e(n,a,l,c)}),n}var cOe=lOe;const uOe=Ke(cOe);var dOe={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(cn,function(){return function(n,r,s){r.prototype.isBetween=function(o,a,l,c){var u=s(o),d=s(a),f=(c=c||"()")[0]==="(",h=c[1]===")";return(f?this.isAfter(u,l):!this.isBefore(u,l))&&(h?this.isBefore(d,l):!this.isAfter(d,l))||(f?this.isBefore(u,l):!this.isAfter(u,l))&&(h?this.isAfter(d,l):!this.isBefore(d,l))}}})})(dOe);var fOe={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(cn,function(){return function(n,r){r.prototype.isSameOrAfter=function(s,o){return this.isSame(s,o)||this.isAfter(s,o)}}})})(fOe);var hOe={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(cn,function(){return function(n,r){r.prototype.isSameOrBefore=function(s,o){return this.isSame(s,o)||this.isBefore(s,o)}}})})(hOe);var pOe={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(cn,function(){return function(n,r,s){var o=r.prototype,a=function(f){return f&&(f.indexOf?f:f.s)},l=function(f,h,p,v,g){var b=f.name?f:f.$locale(),y=a(b[h]),x=a(b[p]),E=y||x.map(function(S){return S.slice(0,v)});if(!g)return E;var T=b.weekStart;return E.map(function(S,A){return E[(A+(T||0))%7]})},c=function(){return s.Ls[s.locale()]},u=function(f,h){return f.formats[h]||function(p){return p.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,g,b){return g||b.slice(1)})}(f.formats[h.toUpperCase()])},d=function(){var f=this;return{months:function(h){return h?h.format("MMMM"):l(f,"months")},monthsShort:function(h){return h?h.format("MMM"):l(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):l(f,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):l(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):l(f,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return u(f.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return d.bind(this)()},s.localeData=function(){var f=c();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return s.weekdays()},weekdaysShort:function(){return s.weekdaysShort()},weekdaysMin:function(){return s.weekdaysMin()},months:function(){return s.months()},monthsShort:function(){return s.monthsShort()},longDateFormat:function(h){return u(f,h)},meridiem:f.meridiem,ordinal:f.ordinal}},s.months=function(){return l(c(),"months")},s.monthsShort=function(){return l(c(),"monthsShort","months",3)},s.weekdays=function(f){return l(c(),"weekdays",null,null,f)},s.weekdaysShort=function(f){return l(c(),"weekdaysShort","weekdays",3,f)},s.weekdaysMin=function(f){return l(c(),"weekdaysMin","weekdays",2,f)}}})})(pOe);var mOe={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(cn,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,s,o){var a=s.prototype,l=a.format;o.en.formats=n,a.format=function(c){c===void 0&&(c="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,d=function(f,h){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(p,v,g){var b=g&&g.toUpperCase();return v||h[g]||n[g]||h[b].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(y,x,E){return x||E.slice(1)})})}(c,u===void 0?{}:u);return l.call(this,d)}}})})(mOe);var gOe={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(cn,function(){return function(n,r,s){var o=function(a,l){if(!l||!l.length||l.length===1&&!l[0]||l.length===1&&Array.isArray(l[0])&&!l[0].length)return null;var c;l.length===1&&l[0].length>0&&(l=l[0]),c=(l=l.filter(function(d){return d}))[0];for(var u=1;u<l.length;u+=1)l[u].isValid()&&!l[u][a](c)||(c=l[u]);return c};s.max=function(){var a=[].slice.call(arguments,0);return o("isAfter",a)},s.min=function(){var a=[].slice.call(arguments,0);return o("isBefore",a)}}})})(gOe);var vOe={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(cn,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,s=/([+-]|\d\d)/g;return function(o,a,l){var c=a.prototype;l.utc=function(g){var b={date:g,utc:!0,args:arguments};return new a(b)},c.utc=function(g){var b=l(this.toDate(),{locale:this.$L,utc:!0});return g?b.add(this.utcOffset(),n):b},c.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var u=c.parse;c.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),u.call(this,g)};var d=c.init;c.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else d.call(this)};var f=c.utcOffset;c.utcOffset=function(g,b){var y=this.$utils().u;if(y(g))return this.$u?0:y(this.$offset)?f.call(this):this.$offset;if(typeof g=="string"&&(g=function(S){S===void 0&&(S="");var A=S.match(r);if(!A)return null;var C=(""+A[0]).match(s)||["-",0,0],P=C[0],I=60*+C[1]+ +C[2];return I===0?0:P==="+"?I:-I}(g),g===null))return this;var x=Math.abs(g)<=16?60*g:g,E=this;if(b)return E.$offset=x,E.$u=g===0,E;if(g!==0){var T=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(E=this.local().add(x+T,n)).$offset=x,E.$x.$localOffset=T}else E=this.utc();return E};var h=c.format;c.format=function(g){var b=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,b)},c.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*g},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var p=c.toDate;c.toDate=function(g){return g==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var v=c.diff;c.diff=function(g,b,y){if(g&&this.$u===g.$u)return v.call(this,g,b,y);var x=this.local(),E=l(g).local();return v.call(x,E,b,y)}}})})(vOe);var yOe={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(cn,function(){return function(n,r){r.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(yOe);function _s(t){return t.children}var Wr={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},xr={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},bL=Object.keys(xr).map(function(t){return xr[t]});fe.oneOfType([fe.string,fe.func]);fe.any;fe.func;fe.oneOfType([fe.arrayOf(fe.oneOf(bL)),fe.objectOf(function(t,e){var n=bL.indexOf(e)!==-1&&typeof t[e]=="boolean";if(n)return null;for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];return fe.elementType.apply(fe,[t,e].concat(s))})]);fe.oneOfType([fe.oneOf(["overlap","no-overlap"]),fe.func]);var wL={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function GH(t,e){var n=er(t,"month");return er(n,"week",e.startOfWeek())}function KH(t,e){var n=tb(t,"month");return tb(n,"week",e.startOfWeek())}function bOe(t,e){for(var n=GH(t,e),r=KH(t,e),s=[];ff(n,r,"day");)s.push(n),n=as(n,1,"day");return s}function wOe(t,e){var n=er(t,e);return df(n,t)?n:as(n,1,e)}function _Oe(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=t,s=[];ff(r,e,n);)s.push(r),r=as(r,1,n);return s}function xOe(t,e){return e==null&&t==null?null:(e==null&&(e=new Date),t==null&&(t=new Date),t=er(t,"day"),t=um(t,um(e)),t=xd(t,xd(e)),t=cm(t,cm(e)),lm(t,lm(e)))}function _L(t){return um(t)===0&&xd(t)===0&&cm(t)===0&&lm(t)===0}function EOe(t,e,n,r){return n==="day"&&(n="date"),Math.abs(rj[n](t,void 0,r)-rj[n](e,void 0,r))}function FO(t,e,n){return!n||n==="milliseconds"?Math.abs(+t-+e):Math.round(Math.abs(+er(t,n)/wL[n]-+er(e,n)/wL[n]))}var TOe=fe.oneOfType([fe.string,fe.func]);function SOe(t,e,n,r,s){var o=typeof r=="function"?r(n,s,t):e.call(t,n,r,s);return nm(o==null||typeof o=="string","`localizer format(..)` must return a string, null, or undefined"),o}function COe(t,e,n){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,e+n,0,0)}function VO(t,e){return t.getTimezoneOffset()-e.getTimezoneOffset()}function POe(t,e){return FO(t,e,"minutes")+VO(t,e)}function AOe(t){var e=er(t,"day");return FO(e,t,"minutes")+VO(e,t)}function IOe(t,e){return sO(t,e,"day")}function OOe(t,e,n){var r=df(t,e,"minutes");return r?Pg(e,n,"minutes"):Jw(e,n,"minutes")}function OS(t,e){return EOe(t,e,"day")}function kOe(t){var e=t.evtA,n=e.start,r=e.end,s=e.allDay,o=t.evtB,a=o.start,l=o.end,c=o.allDay,u=+er(n,"day")-+er(a,"day"),d=OS(n,r),f=OS(a,l);return u||f-d||!!c-!!s||+n-+a||+r-+l}function NOe(t){var e=t.event,n=e.start,r=e.end,s=t.range,o=s.start,a=s.end,l=er(n,"day"),c=ff(l,a,"day"),u=iO(l,r,"minutes"),d=u?Jw(r,o,"minutes"):Pg(r,o,"minutes");return c&&d}function DOe(t,e){return df(t,e,"day")}function ROe(t,e){return _L(t)&&_L(e)}var MOe=kn(function t(e){var n=this;On(this,t),nm(typeof e.format=="function","date localizer `format(..)` must be a function"),nm(typeof e.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=e.propType||TOe,this.formats=e.formats,this.format=function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return SOe.apply(void 0,[n,e.format].concat(s))},this.startOfWeek=e.firstOfWeek,this.merge=e.merge||xOe,this.inRange=e.inRange||D8,this.lt=e.lt||sO,this.lte=e.lte||ff,this.gt=e.gt||Jw,this.gte=e.gte||Pg,this.eq=e.eq||df,this.neq=e.neq||iO,this.startOf=e.startOf||er,this.endOf=e.endOf||tb,this.add=e.add||as,this.range=e.range||_Oe,this.diff=e.diff||FO,this.ceil=e.ceil||wOe,this.min=e.min||k8,this.max=e.max||N8,this.minutes=e.minutes||xd,this.daySpan=e.daySpan||OS,this.firstVisibleDay=e.firstVisibleDay||GH,this.lastVisibleDay=e.lastVisibleDay||KH,this.visibleDays=e.visibleDays||bOe,this.getSlotDate=e.getSlotDate||COe,this.getTimezoneOffset=e.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=e.getDstOffset||VO,this.getTotalMin=e.getTotalMin||POe,this.getMinutesFromMidnight=e.getMinutesFromMidnight||AOe,this.continuesPrior=e.continuesPrior||IOe,this.continuesAfter=e.continuesAfter||OOe,this.sortEvents=e.sortEvents||kOe,this.inEventRange=e.inEventRange||NOe,this.isSameDate=e.isSameDate||DOe,this.startAndEndAreDateOnly=e.startAndEndAreDateOnly||ROe,this.segmentOffset=e.browserTZOffset?e.browserTZOffset():0});function jOe(t,e,n,r){var s=Et(Et({},t.formats),n);return Et(Et({},t),{},{messages:r,startOfWeek:function(){return t.startOfWeek(e)},format:function(a,l){return t.format(a,s[l]||l,e)}})}var LOe=function(t){function e(){var n;On(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=mr(this,e,[].concat(s)),n.navigate=function(a){n.props.onNavigate(a)},n.view=function(a){n.props.onView(a)},n}return gr(e,t),kn(e,[{key:"render",value:function(){var r=this.props,s=r.localizer.messages,o=r.label;return L.createElement("div",{className:"rbc-toolbar"},L.createElement("span",{className:"rbc-btn-group"},L.createElement("button",{type:"button",onClick:this.navigate.bind(null,Wr.TODAY)},s.today),L.createElement("button",{type:"button",onClick:this.navigate.bind(null,Wr.PREVIOUS)},s.previous),L.createElement("button",{type:"button",onClick:this.navigate.bind(null,Wr.NEXT)},s.next)),L.createElement("span",{className:"rbc-toolbar-label"},o),L.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(s)))}},{key:"viewNamesGroup",value:function(r){var s=this,o=this.props.views,a=this.props.view;if(o.length>1)return o.map(function(l){return L.createElement("button",{type:"button",key:l,className:sn({"rbc-active":a===l}),onClick:s.view.bind(null,l)},r[l])})}}])}(L.Component);function Ft(t,e){t&&t.apply(null,[].concat(e))}var $Oe={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function FOe(t){return Et(Et({},$Oe),t)}function VOe(t){var e=t.ref,n=t.callback;F.useEffect(function(){var r=function(o){e.current&&!e.current.contains(o.target)&&n()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[e,n])}var BOe=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],YH=function(t){function e(){return On(this,e),mr(this,e,arguments)}return gr(e,t),kn(e,[{key:"render",value:function(){var r=this.props,s=r.style,o=r.className,a=r.event,l=r.selected,c=r.isAllDay,u=r.onSelect,d=r.onDoubleClick,f=r.onKeyPress,h=r.localizer,p=r.continuesPrior,v=r.continuesAfter,g=r.accessors,b=r.getters,y=r.children,x=r.components,E=x.event,T=x.eventWrapper,S=r.slotStart,A=r.slotEnd,C=Ws(r,BOe);delete C.resizable;var P=g.title(a),I=g.tooltip(a),R=g.end(a),j=g.start(a),O=g.allDay(a),D=c||O||h.diff(j,h.ceil(R,"day"),"day")>1,N=b.eventProp(a,j,R,l),U=L.createElement("div",{className:"rbc-event-content",title:I||void 0},E?L.createElement(E,{event:a,continuesPrior:p,continuesAfter:v,title:P,isAllDay:O,localizer:h,slotStart:S,slotEnd:A}):P);return L.createElement(T,Object.assign({},this.props,{type:"date"}),L.createElement("div",Object.assign({},C,{style:Et(Et({},N.style),s),className:sn("rbc-event",o,N.className,{"rbc-selected":l,"rbc-event-allday":D,"rbc-event-continues-prior":p,"rbc-event-continues-after":v}),onClick:function(q){return u&&u(a,q)},onDoubleClick:function(q){return d&&d(a,q)},onKeyDown:function(q){return f&&f(a,q)}}),typeof y=="function"?y(U):U))}}])}(L.Component);function g_(t,e){return!t||e==null?!1:c_(t,e)}function XH(t,e){var n=t.right-t.left,r=n/e;return r}function QH(t,e,n,r){var s=XH(t,r);return n?r-1-Math.floor((e-t.left)/s):Math.floor((e-t.left)/s)}function UOe(t,e){var n=e.x,r=e.y;return r>=t.top&&r<=t.bottom&&n>=t.left&&n<=t.right}function zOe(t,e,n,r,s){var o=-1,a=-1,l=r-1,c=XH(e,r),u=QH(e,n.x,s,r),d=e.top<n.y&&e.bottom>n.y,f=e.top<t.y&&e.bottom>t.y,h=t.y>e.bottom,p=e.top>t.y,v=n.top<e.top&&n.bottom>e.bottom;return v&&(o=0,a=l),d&&(p?(o=0,a=u):h&&(o=u,a=l)),f&&(o=a=s?l-Math.floor((t.x-e.left)/c):Math.floor((t.x-e.left)/c),d?u<o?o=u:a=u:t.y<n.y?a=l:o=0),{startIdx:o,endIdx:a}}function WOe(t){var e=t.target,n=t.offset,r=t.container,s=t.box,o=Xl(e),a=o.top,l=o.left,c=o.width,u=o.height,d=Xl(r),f=d.top,h=d.left,p=d.width,v=d.height,g=Xl(s),b=g.width,y=g.height,x=f+v,E=h+p,T=a+y,S=l+b,A=n.x,C=n.y,P=T>x?a-y-C:a+C+u,I=S>E?l+A-b+c:l+A;return{topOffset:P,leftOffset:I}}function HOe(t){var e=t.containerRef,n=t.accessors,r=t.getters,s=t.selected,o=t.components,a=t.localizer,l=t.position,c=t.show,u=t.events,d=t.slotStart,f=t.slotEnd,h=t.onSelect,p=t.onDoubleClick,v=t.onKeyPress,g=t.handleDragStart,b=t.popperRef,y=t.target,x=t.offset;VOe({ref:b,callback:c}),F.useLayoutEffect(function(){var S=WOe({target:y,offset:x,container:e.current,box:b.current}),A=S.topOffset,C=S.leftOffset;b.current.style.top="".concat(A,"px"),b.current.style.left="".concat(C,"px")},[x.x,x.y,y]);var E=l.width,T={minWidth:E+E/2};return L.createElement("div",{style:T,className:"rbc-overlay",ref:b},L.createElement("div",{className:"rbc-overlay-header"},a.format(d,"dayHeaderFormat")),u.map(function(S,A){return L.createElement(YH,{key:A,type:"popup",localizer:a,event:S,getters:r,onSelect:h,accessors:n,components:o,onDoubleClick:p,onKeyPress:v,continuesPrior:a.lt(n.end(S),d,"day"),continuesAfter:a.gte(n.start(S),f,"day"),slotStart:d,slotEnd:f,selected:g_(S,s),draggable:!0,onDragStart:function(){return g(S)},onDragEnd:function(){return c()}})}))}var ZH=L.forwardRef(function(t,e){return L.createElement(HOe,Object.assign({},t,{popperRef:e}))});ZH.propTypes={accessors:fe.object.isRequired,getters:fe.object.isRequired,selected:fe.object,components:fe.object.isRequired,localizer:fe.object.isRequired,position:fe.object.isRequired,show:fe.func.isRequired,events:fe.array.isRequired,slotStart:fe.instanceOf(Date).isRequired,slotEnd:fe.instanceOf(Date),onSelect:fe.func,onDoubleClick:fe.func,onKeyPress:fe.func,handleDragStart:fe.func,style:fe.object,offset:fe.shape({x:fe.number,y:fe.number})};function qOe(t){var e=t.containerRef,n=t.popupOffset,r=n===void 0?5:n,s=t.overlay,o=t.accessors,a=t.localizer,l=t.components,c=t.getters,u=t.selected,d=t.handleSelectEvent,f=t.handleDoubleClickEvent,h=t.handleKeyPressEvent,p=t.handleDragStart,v=t.onHide,g=t.overlayDisplay,b=F.useRef(null);if(!s.position)return null;var y=r;isNaN(r)||(y={x:r,y:r});var x=s.position,E=s.events,T=s.date,S=s.end;return L.createElement(Wye,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:v,target:s.target},function(A){var C=A.props;return L.createElement(ZH,Object.assign({},C,{containerRef:e,ref:b,target:s.target,offset:y,accessors:o,getters:c,selected:u,components:l,localizer:a,position:x,show:g,events:E,slotStart:T,slotEnd:S,onSelect:d,onDoubleClick:f,onKeyPress:h,handleDragStart:p}))})}var BO=L.forwardRef(function(t,e){return L.createElement(qOe,Object.assign({},t,{containerRef:e}))});BO.propTypes={popupOffset:fe.oneOfType([fe.number,fe.shape({x:fe.number,y:fe.number})]),overlay:fe.shape({position:fe.object,events:fe.array,date:fe.instanceOf(Date),end:fe.instanceOf(Date)}),accessors:fe.object.isRequired,localizer:fe.object.isRequired,components:fe.object.isRequired,getters:fe.object.isRequired,selected:fe.object,handleSelectEvent:fe.func,handleDoubleClickEvent:fe.func,handleKeyPressEvent:fe.func,handleDragStart:fe.func,onHide:fe.func,overlayDisplay:fe.func};function or(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Oh(n,t,e,{passive:!1})}function GOe(t,e,n){return!t||dm(t,document.elementFromPoint(e,n))}function KOe(t,e){var n=e.clientX,r=e.clientY,s=document.elementFromPoint(n,r);return vH(s,".rbc-event",t)}function YOe(t,e){var n=e.clientX,r=e.clientY,s=document.elementFromPoint(n,r);return vH(s,".rbc-show-more",t)}function lb(t,e){return!!KOe(t,e)}function XOe(t,e){return!!YOe(t,e)}function uh(t){var e=t;return t.touches&&t.touches.length&&(e=t.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var xL=5,QOe=250,JH=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.global,s=r===void 0?!1:r,o=n.longPressThreshold,a=o===void 0?250:o,l=n.validContainers,c=l===void 0?[]:l;On(this,t),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=e,this.globalMouse=!e||s,this.longPressThreshold=a,this.validContainers=c,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=or("touchmove",function(){},window),this._removeKeyDownListener=or("keydown",this._keyListener),this._removeKeyUpListener=or("keyup",this._keyListener),this._removeDropFromOutsideListener=or("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=or("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return kn(t,[{key:"on",value:function(n,r){var s=this._listeners[n]||(this._listeners[n]=[]);return s.push(r),{remove:function(){var a=s.indexOf(r);a!==-1&&s.splice(a,1)}}}},{key:"emit",value:function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];var a,l=this._listeners[n]||[];return l.forEach(function(c){a===void 0&&(a=c.apply(void 0,s))}),a}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(n){var r=this._selectRect;return!r||!this.selecting?!1:EL(r,Ac(n))}},{key:"filter",value:function(n){var r=this._selectRect;return!r||!this.selecting?[]:n.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(n,r){var s=this,o=null,a=null,l=null,c=function(h){o=setTimeout(function(){d(),n(h)},s.longPressThreshold),a=or("touchmove",function(){return d()}),l=or("touchend",function(){return d()})},u=or("touchstart",c),d=function(){o&&clearTimeout(o),a&&a(),l&&l(),o=null,a=null,l=null};return r&&c(r),function(){d(),u()}}},{key:"_addInitialEventListener",value:function(){var n=this,r=or("mousedown",function(o){n._removeInitialEventListener(),n._handleInitialEvent(o),n._removeInitialEventListener=or("mousedown",n._handleInitialEvent)}),s=or("touchstart",function(o){n._removeInitialEventListener(),n._removeInitialEventListener=n._addLongPressListener(n._handleInitialEvent,o)});this._removeInitialEventListener=function(){r(),s()}}},{key:"_dropFromOutsideListener",value:function(n){var r=uh(n),s=r.pageX,o=r.pageY,a=r.clientX,l=r.clientY;this.emit("dropFromOutside",{x:s,y:o,clientX:a,clientY:l}),n.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(n){var r=uh(n),s=r.pageX,o=r.pageY,a=r.clientX,l=r.clientY;this.emit("dragOverFromOutside",{x:s,y:o,clientX:a,clientY:l}),n.preventDefault()}},{key:"_handleInitialEvent",value:function(n){if(this._initialEvent=n,!this.isDetached){var r=uh(n),s=r.clientX,o=r.clientY,a=r.pageX,l=r.pageY,c=this.container(),u,d;if(!(n.which===3||n.button===2||!GOe(c,s,o))){if(!this.globalMouse&&c&&!dm(c,n.target)){var f=ZOe(0),h=f.top,p=f.left,v=f.bottom,g=f.right;if(d=Ac(c),u=EL({top:d.top-h,left:d.left-p,bottom:d.bottom+v,right:d.right+g},{top:l,left:a}),!u)return}var b=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(n.type),x:a,y:l,clientX:s,clientY:o});if(b!==!1)switch(n.type){case"mousedown":this._removeEndListener=or("mouseup",this._handleTerminatingEvent),this._onEscListener=or("keydown",this._handleTerminatingEvent),this._removeMoveListener=or("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(n),this._removeEndListener=or("touchend",this._handleTerminatingEvent),this._removeMoveListener=or("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(n){var r=n.target,s=this.validContainers;return!s||!s.length||!r?!0:s.some(function(o){return!!r.closest(o)})}},{key:"_handleTerminatingEvent",value:function(n){var r=this.selecting,s=this._selectRect;if(!r&&n.type.includes("key")&&(n=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!n){var o=!this.container||dm(this.container(),n.target),a=this._isWithinValidContainer(n);return n.key==="Escape"||!a?this.emit("reset"):!r&&o?this._handleClickEvent(n):r?this.emit("select",s):this.emit("reset")}}},{key:"_handleClickEvent",value:function(n){var r=uh(n),s=r.pageX,o=r.pageY,a=r.clientX,l=r.clientY,c=new Date().getTime();return this._lastClickData&&c-this._lastClickData.timestamp<QOe?(this._lastClickData=null,this.emit("doubleClick",{x:s,y:o,clientX:a,clientY:l})):(this._lastClickData={timestamp:c},this.emit("click",{x:s,y:o,clientX:a,clientY:l}))}},{key:"_handleMoveEvent",value:function(n){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,s=r.x,o=r.y,a=uh(n),l=a.pageX,c=a.pageY,u=Math.abs(s-l),d=Math.abs(o-c),f=Math.min(l,s),h=Math.min(c,o),p=this.selecting,v=this.isClick(l,c);v&&!p&&!(u||d)||(!p&&!v&&this.emit("selectStart",this._initialEventData),v||(this.selecting=!0,this._selectRect={top:h,left:f,x:l,y:c,right:f+u,bottom:h+d},this.emit("selecting",this._selectRect)),n.preventDefault())}}},{key:"_keyListener",value:function(n){this.ctrl=n.metaKey||n.ctrlKey}},{key:"isClick",value:function(n,r){var s=this._initialEventData,o=s.x,a=s.y,l=s.isTouch;return!l&&Math.abs(n-o)<=xL&&Math.abs(r-a)<=xL}}])}();function ZOe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Mo(t)!=="object"&&(t={top:t,left:t,right:t,bottom:t}),t}function EL(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Ac(t),s=r.top,o=r.left,a=r.right,l=a===void 0?o:a,c=r.bottom,u=c===void 0?s:c,d=Ac(e),f=d.top,h=d.left,p=d.right,v=p===void 0?h:p,g=d.bottom,b=g===void 0?f:g;return!(u-n<f||s+n>b||l-n<h||o+n>v)}function Ac(t){if(!t.getBoundingClientRect)return t;var e=t.getBoundingClientRect(),n=e.left+TL("left"),r=e.top+TL("top");return{top:r,left:n,right:(t.offsetWidth||0)+n,bottom:(t.offsetHeight||0)+r}}function TL(t){if(t==="left")return window.pageXOffset||document.body.scrollLeft||0;if(t==="top")return window.pageYOffset||document.body.scrollTop||0}var JOe=function(t){function e(n,r){var s;return On(this,e),s=mr(this,e,[n,r]),s.state={selecting:!1},s.containerRef=F.createRef(),s}return gr(e,t),kn(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,s=r.range,o=r.getNow,a=r.getters,l=r.date,c=r.components.dateCellWrapper,u=r.localizer,d=this.state,f=d.selecting,h=d.startIdx,p=d.endIdx,v=o();return L.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},s.map(function(g,b){var y=f&&b>=h&&b<=p,x=a.dayProp(g),E=x.className,T=x.style;return L.createElement(c,{key:b,value:g,range:s},L.createElement("div",{style:T,className:sn("rbc-day-bg",E,y&&"rbc-selected-cell",u.isSameDate(g,v)&&"rbc-today",l&&u.neq(l,g,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,s=this.containerRef.current,o=this._selector=new JH(this.props.container,{longPressThreshold:this.props.longPressThreshold}),a=function(c,u){if(!lb(s,c)&&!XOe(s,c)){var d=Ac(s),f=r.props,h=f.range,p=f.rtl;if(UOe(d,c)){var v=QH(d,c.x,p,h.length);r._selectSlot({startIdx:v,endIdx:v,action:u,box:c})}}r._initial={},r.setState({selecting:!1})};o.on("selecting",function(l){var c=r.props,u=c.range,d=c.rtl,f=-1,h=-1;if(r.state.selecting||(Ft(r.props.onSelectStart,[l]),r._initial={x:l.x,y:l.y}),o.isSelected(s)){var p=Ac(s),v=zOe(r._initial,p,l,u.length,d);f=v.startIdx,h=v.endIdx}r.setState({selecting:!0,startIdx:f,endIdx:h})}),o.on("beforeSelect",function(l){if(r.props.selectable==="ignoreEvents")return!lb(r.containerRef.current,l)}),o.on("click",function(l){return a(l,"click")}),o.on("doubleClick",function(l){return a(l,"doubleClick")}),o.on("select",function(l){r._selectSlot(Et(Et({},r.state),{},{action:"select",bounds:l})),r._initial={},r.setState({selecting:!1}),Ft(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var s=r.endIdx,o=r.startIdx,a=r.action,l=r.bounds,c=r.box;s!==-1&&o!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:o,end:s,action:a,bounds:l,box:c,resourceId:this.props.resourceId})}}])}(L.Component),wi={propTypes:{slotMetrics:fe.object.isRequired,selected:fe.object,isAllDay:fe.bool,accessors:fe.object.isRequired,localizer:fe.object.isRequired,components:fe.object.isRequired,getters:fe.object.isRequired,onSelect:fe.func,onDoubleClick:fe.func,onKeyPress:fe.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,n){var r=e.selected;e.isAllDay;var s=e.accessors,o=e.getters,a=e.onSelect,l=e.onDoubleClick,c=e.onKeyPress,u=e.localizer,d=e.slotMetrics,f=e.components,h=e.resizable,p=d.continuesPrior(n),v=d.continuesAfter(n);return L.createElement(YH,{event:n,getters:o,localizer:u,accessors:s,components:f,onSelect:a,onDoubleClick:l,onKeyPress:c,continuesPrior:p,continuesAfter:v,slotStart:d.first,slotEnd:d.last,selected:g_(n,r),resizable:h})},renderSpan:function(e,n,r){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",o=Math.abs(n)/e*100+"%";return L.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:o,flexBasis:o,maxWidth:o}},s)}},e9=function(t){function e(){return On(this,e),mr(this,e,arguments)}return gr(e,t),kn(e,[{key:"render",value:function(){var r=this,s=this.props,o=s.segments,a=s.slotMetrics.slots,l=s.className,c=1;return L.createElement("div",{className:sn(l,"rbc-row")},o.reduce(function(u,d,f){var h=d.event,p=d.left,v=d.right,g=d.span,b="_lvl_"+f,y=p-c,x=wi.renderEvent(r.props,h);return y&&u.push(wi.renderSpan(a,y,"".concat(b,"_gap"))),u.push(wi.renderSpan(a,g,b,x)),c=v+1,u},[]))}}])}(L.Component);e9.defaultProps=Et({},wi.defaultProps);function t9(t){var e=t.dateRange,n=t.unit,r=n===void 0?"day":n,s=t.localizer;return{first:e[0],last:s.add(e[e.length-1],1,r)}}function eke(t,e,n,r){var s=t9({dateRange:e,localizer:r}),o=s.first,a=s.last,l=r.diff(o,a,"day"),c=r.max(r.startOf(n.start(t),"day"),o),u=r.min(r.ceil(n.end(t),"day"),a),d=cTe(e,function(h){return r.isSameDate(h,c)}),f=r.diff(c,u,"day");return f=Math.min(f,l),f=Math.max(f-r.segmentOffset,1),{event:t,span:f,left:d+1,right:Math.max(d+f,1)}}function kS(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,n,r,s,o=[],a=[];for(n=0;n<t.length;n++){for(s=t[n],r=0;r<o.length&&tke(s,o[r]);r++);r>=e?a.push(s):(o[r]||(o[r]=[])).push(s)}for(n=0;n<o.length;n++)o[n].sort(function(l,c){return l.left-c.left});return{levels:o,extra:a}}function mm(t,e,n,r,s){var o={start:r.start(t),end:r.end(t)},a={start:e,end:n};return s.inEventRange({event:o,range:a})}function tke(t,e){return e.some(function(n){return n.left<=t.right&&n.right>=t.left})}function nke(t,e,n){var r=Ay(t),s=[],o=[];r.forEach(function(c){var u=e.start(c),d=e.end(c);n.daySpan(u,d)>1?s.push(c):o.push(c)});var a=s.sort(function(c,u){return NS(c,u,e,n)}),l=o.sort(function(c,u){return NS(c,u,e,n)});return[].concat(Ay(a),Ay(l))}function NS(t,e,n,r){var s={start:n.start(t),end:n.end(t),allDay:n.allDay(t)},o={start:n.start(e),end:n.end(e),allDay:n.allDay(e)};return r.sortEvents({evtA:s,evtB:o})}var DS=function(e,n){return e.left<=n&&e.right>=n},L1=function(e,n){return e.filter(function(r){return DS(r,n)}).map(function(r){return r.event})},n9=function(t){function e(){return On(this,e),mr(this,e,arguments)}return gr(e,t),kn(e,[{key:"render",value:function(){for(var r=this.props,s=r.segments,o=r.slotMetrics.slots,a=kS(s).levels[0],l=1,c=1,u=[];l<=o;){var d="_lvl_"+l,f=a.filter(function(T){return DS(T,l)})[0]||{},h=f.event,p=f.left,v=f.right,g=f.span;if(!h){var b=this.getHiddenEventsForSlot(s,l);if(b.length>0){var y=l-c;y&&u.push(wi.renderSpan(o,y,d+"_gap")),u.push(wi.renderSpan(o,1,d,this.renderShowMore(s,l))),c=l=l+1;continue}l++;continue}var x=Math.max(0,p-c);if(this.canRenderSlotEvent(p,g)){var E=wi.renderEvent(this.props,h);x&&u.push(wi.renderSpan(o,x,d+"_gap")),u.push(wi.renderSpan(o,g,d,E)),c=l=v+1}else x&&u.push(wi.renderSpan(o,x,d+"_gap")),u.push(wi.renderSpan(o,1,d,this.renderShowMore(s,l))),c=l=l+1}return L.createElement("div",{className:"rbc-row"},u)}},{key:"getHiddenEventsForSlot",value:function(r,s){var o=L1(r,s),a=kS(r).levels[0],l=a.filter(function(c){return DS(c,s)}).map(function(c){return c.event});return o.filter(function(c){return!l.some(function(u){return u===c})})}},{key:"canRenderSlotEvent",value:function(r,s){var o=this.props.segments;return pm(r,r+s).every(function(a){var l=L1(o,a).length;return l===1})}},{key:"renderShowMore",value:function(r,s){var o=this,a=this.props,l=a.localizer,c=a.slotMetrics,u=a.components,d=c.getEventsForSlot(s),f=L1(r,s),h=f.length;if(u!=null&&u.showMore){var p=u.showMore,v=c.getDateForSlot(s-1);return h?L.createElement(p,{localizer:l,slotDate:v,slot:s,count:h,events:d,remainingEvents:f}):!1}return h?L.createElement("button",{type:"button",key:"sm_"+s,className:sn("rbc-button-link","rbc-show-more"),onClick:function(b){return o.showMore(s,b)}},l.messages.showMore(h,f,d)):!1}},{key:"showMore",value:function(r,s){s.preventDefault(),s.stopPropagation(),this.props.onShowMore(r,s.target)}}])}(L.Component);n9.defaultProps=Et({},wi.defaultProps);var rke=function(e){var n=e.children;return L.createElement("div",{className:"rbc-row-content-scroll-container"},n)},ike=function(e,n){return e.left<=n&&e.right>=n},ske=function(e,n){return e[0].range===n[0].range&&e[0].events===n[0].events};function r9(){return CH(function(t){for(var e=t.range,n=t.events,r=t.maxRows,s=t.minRows,o=t.accessors,a=t.localizer,l=t9({dateRange:e,localizer:a}),c=l.first,u=l.last,d=n.map(function(g){return eke(g,e,o,a)}),f=kS(d,Math.max(r-1,1)),h=f.levels,p=f.extra,v=p.length>0?s-1:s;h.length<v;)h.push([]);return{first:c,last:u,levels:h,extra:p,range:e,slots:e.length,clone:function(b){var y=r9();return y(Et(Et({},t),b))},getDateForSlot:function(b){return e[b]},getSlotForDate:function(b){return e.find(function(y){return a.isSameDate(y,b)})},getEventsForSlot:function(b){return d.filter(function(y){return ike(y,b)}).map(function(y){return y.event})},continuesPrior:function(b){return a.continuesPrior(o.start(b),c)},continuesAfter:function(b){var y=o.start(b),x=o.end(b);return a.continuesAfter(y,x,u)}}},ske)}var gm=function(t){function e(){var n;On(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=mr(this,e,[].concat(s)),n.handleSelectSlot=function(a){var l=n.props,c=l.range,u=l.onSelectSlot;u(c.slice(a.start,a.end+1),a)},n.handleShowMore=function(a,l){var c=n.props,u=c.range,d=c.onShowMore,f=n.slotMetrics(n.props),h=mve(n.containerRef.current,".rbc-row-bg")[0],p;h&&(p=h.children[a-1]);var v=f.getEventsForSlot(a);d(v,u[a-1],p,a,l)},n.getContainer=function(){var a=n.props.container;return a?a():n.containerRef.current},n.renderHeadingCell=function(a,l){var c=n.props,u=c.renderHeader,d=c.getNow,f=c.localizer;return u({date:a,key:"header_".concat(l),className:sn("rbc-date-cell",f.isSameDate(a,d())&&"rbc-now")})},n.renderDummy=function(){var a=n.props,l=a.className,c=a.range,u=a.renderHeader,d=a.showAllEvents;return L.createElement("div",{className:l,ref:n.containerRef},L.createElement("div",{className:sn("rbc-row-content",d&&"rbc-row-content-scrollable")},u&&L.createElement("div",{className:"rbc-row",ref:n.headingRowRef},c.map(n.renderHeadingCell)),L.createElement("div",{className:"rbc-row",ref:n.eventRowRef},L.createElement("div",{className:"rbc-row-segment"},L.createElement("div",{className:"rbc-event"},L.createElement("div",{className:"rbc-event-content"},""))))))},n.containerRef=F.createRef(),n.headingRowRef=F.createRef(),n.eventRowRef=F.createRef(),n.slotMetrics=r9(),n}return gr(e,t),kn(e,[{key:"getRowLimit",value:function(){var r,s=R1(this.eventRowRef.current),o=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?R1(this.headingRowRef.current):0,a=R1(this.containerRef.current)-o;return Math.max(Math.floor(a/s),1)}},{key:"render",value:function(){var r=this.props,s=r.date,o=r.rtl,a=r.range,l=r.className,c=r.selected,u=r.selectable,d=r.renderForMeasure,f=r.accessors,h=r.getters,p=r.components,v=r.getNow,g=r.renderHeader,b=r.onSelect,y=r.localizer,x=r.onSelectStart,E=r.onSelectEnd,T=r.onDoubleClick,S=r.onKeyPress,A=r.resourceId,C=r.longPressThreshold,P=r.isAllDay,I=r.resizable,R=r.showAllEvents;if(d)return this.renderDummy();var j=this.slotMetrics(this.props),O=j.levels,D=j.extra,N=R?rke:_s,U=p.weekWrapper,K={selected:c,accessors:f,getters:h,localizer:y,components:p,onSelect:b,onDoubleClick:T,onKeyPress:S,resourceId:A,slotMetrics:j,resizable:I};return L.createElement("div",{className:l,role:"rowgroup",ref:this.containerRef},L.createElement(JOe,{localizer:y,date:s,getNow:v,rtl:o,range:a,selectable:u,container:this.getContainer,getters:h,onSelectStart:x,onSelectEnd:E,onSelectSlot:this.handleSelectSlot,components:p,longPressThreshold:C,resourceId:A}),L.createElement("div",{className:sn("rbc-row-content",R&&"rbc-row-content-scrollable"),role:"row"},g&&L.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},a.map(this.renderHeadingCell)),L.createElement(N,null,L.createElement(U,Object.assign({isAllDay:P},K,{rtl:this.props.rtl}),O.map(function(q,Y){return L.createElement(e9,Object.assign({key:Y,segments:q},K))}),!!D.length&&L.createElement(n9,Object.assign({segments:D,onShowMore:this.handleShowMore},K))))))}}])}(L.Component);gm.defaultProps={minRows:0,maxRows:1/0};var UO=function(e){var n=e.label;return L.createElement("span",{role:"columnheader","aria-sort":"none"},n)},oke=function(e){var n=e.label,r=e.drilldownView,s=e.onDrillDown;return r?L.createElement("button",{type:"button",className:"rbc-button-link",onClick:s},n):L.createElement("span",null,n)},ake=["date","className"],lke=function(e,n,r,s,o){return e.filter(function(a){return mm(a,n,r,s,o)})},v_=function(t){function e(){var n;On(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=mr(this,e,[].concat(s)),n.getContainer=function(){return n.containerRef.current},n.renderWeek=function(a,l){var c=n.props,u=c.events,d=c.components,f=c.selectable,h=c.getNow,p=c.selected,v=c.date,g=c.localizer,b=c.longPressThreshold,y=c.accessors,x=c.getters,E=c.showAllEvents,T=n.state,S=T.needLimitMeasure,A=T.rowLimit,C=lke(Ay(u),a[0],a[a.length-1],y,g),P=nke(C,y,g);return L.createElement(gm,{key:l,ref:l===0?n.slotRowRef:void 0,container:n.getContainer,className:"rbc-month-row",getNow:h,date:v,range:a,events:P,maxRows:E?1/0:A,selected:p,selectable:f,components:d,accessors:y,getters:x,localizer:g,renderHeader:n.readerDateHeading,renderForMeasure:S,onShowMore:n.handleShowMore,onSelect:n.handleSelectEvent,onDoubleClick:n.handleDoubleClickEvent,onKeyPress:n.handleKeyPressEvent,onSelectSlot:n.handleSelectSlot,longPressThreshold:b,rtl:n.props.rtl,resizable:n.props.resizable,showAllEvents:E})},n.readerDateHeading=function(a){var l=a.date,c=a.className,u=Ws(a,ake),d=n.props,f=d.date,h=d.getDrilldownView,p=d.localizer,v=p.neq(f,l,"month"),g=p.isSameDate(l,f),b=h(l),y=p.format(l,"dateFormat"),x=n.props.components.dateHeader||oke;return L.createElement("div",Object.assign({},u,{className:sn(c,v&&"rbc-off-range",g&&"rbc-current"),role:"cell"}),L.createElement(x,{label:y,date:l,drilldownView:b,isOffRange:v,onDrillDown:function(T){return n.handleHeadingClick(l,b,T)}}))},n.handleSelectSlot=function(a,l){n._pendingSelection=n._pendingSelection.concat(a),clearTimeout(n._selectTimer),n._selectTimer=setTimeout(function(){return n.selectDates(l)})},n.handleHeadingClick=function(a,l,c){c.preventDefault(),n.clearSelection(),Ft(n.props.onDrillDown,[a,l])},n.handleSelectEvent=function(){n.clearSelection();for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];Ft(n.props.onSelectEvent,l)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];Ft(n.props.onDoubleClickEvent,l)},n.handleKeyPressEvent=function(){n.clearSelection();for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];Ft(n.props.onKeyPressEvent,l)},n.handleShowMore=function(a,l,c,u,d){var f=n.props,h=f.popup,p=f.onDrillDown,v=f.onShowMore,g=f.getDrilldownView,b=f.doShowMoreDrillDown;if(n.clearSelection(),h){var y=q8(c,n.containerRef.current);n.setState({overlay:{date:l,events:a,position:y,target:d}})}else b&&Ft(p,[l,g(l)||xr.DAY]);Ft(v,[a,l,u])},n.overlayDisplay=function(){n.setState({overlay:null})},n.state={rowLimit:5,needLimitMeasure:!0,date:null},n.containerRef=F.createRef(),n.slotRowRef=F.createRef(),n._bgRows=[],n._pendingSelection=[],n}return gr(e,t),kn(e,[{key:"componentDidMount",value:function(){var r=this,s;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){s||G8(function(){s=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,s=r.date,o=r.localizer,a=r.className,l=o.visibleDays(s,o),c=Jge(l,7);return this._weekCount=c.length,L.createElement("div",{className:sn("rbc-month-view",a),role:"table","aria-label":"Month View",ref:this.containerRef},L.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(c[0])),c.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var s=this.props,o=s.localizer,a=s.components,l=r[0],c=r[r.length-1],u=a.header||UO;return o.range(l,c,"day").map(function(d,f){return L.createElement("div",{key:"header_"+f,className:"rbc-header"},L.createElement(u,{date:d,localizer:o,label:o.format(d,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,s,o=this,a=(r=(s=this.state)===null||s===void 0?void 0:s.overlay)!==null&&r!==void 0?r:{},l=this.props,c=l.accessors,u=l.localizer,d=l.components,f=l.getters,h=l.selected,p=l.popupOffset,v=l.handleDragStart,g=function(){return o.setState({overlay:null})};return L.createElement(BO,{overlay:a,accessors:c,localizer:u,components:d,getters:f,selected:h,popupOffset:p,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:v,show:!!a.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var s=this._pendingSelection.slice();this._pendingSelection=[],s.sort(function(l,c){return+l-+c});var o=new Date(s[0]),a=new Date(s[s.length-1]);a.setDate(s[s.length-1].getDate()+1),Ft(this.props.onSelectSlot,{slots:s,start:o,end:a,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,s){var o=r.date,a=r.localizer;return{date:o,needLimitMeasure:a.neq(o,s.date,"month")}}}])}(L.Component);v_.range=function(t,e){var n=e.localizer,r=n.firstVisibleDay(t,n),s=n.lastVisibleDay(t,n);return{start:r,end:s}};v_.navigate=function(t,e,n){var r=n.localizer;switch(e){case Wr.PREVIOUS:return r.add(t,-1,"month");case Wr.NEXT:return r.add(t,1,"month");default:return t}};v_.title=function(t,e){var n=e.localizer;return n.format(t,"monthHeaderFormat")};var SL=function(e){var n=e.min,r=e.max,s=e.step,o=e.slots,a=e.localizer;return"".concat(+a.startOf(n,"minutes"))+"".concat(+a.startOf(r,"minutes"))+"".concat(s,"-").concat(o)};function zO(t){for(var e=t.min,n=t.max,r=t.step,s=t.timeslots,o=t.localizer,a=SL({start:e,end:n,step:r,timeslots:s,localizer:o}),l=1+o.getTotalMin(e,n),c=o.getMinutesFromMidnight(e),u=Math.ceil((l-1)/(r*s)),d=u*s,f=new Array(u),h=new Array(d),p=0;p<u;p++){f[p]=new Array(s);for(var v=0;v<s;v++){var g=p*s+v,b=g*r;h[g]=f[p][v]=o.getSlotDate(e,c,b)}}var y=h.length*r;h.push(o.getSlotDate(e,c,y));function x(E){var T=o.diff(e,E,"minutes")+o.getDstOffset(e,E);return Math.min(T,l)}return{groups:f,update:function(T){return SL(T)!==a?zO(T):this},dateIsInGroup:function(T,S){var A=f[S+1];return o.inRange(T,f[S][0],A?A[0]:n,"minutes")},nextSlot:function(T){var S=h[Math.min(h.findIndex(function(A){return A===T||o.eq(A,T)})+1,h.length-1)];return o.eq(S,T)&&(S=o.add(T,r,"minutes")),S},closestSlotToPosition:function(T){var S=Math.min(h.length-1,Math.max(0,Math.floor(T*d)));return h[S]},closestSlotFromPoint:function(T,S){var A=Math.abs(S.top-S.bottom);return this.closestSlotToPosition((T.y-S.top)/A)},closestSlotFromDate:function(T){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(o.lt(T,e,"minutes"))return h[0];if(o.gt(T,n,"minutes"))return h[h.length-1];var A=o.diff(e,T,"minutes");return h[(A-A%r)/r+S]},startsBeforeDay:function(T){return o.lt(T,e,"day")},startsAfterDay:function(T){return o.gt(T,n,"day")},startsBefore:function(T){return o.lt(o.merge(e,T),e,"minutes")},startsAfter:function(T){return o.gt(o.merge(n,T),n,"minutes")},getRange:function(T,S,A,C){A||(T=o.min(n,o.max(e,T))),C||(S=o.min(n,o.max(e,S)));var P=x(T),I=x(S),R=I>r*d&&!o.eq(n,S)?(P-r)/(r*d)*100:P/(r*d)*100;return{top:R,height:I/(r*d)*100-R,start:x(T),startDate:T,end:x(S),endDate:S}},getCurrentTimePosition:function(T){var S=x(T),A=S/(r*d)*100;return A}}}var cke=function(){function t(e,n){var r=n.accessors,s=n.slotMetrics;On(this,t);var o=s.getRange(r.start(e),r.end(e)),a=o.start,l=o.startDate,c=o.end,u=o.endDate,d=o.top,f=o.height;this.start=a,this.end=c,this.startMs=+l,this.endMs=+u,this.top=d,this.height=f,this.data=e}return kn(t,[{key:"_width",get:function(){if(this.rows){var n=this.rows.reduce(function(s,o){return Math.max(s,o.leaves.length+1)},0)+1;return 100/n}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var n=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:n;var s=this.row.leaves,o=s.indexOf(this);return o===s.length-1?n:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var n=this.row,r=n.leaves,s=n.xOffset,o=n._width,a=r.indexOf(this)+1;return s+a*o}}])}();function uke(t,e,n){return Math.abs(e.start-t.start)<n||e.start>t.start&&e.start<t.end}function dke(t){for(var e=h_(t,["startMs",function(l){return-l.endMs}]),n=[];e.length>0;){var r=e.shift();n.push(r);for(var s=0;s<e.length;s++){var o=e[s];if(!(r.endMs>o.startMs)){if(s>0){var a=e.splice(s,1)[0];n.push(a)}break}}}return n}function i9(t){for(var e=t.events,n=t.minimumStartDifference,r=t.slotMetrics,s=t.accessors,o=e.map(function(d){return new cke(d,{slotMetrics:r,accessors:s})}),a=dke(o),l=[],c=function(){var f=a[u],h=l.find(function(g){return g.end>f.start||Math.abs(f.start-g.start)<n});if(!h)return f.rows=[],l.push(f),1;f.container=h;for(var p=null,v=h.rows.length-1;!p&&v>=0;v--)uke(h.rows[v],f,n)&&(p=h.rows[v]);p?(p.leaves.push(f),f.row=p):(f.leaves=[],h.rows.push(f))},u=0;u<a.length;u++)c();return a.map(function(d){return{event:d.data,style:{top:d.top,height:d.height,width:d.width,xOffset:Math.max(0,d.xOffset)}}})}function s9(t,e,n){for(var r=0;r<t.friends.length;++r)if(!(n.indexOf(t.friends[r])>-1)){e=e>t.friends[r].idx?e:t.friends[r].idx,n.push(t.friends[r]);var s=s9(t.friends[r],e,n);e=e>s?e:s}return e}function fke(t){var e=t.events,n=t.minimumStartDifference,r=t.slotMetrics,s=t.accessors,o=i9({events:e,minimumStartDifference:n,slotMetrics:r,accessors:s});o.sort(function(U,K){return U=U.style,K=K.style,U.top!==K.top?U.top>K.top?1:-1:U.height!==K.height?U.top+U.height<K.top+K.height?1:-1:0});for(var a=0;a<o.length;++a)o[a].friends=[],delete o[a].style.left,delete o[a].style.left,delete o[a].idx,delete o[a].size;for(var l=0;l<o.length-1;++l)for(var c=o[l],u=c.style.top,d=c.style.top+c.style.height,f=l+1;f<o.length;++f){var h=o[f],p=h.style.top,v=h.style.top+h.style.height;(p>=u&&v<=d||v>u&&v<=d||p>=u&&p<d)&&(c.friends.push(h),h.friends.push(c))}for(var g=0;g<o.length;++g){for(var b=o[g],y=[],x=0;x<100;++x)y.push(1);for(var E=0;E<b.friends.length;++E)b.friends[E].idx!==void 0&&(y[b.friends[E].idx]=0);b.idx=y.indexOf(1)}for(var T=0;T<o.length;++T){var S=0;if(!o[T].size){var A=[],C=s9(o[T],0,A);S=100/(C+1),o[T].size=S;for(var P=0;P<A.length;++P)A[P].size=S}}for(var I=0;I<o.length;++I){var R=o[I];R.style.left=R.idx*R.size;for(var j=0,O=0;O<R.friends.length;++O){var D=R.friends[O].idx;j=j>D?j:D}j<=R.idx&&(R.size=100-R.idx*R.size);var N=R.idx===0?0:3;R.style.width="calc(".concat(R.size,"% - ").concat(N,"px)"),R.style.height="calc(".concat(R.style.height,"% - 2px)"),R.style.xOffset="calc(".concat(R.style.left,"% + ").concat(N,"px)")}return o}var CL={overlap:i9,"no-overlap":fke};function hke(t){return!!(t&&t.constructor&&t.call&&t.apply)}function pke(t){t.events,t.minimumStartDifference,t.slotMetrics,t.accessors;var e=t.dayLayoutAlgorithm,n=e;return e in CL&&(n=CL[e]),hke(n)?n.apply(this,arguments):[]}var o9=function(t){function e(){return On(this,e),mr(this,e,arguments)}return gr(e,t),kn(e,[{key:"render",value:function(){var r=this.props,s=r.renderSlot,o=r.resource,a=r.group,l=r.getters,c=r.components,u=c===void 0?{}:c,d=u.timeSlotWrapper,f=d===void 0?_s:d,h=l?l.slotGroupProp(a):{};return L.createElement("div",Object.assign({className:"rbc-timeslot-group"},h),a.map(function(p,v){var g=l?l.slotProp(p,o):{};return L.createElement(f,{key:v,value:p,resource:o},L.createElement("div",Object.assign({},g,{className:sn("rbc-time-slot",g.className)}),s&&s(p,v)))}))}}])}(F.Component);function Bv(t){return typeof t=="string"?t:t+"%"}function mke(t){var e=t.style,n=t.className,r=t.event,s=t.accessors,o=t.rtl,a=t.selected,l=t.label,c=t.continuesPrior,u=t.continuesAfter,d=t.getters,f=t.onClick,h=t.onDoubleClick,p=t.isBackgroundEvent,v=t.onKeyPress,g=t.components,b=g.event,y=g.eventWrapper,x=s.title(r),E=s.tooltip(r),T=s.end(r),S=s.start(r),A=d.eventProp(r,S,T,a),C=[L.createElement("div",{key:"1",className:"rbc-event-label"},l),L.createElement("div",{key:"2",className:"rbc-event-content"},b?L.createElement(b,{event:r,title:x}):x)],P=e.height,I=e.top,R=e.width,j=e.xOffset,O=Et(Et({},A.style),{},Rl({top:Bv(I),height:Bv(P),width:Bv(R)},o?"right":"left",Bv(j)));return L.createElement(y,Object.assign({type:"time"},t),L.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:h,style:O,onKeyDown:v,title:E?(typeof l=="string"?l+": ":"")+E:void 0,className:sn(p?"rbc-background-event":"rbc-event",n,A.className,{"rbc-selected":a,"rbc-event-continues-earlier":c,"rbc-event-continues-later":u})},C))}var gke=function(e){var n=e.children,r=e.className,s=e.style,o=e.innerRef;return L.createElement("div",{className:r,style:s,ref:o},n)},vke=L.forwardRef(function(t,e){return L.createElement(gke,Object.assign({},t,{innerRef:e}))}),yke=["dayProp"],bke=["eventContainerWrapper","timeIndicatorWrapper"],a9=function(t){function e(){var n;On(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=mr(this,e,[].concat(s)),n.state={selecting:!1,timeIndicatorPosition:null},n.intervalTriggered=!1,n.renderEvents=function(a){var l=a.events,c=a.isBackgroundEvent,u=n.props,d=u.rtl,f=u.selected,h=u.accessors,p=u.localizer,v=u.getters,g=u.components,b=u.step,y=u.timeslots,x=u.dayLayoutAlgorithm,E=u.resizable,T=n,S=T.slotMetrics,A=p.messages,C=pke({events:l,accessors:h,slotMetrics:S,minimumStartDifference:Math.ceil(b*y/2),dayLayoutAlgorithm:x});return C.map(function(P,I){var R,j=P.event,O=P.style,D=h.end(j),N=h.start(j),U=(R=h.eventId(j))!==null&&R!==void 0?R:"evt_"+I,K="eventTimeRangeFormat",q,Y=S.startsBeforeDay(N),G=S.startsAfterDay(D);Y?K="eventTimeRangeEndFormat":G&&(K="eventTimeRangeStartFormat"),Y&&G?q=A.allDay:q=p.format({start:N,end:D},K);var J=Y||S.startsBefore(N),H=G||S.startsAfter(D);return L.createElement(mke,{style:O,event:j,label:q,key:U,getters:v,rtl:d,components:g,continuesPrior:J,continuesAfter:H,accessors:h,resource:n.props.resource,selected:g_(j,f),onClick:function(ee){return n._select(Et(Et(Et({},j),n.props.resource&&{sourceResource:n.props.resource}),c&&{isBackgroundEvent:!0}),ee)},onDoubleClick:function(ee){return n._doubleClick(j,ee)},isBackgroundEvent:c,onKeyPress:function(ee){return n._keyPress(j,ee)},resizable:E})})},n._selectable=function(){var a=n.containerRef.current,l=n.props,c=l.longPressThreshold,u=l.localizer,d=n._selector=new JH(function(){return a},{longPressThreshold:c}),f=function(g){var b=n.props.onSelecting,y=n.state||{},x=h(g),E=x.startDate,T=x.endDate;b&&(u.eq(y.startDate,E,"minutes")&&u.eq(y.endDate,T,"minutes")||b({start:E,end:T,resourceId:n.props.resource})===!1)||(n.state.start!==x.start||n.state.end!==x.end||n.state.selecting!==x.selecting)&&n.setState(x)},h=function(g){var b=n.slotMetrics.closestSlotFromPoint(g,Ac(a));n.state.selecting||(n._initialSlot=b);var y=n._initialSlot;u.lte(y,b)?b=n.slotMetrics.nextSlot(b):u.gt(y,b)&&(y=n.slotMetrics.nextSlot(y));var x=n.slotMetrics.getRange(u.min(y,b),u.max(y,b));return Et(Et({},x),{},{selecting:!0,top:"".concat(x.top,"%"),height:"".concat(x.height,"%")})},p=function(g,b){if(!lb(n.containerRef.current,g)){var y=h(g),x=y.startDate,E=y.endDate;n._selectSlot({startDate:x,endDate:E,action:b,box:g})}n.setState({selecting:!1})};d.on("selecting",f),d.on("selectStart",f),d.on("beforeSelect",function(v){if(n.props.selectable==="ignoreEvents")return!lb(n.containerRef.current,v)}),d.on("click",function(v){return p(v,"click")}),d.on("doubleClick",function(v){return p(v,"doubleClick")}),d.on("select",function(v){n.state.selecting&&(n._selectSlot(Et(Et({},n.state),{},{action:"select",bounds:v})),n.setState({selecting:!1}))}),d.on("reset",function(){n.state.selecting&&n.setState({selecting:!1})})},n._teardownSelectable=function(){n._selector&&(n._selector.teardown(),n._selector=null)},n._selectSlot=function(a){for(var l=a.startDate,c=a.endDate,u=a.action,d=a.bounds,f=a.box,h=l,p=[];n.props.localizer.lte(h,c);)p.push(h),h=new Date(+h+n.props.step*60*1e3);Ft(n.props.onSelectSlot,{slots:p,start:l,end:c,resourceId:n.props.resource,action:u,bounds:d,box:f})},n._select=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];Ft(n.props.onSelectEvent,l)},n._doubleClick=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];Ft(n.props.onDoubleClickEvent,l)},n._keyPress=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];Ft(n.props.onKeyPressEvent,l)},n.slotMetrics=zO(n.props),n.containerRef=F.createRef(),n}return gr(e,t),kn(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,s){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable();var o=this.props,a=o.getNow,l=o.isNow,c=o.localizer,u=o.date,d=o.min,f=o.max,h=c.neq(r.getNow(),a(),"minutes");if(r.isNow!==l||h){if(this.clearTimeIndicatorInterval(),l){var p=!h&&c.eq(r.date,u,"minutes")&&s.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(p)}}else l&&(c.neq(r.min,d,"minutes")||c.neq(r.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!s&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,s=r.min,o=r.max,a=r.getNow,l=a();if(l>=s&&l<=o){var c=this.slotMetrics.getCurrentTimePosition(l);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:c})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,s=r.date,o=r.max,a=r.rtl,l=r.isNow,c=r.resource,u=r.accessors,d=r.localizer,f=r.getters,h=f.dayProp,p=Ws(f,yke),v=r.components,g=v.eventContainerWrapper,b=v.timeIndicatorWrapper,y=Ws(v,bke);this.slotMetrics=this.slotMetrics.update(this.props);var x=this.slotMetrics,E=this.state,T=E.selecting,S=E.top,A=E.height,C=E.startDate,P=E.endDate,I={start:C,end:P},R=h(o,c),j=R.className,O=R.style,D={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},N=y.dayColumnWrapper||vke;return L.createElement(N,{ref:this.containerRef,date:s,style:O,className:sn(j,"rbc-day-slot","rbc-time-column",l&&"rbc-now",l&&"rbc-today",T&&"rbc-slot-selecting"),slotMetrics:x,resource:c},x.groups.map(function(U,K){return L.createElement(o9,{key:K,group:U,resource:c,getters:p,components:y})}),L.createElement(g,{localizer:d,resource:c,accessors:u,getters:p,components:y,slotMetrics:x},L.createElement("div",{className:sn("rbc-events-container",a&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),T&&L.createElement("div",{className:"rbc-slot-selection",style:{top:S,height:A}},L.createElement("span",null,d.format(I,"selectRangeFormat"))),l&&this.intervalTriggered&&L.createElement(b,D,L.createElement("div",D)))}}])}(L.Component);a9.defaultProps={dragThroughEvents:!0,timeslots:2};var l9=function(e){var n=e.label;return L.createElement(L.Fragment,null,n)},wke=function(t){function e(){var n;On(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=mr(this,e,[].concat(s)),n.handleHeaderClick=function(a,l,c){c.preventDefault(),Ft(n.props.onDrillDown,[a,l])},n.renderRow=function(a){var l=n.props,c=l.events,u=l.rtl,d=l.selectable,f=l.getNow,h=l.range,p=l.getters,v=l.localizer,g=l.accessors,b=l.components,y=l.resizable,x=g.resourceId(a),E=a?c.filter(function(T){return g.resource(T)===x}):c;return L.createElement(gm,{isAllDay:!0,rtl:u,getNow:f,minRows:2,maxRows:n.props.allDayMaxRows+1,range:h,events:E,resourceId:x,className:"rbc-allday-cell",selectable:d,selected:n.props.selected,components:b,accessors:g,getters:p,localizer:v,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyPress:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:y})},n}return gr(e,t),kn(e,[{key:"renderHeaderCells",value:function(r){var s=this,o=this.props,a=o.localizer,l=o.getDrilldownView,c=o.getNow,u=o.getters.dayProp,d=o.components.header,f=d===void 0?UO:d,h=c();return r.map(function(p,v){var g=l(p),b=a.format(p,"dayFormat"),y=u(p),x=y.className,E=y.style,T=L.createElement(f,{date:p,label:b,localizer:a});return L.createElement("div",{key:v,style:E,className:sn("rbc-header",x,a.isSameDate(p,h)&&"rbc-today")},g?L.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(A){return s.handleHeaderClick(p,g,A)}},T):L.createElement("span",null,T))})}},{key:"render",value:function(){var r=this,s=this.props,o=s.width,a=s.rtl,l=s.resources,c=s.range,u=s.events,d=s.getNow,f=s.accessors,h=s.selectable,p=s.components,v=s.getters,g=s.scrollRef,b=s.localizer,y=s.isOverflowing,x=s.components,E=x.timeGutterHeader,T=x.resourceHeader,S=T===void 0?l9:T,A=s.resizable,C={};y&&(C[a?"marginLeft":"marginRight"]="".concat(bO()-1,"px"));var P=l.groupEvents(u);return L.createElement("div",{style:C,ref:g,className:sn("rbc-time-header",y&&"rbc-overflowing")},L.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:o,minWidth:o,maxWidth:o}},E&&L.createElement(E,null)),l.map(function(I,R){var j=_c(I,2),O=j[0],D=j[1];return L.createElement("div",{className:"rbc-time-header-content",key:O||R},D&&L.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(R)},L.createElement("div",{className:"rbc-header"},L.createElement(S,{index:R,label:f.resourceTitle(D),resource:D}))),L.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(c.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(c)),L.createElement(gm,{isAllDay:!0,rtl:a,getNow:d,minRows:2,maxRows:r.props.allDayMaxRows+1,range:c,events:P.get(O)||[],resourceId:D&&O,className:"rbc-allday-cell",selectable:h,selected:r.props.selected,components:p,accessors:f,getters:v,localizer:b,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:A}))}))}}])}(L.Component),_ke=function(t){function e(){var n;On(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=mr(this,e,[].concat(s)),n.handleHeaderClick=function(a,l,c){c.preventDefault(),Ft(n.props.onDrillDown,[a,l])},n}return gr(e,t),kn(e,[{key:"renderHeaderCells",value:function(r){var s=this,o=this.props,a=o.localizer,l=o.getDrilldownView,c=o.getNow,u=o.getters.dayProp,d=o.components,f=d.header,h=f===void 0?UO:f,p=d.resourceHeader,v=p===void 0?l9:p,g=o.resources,b=o.accessors,y=o.events,x=o.rtl,E=o.selectable,T=o.components,S=o.getters,A=o.resizable,C=c(),P=g.groupEvents(y);return r.map(function(I,R){var j=l(I),O=a.format(I,"dayFormat"),D=u(I),N=D.className,U=D.style,K=L.createElement(h,{date:I,label:O,localizer:a});return L.createElement("div",{key:R,className:"rbc-time-header-content rbc-resource-grouping"},L.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(r.length<=1?" rbc-time-header-cell-single-day":"")},L.createElement("div",{style:U,className:sn("rbc-header",N,a.isSameDate(I,C)&&"rbc-today")},j?L.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(Y){return s.handleHeaderClick(I,j,Y)}},K):L.createElement("span",null,K))),L.createElement("div",{className:"rbc-row"},g.map(function(q,Y){var G=_c(q,2),J=G[0],H=G[1];return L.createElement("div",{key:"resource_".concat(J,"_").concat(Y),className:sn("rbc-header",N,a.isSameDate(I,C)&&"rbc-today")},L.createElement(v,{index:Y,label:b.resourceTitle(H),resource:H}))})),L.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},g.map(function(q,Y){var G=_c(q,2),J=G[0],H=G[1],V=(P.get(J)||[]).filter(function(ee){return a.isSameDate(ee.start,I)||a.isSameDate(ee.end,I)});return L.createElement(gm,{key:"resource_".concat(J,"_").concat(Y),isAllDay:!0,rtl:x,getNow:c,minRows:2,maxRows:s.props.allDayMaxRows+1,range:[I],events:V,resourceId:H&&J,className:"rbc-allday-cell",selectable:E,selected:s.props.selected,components:T,accessors:b,getters:S,localizer:a,onSelect:s.props.onSelectEvent,onShowMore:s.props.onShowMore,onDoubleClick:s.props.onDoubleClickEvent,onKeyDown:s.props.onKeyPressEvent,onSelectSlot:s.props.onSelectSlot,longPressThreshold:s.props.longPressThreshold,resizable:A})})))})}},{key:"render",value:function(){var r=this.props,s=r.width,o=r.rtl,a=r.range,l=r.scrollRef,c=r.isOverflowing,u=r.components.timeGutterHeader,d={};return c&&(d[o?"marginLeft":"marginRight"]="".concat(bO()-1,"px")),L.createElement("div",{style:d,ref:l,className:sn("rbc-time-header",c&&"rbc-overflowing")},L.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},u&&L.createElement(u,null)),this.renderHeaderCells(a))}}])}(L.Component);function xke(t){var e=t.min,n=t.max,r=t.localizer;return r.getTimezoneOffset(e)!==r.getTimezoneOffset(n)?{start:r.add(e,-1,"day"),end:r.add(n,-1,"day")}:{start:e,end:n}}var Eke=function(e){var n=e.min,r=e.max,s=e.timeslots,o=e.step,a=e.localizer,l=e.getNow,c=e.resource,u=e.components,d=e.getters,f=e.gutterRef,h=u.timeGutterWrapper,p=F.useMemo(function(){return xke({min:n,max:r,localizer:a})},[n==null?void 0:n.toISOString(),r==null?void 0:r.toISOString(),a]),v=p.start,g=p.end,b=F.useState(zO({min:v,max:g,timeslots:s,step:o,localizer:a})),y=_c(b,2),x=y[0],E=y[1];F.useEffect(function(){x&&E(x.update({min:v,max:g,timeslots:s,step:o,localizer:a}))},[v==null?void 0:v.toISOString(),g==null?void 0:g.toISOString(),s,o]);var T=F.useCallback(function(S,A){if(A)return null;var C=x.dateIsInGroup(l(),A);return L.createElement("span",{className:sn("rbc-label",C&&"rbc-now")},a.format(S,"timeGutterFormat"))},[x,a,l]);return L.createElement(h,{slotMetrics:x},L.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},x.groups.map(function(S,A){return L.createElement(o9,{key:A,group:S,resource:c,components:u,renderSlot:T,getters:d})})))},Tke=L.forwardRef(function(t,e){return L.createElement(Eke,Object.assign({gutterRef:e},t))}),$1={};function Ske(t,e){return{map:function(r){return t?t.map(function(s,o){return r([e.resourceId(s),s],o)}):[r([$1,null],0)]},groupEvents:function(r){var s=new Map;return t?(r.forEach(function(o){var a=e.resource(o)||$1;if(Array.isArray(a))a.forEach(function(c){var u=s.get(c)||[];u.push(o),s.set(c,u)});else{var l=s.get(a)||[];l.push(o),s.set(a,l)}}),s):(s.set($1,r),s)}}}var Tf=function(t){function e(n){var r;return On(this,e),r=mr(this,e,[n]),r.handleScroll=function(s){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=s.target.scrollLeft)},r.handleResize=function(){fj(r.rafHandle),r.rafHandle=G8(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];Ft(r.props.onKeyPressEvent,o)},r.handleSelectEvent=function(){r.clearSelection();for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];Ft(r.props.onSelectEvent,o)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];Ft(r.props.onDoubleClickEvent,o)},r.handleShowMore=function(s,o,a,l,c){var u=r.props,d=u.popup,f=u.onDrillDown,h=u.onShowMore,p=u.getDrilldownView,v=u.doShowMoreDrillDown;if(r.clearSelection(),d){var g=q8(a,r.containerRef.current);r.setState({overlay:{date:o,events:s,position:Et(Et({},g),{},{width:"200px"}),target:c}})}else v&&Ft(f,[o,p(o)||xr.DAY]);Ft(h,[s,o,l])},r.handleSelectAllDaySlot=function(s,o){var a=r.props.onSelectSlot,l=new Date(s[0]),c=new Date(s[s.length-1]);c.setDate(s[s.length-1].getDate()+1),Ft(a,{slots:s,start:l,end:c,action:o.action,resourceId:o.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var s=r.contentRef.current;if(s!=null&&s.scrollHeight){var o=s.scrollHeight>s.clientHeight;r.state.isOverflowing!==o&&(r._updatingOverflow=!0,r.setState({isOverflowing:o},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=CH(function(s,o){return Ske(s,o)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=L.createRef(),r.contentRef=L.createRef(),r.containerRef=L.createRef(),r._scrollRatio=null,r.gutterRef=F.createRef(),r}return gr(e,t),kn(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),fj(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(r,s,o,a,l,c,u,d,f,h){var p=this.props,v=p.min,g=p.max,b=(a.get(s)||[]).filter(function(x){return c.inRange(r,u.start(x),u.end(x),"day")}),y=(l.get(s)||[]).filter(function(x){return c.inRange(r,u.start(x),u.end(x),"day")});return L.createElement(a9,Object.assign({},this.props,{localizer:c,min:c.merge(r,v),max:c.merge(r,g),resource:o&&s,components:d,isNow:c.isSameDate(r,h),key:"".concat(s,"-").concat(r),date:r,events:b,backgroundEvents:y,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(r,s,o,a,l,c,u,d,f){var h=this;return s.map(function(p){var v=_c(p,2),g=v[0],b=v[1];return r.map(function(y){return h.renderDayColumn(y,g,b,o,a,l,c,d,f,u)})})}},{key:"renderRangeFirst",value:function(r,s,o,a,l,c,u,d,f){var h=this;return r.map(function(p){return L.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:p},s.map(function(v){var g=_c(v,2),b=g[0],y=g[1];return L.createElement("div",{style:{flex:1},key:c.resourceId(y)},h.renderDayColumn(p,b,y,o,a,l,c,d,f,u))}))})}},{key:"renderEvents",value:function(r,s,o,a){var l=this.props,c=l.accessors,u=l.localizer,d=l.resourceGroupingLayout,f=l.components,h=l.dayLayoutAlgorithm,p=this.memoizedResources(this.props.resources,c),v=p.groupEvents(s),g=p.groupEvents(o);return d?this.renderRangeFirst(r,p,v,g,u,c,a,f,h):this.renderResourcesFirst(r,p,v,g,u,c,a,f,h)}},{key:"render",value:function(){var r,s=this.props,o=s.events,a=s.backgroundEvents,l=s.range,c=s.width,u=s.rtl,d=s.selected,f=s.getNow,h=s.resources,p=s.components,v=s.accessors,g=s.getters,b=s.localizer,y=s.min,x=s.max,E=s.showMultiDayTimes,T=s.longPressThreshold,S=s.resizable,A=s.resourceGroupingLayout;c=c||this.state.gutterWidth;var C=l[0],P=l[l.length-1];this.slots=l.length;var I=[],R=[],j=[];o.forEach(function(D){if(mm(D,C,P,v,b)){var N=v.start(D),U=v.end(D);v.allDay(D)||b.startAndEndAreDateOnly(N,U)||!E&&!b.isSameDate(N,U)?I.push(D):R.push(D)}}),a.forEach(function(D){mm(D,C,P,v,b)&&j.push(D)}),I.sort(function(D,N){return NS(D,N,v,b)});var O={range:l,events:I,width:c,rtl:u,getNow:f,localizer:b,selected:d,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(h,v),selectable:this.props.selectable,accessors:v,getters:g,components:p,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:T,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:S};return L.createElement("div",{className:sn("rbc-time-view",h&&"rbc-time-view-resources"),ref:this.containerRef},h&&h.length>1&&A?L.createElement(_ke,O):L.createElement(wke,O),this.props.popup&&this.renderOverlay(),L.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},L.createElement(Tke,{date:C,ref:this.gutterRef,localizer:b,min:b.merge(C,y),max:b.merge(C,x),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:p,className:"rbc-time-gutter",getters:g}),this.renderEvents(l,R,j,f())))}},{key:"renderOverlay",value:function(){var r,s,o=this,a=(r=(s=this.state)===null||s===void 0?void 0:s.overlay)!==null&&r!==void 0?r:{},l=this.props,c=l.accessors,u=l.localizer,d=l.components,f=l.getters,h=l.selected,p=l.popupOffset,v=l.handleDragStart,g=function(){return o.setState({overlay:null})};return L.createElement(BO,{overlay:a,accessors:c,localizer:u,components:d,getters:f,selected:h,popupOffset:p,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:v,show:!!a.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var s,o=(s=r.gutterRef)!==null&&s!==void 0&&s.current?IS(r.gutterRef.current):void 0;o&&r.state.gutterWidth!==o&&r.setState({gutterWidth:o})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,s=r.min,o=r.max,a=r.scrollToTime,l=r.localizer,c=l.diff(l.merge(a,s),a,"milliseconds"),u=l.diff(s,o,"milliseconds");this._scrollRatio=c/u}}])}(F.Component);Tf.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var Cke=["date","localizer","min","max","scrollToTime","enableAutoScroll"],y_=function(t){function e(){return On(this,e),mr(this,e,arguments)}return gr(e,t),kn(e,[{key:"render",value:function(){var r=this.props,s=r.date,o=r.localizer,a=r.min,l=a===void 0?o.startOf(new Date,"day"):a,c=r.max,u=c===void 0?o.endOf(new Date,"day"):c,d=r.scrollToTime,f=d===void 0?o.startOf(new Date,"day"):d,h=r.enableAutoScroll,p=h===void 0?!0:h,v=Ws(r,Cke),g=e.range(s,{localizer:o});return L.createElement(Tf,Object.assign({},v,{range:g,eventOffset:10,localizer:o,min:l,max:u,scrollToTime:f,enableAutoScroll:p}))}}])}(L.Component);y_.range=function(t,e){var n=e.localizer;return[n.startOf(t,"day")]};y_.navigate=function(t,e,n){var r=n.localizer;switch(e){case Wr.PREVIOUS:return r.add(t,-1,"day");case Wr.NEXT:return r.add(t,1,"day");default:return t}};y_.title=function(t,e){var n=e.localizer;return n.format(t,"dayHeaderFormat")};var Pke=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Qa=function(t){function e(){return On(this,e),mr(this,e,arguments)}return gr(e,t),kn(e,[{key:"render",value:function(){var r=this.props,s=r.date,o=r.localizer,a=r.min,l=a===void 0?o.startOf(new Date,"day"):a,c=r.max,u=c===void 0?o.endOf(new Date,"day"):c,d=r.scrollToTime,f=d===void 0?o.startOf(new Date,"day"):d,h=r.enableAutoScroll,p=h===void 0?!0:h,v=Ws(r,Pke),g=e.range(s,this.props);return L.createElement(Tf,Object.assign({},v,{range:g,eventOffset:15,localizer:o,min:l,max:u,scrollToTime:f,enableAutoScroll:p}))}}])}(L.Component);Qa.defaultProps=Tf.defaultProps;Qa.navigate=function(t,e,n){var r=n.localizer;switch(e){case Wr.PREVIOUS:return r.add(t,-1,"week");case Wr.NEXT:return r.add(t,1,"week");default:return t}};Qa.range=function(t,e){var n=e.localizer,r=n.startOfWeek(),s=n.startOf(t,"week",r),o=n.endOf(t,"week",r);return n.range(s,o)};Qa.title=function(t,e){var n=e.localizer,r=Qa.range(t,{localizer:n}),s=DH(r),o=s[0],a=s.slice(1);return n.format({start:o,end:a.pop()},"dayRangeHeaderFormat")};var Ake=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function WO(t,e){return Qa.range(t,e).filter(function(n){return[6,0].indexOf(n.getDay())===-1})}var jg=function(t){function e(){return On(this,e),mr(this,e,arguments)}return gr(e,t),kn(e,[{key:"render",value:function(){var r=this.props,s=r.date,o=r.localizer,a=r.min,l=a===void 0?o.startOf(new Date,"day"):a,c=r.max,u=c===void 0?o.endOf(new Date,"day"):c,d=r.scrollToTime,f=d===void 0?o.startOf(new Date,"day"):d,h=r.enableAutoScroll,p=h===void 0?!0:h,v=Ws(r,Ake),g=WO(s,this.props);return L.createElement(Tf,Object.assign({},v,{range:g,eventOffset:15,localizer:o,min:l,max:u,scrollToTime:f,enableAutoScroll:p}))}}])}(L.Component);jg.defaultProps=Tf.defaultProps;jg.range=WO;jg.navigate=Qa.navigate;jg.title=function(t,e){var n=e.localizer,r=WO(t,{localizer:n}),s=DH(r),o=s[0],a=s.slice(1);return n.format({start:o,end:a.pop()},"dayRangeHeaderFormat")};var b_=30;function w_(t){var e=t.accessors,n=t.components,r=t.date,s=t.events,o=t.getters,a=t.length,l=a===void 0?b_:a,c=t.localizer,u=t.onDoubleClickEvent,d=t.onSelectEvent,f=t.selected,h=F.useRef(null),p=F.useRef(null),v=F.useRef(null),g=F.useRef(null),b=F.useRef(null);F.useEffect(function(){E()});var y=function(P,I,R){var j=n.event,O=n.date;return I=I.filter(function(D){return mm(D,c.startOf(P,"day"),c.endOf(P,"day"),e,c)}),I.map(function(D,N){var U=e.title(D),K=e.end(D),q=e.start(D),Y=o.eventProp(D,q,K,g_(D,f)),G=N===0&&c.format(P,"agendaDateFormat"),J=N===0?L.createElement("td",{rowSpan:I.length,className:"rbc-agenda-date-cell"},O?L.createElement(O,{day:P,label:G}):G):!1;return L.createElement("tr",{key:R+"_"+N,className:Y.className,style:Y.style},J,L.createElement("td",{className:"rbc-agenda-time-cell"},x(P,D)),L.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(V){return d&&d(D,V)},onDoubleClick:function(V){return u&&u(D,V)}},j?L.createElement(j,{event:D,title:U}):U))},[])},x=function(P,I){var R="",j=n.time,O=c.messages.allDay,D=e.end(I),N=e.start(I);return e.allDay(I)||(c.eq(N,D)?O=c.format(N,"agendaTimeFormat"):c.isSameDate(N,D)?O=c.format({start:N,end:D},"agendaTimeRangeFormat"):c.isSameDate(P,N)?O=c.format(N,"agendaTimeFormat"):c.isSameDate(P,D)&&(O=c.format(D,"agendaTimeFormat"))),c.gt(P,N,"day")&&(R="rbc-continues-prior"),c.lt(P,D,"day")&&(R+=" rbc-continues-after"),L.createElement("span",{className:R.trim()},j?L.createElement(j,{event:I,day:P,label:O}):O)},E=function(){if(b.current){var P=h.current,I=b.current.firstChild;if(I){var R=g.current.scrollHeight>g.current.clientHeight,j=[],O=j;j=[IS(I.children[0]),IS(I.children[1])],(O[0]!==j[0]||O[1]!==j[1])&&(p.current.style.width=j[0]+"px",v.current.style.width=j[1]+"px"),R?(Vye(P,"rbc-header-overflowing"),P.style.marginRight=bO()+"px"):Bye(P,"rbc-header-overflowing")}}},T=c.messages,S=c.add(r,l,"day"),A=c.range(r,S,"day");return s=s.filter(function(C){return mm(C,c.startOf(r,"day"),c.endOf(S,"day"),e,c)}),s.sort(function(C,P){return+e.start(C)-+e.start(P)}),L.createElement("div",{className:"rbc-agenda-view"},s.length!==0?L.createElement(L.Fragment,null,L.createElement("table",{ref:h,className:"rbc-agenda-table"},L.createElement("thead",null,L.createElement("tr",null,L.createElement("th",{className:"rbc-header",ref:p},T.date),L.createElement("th",{className:"rbc-header",ref:v},T.time),L.createElement("th",{className:"rbc-header"},T.event)))),L.createElement("div",{className:"rbc-agenda-content",ref:g},L.createElement("table",{className:"rbc-agenda-table"},L.createElement("tbody",{ref:b},A.map(function(C,P){return y(C,s,P)}))))):L.createElement("span",{className:"rbc-agenda-empty"},T.noEventsInRange))}w_.range=function(t,e){var n=e.length,r=n===void 0?b_:n,s=e.localizer,o=s.add(t,r,"day");return{start:t,end:o}};w_.navigate=function(t,e,n){var r=n.length,s=r===void 0?b_:r,o=n.localizer;switch(e){case Wr.PREVIOUS:return o.add(t,-s,"day");case Wr.NEXT:return o.add(t,s,"day");default:return t}};w_.title=function(t,e){var n=e.length,r=n===void 0?b_:n,s=e.localizer,o=s.add(t,r,"day");return s.format({start:t,end:o},"agendaHeaderFormat")};var ky=Rl(Rl(Rl(Rl(Rl({},xr.MONTH,v_),xr.WEEK,Qa),xr.WORK_WEEK,jg),xr.DAY,y_),xr.AGENDA,w_),Ike=["action","date","today"];function Oke(t,e){var n=e.action,r=e.date,s=e.today,o=Ws(e,Ike);switch(t=typeof t=="string"?ky[t]:t,n){case Wr.TODAY:r=s||new Date;break;case Wr.DATE:break;default:nm(t&&typeof t.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=t.navigate(r,n,o)}return r}function kke(t,e){var n=null;return typeof e=="function"?n=e(t):typeof e=="string"&&Mo(t)==="object"&&t!=null&&e in t&&(n=t[e]),n}var Zs=function(e){return function(n){return kke(n,e)}},Nke=["view","date","getNow","onNavigate"],Dke=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function c9(t){if(Array.isArray(t))return t;for(var e=[],n=0,r=Object.entries(t);n<r.length;n++){var s=_c(r[n],2),o=s[0],a=s[1];a&&e.push(o)}return e}function Rke(t,e){var n=e.views,r=c9(n);return r.indexOf(t)!==-1}var u9=function(t){function e(){var n;On(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=mr(this,e,[].concat(s)),n.getViews=function(){var a=n.props.views;return Array.isArray(a)?uOe(a,function(l,c){return l[c]=ky[c]},{}):Mo(a)==="object"?MH(a,function(l,c){return l===!0?ky[c]:l}):ky},n.getView=function(){var a=n.getViews();return a[n.props.view]},n.getDrilldownView=function(a){var l=n.props,c=l.view,u=l.drilldownView,d=l.getDrilldownView;return d?d(a,c,Object.keys(n.getViews())):u},n.handleRangeChange=function(a,l,c){var u=n.props,d=u.onRangeChange,f=u.localizer;d&&l.range&&d(l.range(a,{localizer:f}),c)},n.handleNavigate=function(a,l){var c=n.props,u=c.view,d=c.date,f=c.getNow,h=c.onNavigate,p=Ws(c,Nke),v=n.getView(),g=f();d=Oke(v,Et(Et({},p),{},{action:a,date:l||d||g,today:g})),h(d,u,a),n.handleRangeChange(d,v)},n.handleViewChange=function(a){a!==n.props.view&&Rke(a,n.props)&&n.props.onView(a);var l=n.getViews();n.handleRangeChange(n.props.date||n.props.getNow(),l[a],a)},n.handleSelectEvent=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];Ft(n.props.onSelectEvent,l)},n.handleDoubleClickEvent=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];Ft(n.props.onDoubleClickEvent,l)},n.handleKeyPressEvent=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];Ft(n.props.onKeyPressEvent,l)},n.handleSelectSlot=function(a){Ft(n.props.onSelectSlot,a)},n.handleDrillDown=function(a,l){var c=n.props.onDrillDown;if(c){c(a,l,n.drilldownView);return}l&&n.handleViewChange(l),n.handleNavigate(Wr.DATE,a)},n.state={context:e.getContext(n.props)},n}return gr(e,t),kn(e,[{key:"render",value:function(){var r=this.props,s=r.view,o=r.toolbar,a=r.events,l=r.backgroundEvents,c=r.resourceGroupingLayout,u=r.style,d=r.className,f=r.elementProps,h=r.date,p=r.getNow,v=r.length,g=r.showMultiDayTimes,b=r.onShowMore,y=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var x=Ws(r,Dke);h=h||p();var E=this.getView(),T=this.state.context,S=T.accessors,A=T.components,C=T.getters,P=T.localizer,I=T.viewNames,R=A.toolbar||LOe,j=E.title(h,{localizer:P,length:v});return L.createElement("div",Object.assign({},f,{className:sn(d,"rbc-calendar",x.rtl&&"rbc-rtl"),style:u}),o&&L.createElement(R,{date:h,view:s,views:I,label:j,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:P}),L.createElement(E,Object.assign({},x,{events:a,backgroundEvents:l,date:h,getNow:p,length:v,localizer:P,getters:C,components:A,accessors:S,showMultiDayTimes:g,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:b,doShowMoreDrillDown:y,resourceGroupingLayout:c})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:e.getContext(r)}}},{key:"getContext",value:function(r){var s=r.startAccessor,o=r.endAccessor,a=r.allDayAccessor,l=r.tooltipAccessor,c=r.titleAccessor,u=r.resourceAccessor,d=r.resourceIdAccessor,f=r.resourceTitleAccessor,h=r.eventIdAccessor,p=r.eventPropGetter,v=r.backgroundEventPropGetter,g=r.slotPropGetter,b=r.slotGroupPropGetter,y=r.dayPropGetter,x=r.view,E=r.views,T=r.localizer,S=r.culture,A=r.messages,C=A===void 0?{}:A,P=r.components,I=P===void 0?{}:P,R=r.formats,j=R===void 0?{}:R,O=c9(E),D=FOe(C);return{viewNames:O,localizer:jOe(T,S,j,D),getters:{eventProp:function(){return p&&p.apply(void 0,arguments)||{}},backgroundEventProp:function(){return v&&v.apply(void 0,arguments)||{}},slotProp:function(){return g&&g.apply(void 0,arguments)||{}},slotGroupProp:function(){return b&&b.apply(void 0,arguments)||{}},dayProp:function(){return y&&y.apply(void 0,arguments)||{}}},components:iCe(I[x]||{},QIe(I,O),{eventWrapper:_s,backgroundEventWrapper:_s,eventContainerWrapper:_s,dateCellWrapper:_s,weekWrapper:_s,timeSlotWrapper:_s,timeGutterWrapper:_s,timeIndicatorWrapper:_s}),accessors:{start:Zs(s),end:Zs(o),allDay:Zs(a),tooltip:Zs(l),title:Zs(c),resource:Zs(u),resourceId:Zs(d),resourceTitle:Zs(f),eventId:Zs(h)}}}}])}(L.Component);u9.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:xr.MONTH,views:[xr.MONTH,xr.WEEK,xr.DAY,xr.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:xr.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var Mke=C8(u9,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),jke=function(e,n,r){var s=e.start,o=e.end;return"".concat(r.format(s,"P",n),"  ").concat(r.format(o,"P",n))},F1=function(e,n,r){var s=e.start,o=e.end;return"".concat(r.format(s,"p",n),"  ").concat(r.format(o,"p",n))},Lke=function(e,n,r){var s=e.start;return"".concat(r.format(s,"h:mma",n),"  ")},$ke=function(e,n,r){var s=e.end;return"  ".concat(r.format(s,"h:mma",n))},Fke=function(e,n,r){var s=e.start,o=e.end;return"".concat(r.format(s,"MMMM dd",n),"  ").concat(r.format(o,df(s,o,"month")?"dd":"MMMM dd",n))},Vke={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:F1,eventTimeRangeFormat:F1,eventTimeRangeStartFormat:Lke,eventTimeRangeEndFormat:$ke,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:Fke,agendaHeaderFormat:jke,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:F1},Bke=function(e){var n=e.startOfWeek,r=e.getDay,s=e.format,o=e.locales;return new MOe({formats:Vke,firstOfWeek:function(l){return r(n(new Date,{locale:o[l]}))},format:function(l,c,u){return s(new Date(l),c,{locale:o[u]})}})};const Uke={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zke=(t,e,n)=>{let r;const s=Uke[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Xu(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Wke={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Hke={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qke={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Gke={date:Xu({formats:Wke,defaultWidth:"full"}),time:Xu({formats:Hke,defaultWidth:"full"}),dateTime:Xu({formats:qke,defaultWidth:"full"})},Kke={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Yke=(t,e,n,r)=>Kke[t];function Ts(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;s=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[a]}const o=t.argumentCallback?t.argumentCallback(e):e;return s[o]}}const Xke={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Qke={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Zke={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Jke={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eNe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},tNe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},nNe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},rNe={ordinalNumber:nNe,era:Ts({values:Xke,defaultWidth:"wide"}),quarter:Ts({values:Qke,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ts({values:Zke,defaultWidth:"wide"}),day:Ts({values:Jke,defaultWidth:"wide"}),dayPeriod:Ts({values:eNe,defaultWidth:"wide",formattingValues:tNe,defaultFormattingWidth:"wide"})};function Ss(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;const a=o[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?sNe(l,f=>f.test(a)):iNe(l,f=>f.test(a));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function iNe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function sNe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function d9(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],o=e.match(t.parsePattern);if(!o)return null;let a=t.valueCallback?t.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(s.length);return{value:a,rest:l}}}const oNe=/^(\d+)(th|st|nd|rd)?/i,aNe=/\d+/i,lNe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},cNe={any:[/^b/i,/^(a|c)/i]},uNe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},dNe={any:[/1/i,/2/i,/3/i,/4/i]},fNe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hNe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},pNe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},mNe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},gNe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},vNe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yNe={ordinalNumber:d9({matchPattern:oNe,parsePattern:aNe,valueCallback:t=>parseInt(t,10)}),era:Ss({matchPatterns:lNe,defaultMatchWidth:"wide",parsePatterns:cNe,defaultParseWidth:"any"}),quarter:Ss({matchPatterns:uNe,defaultMatchWidth:"wide",parsePatterns:dNe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ss({matchPatterns:fNe,defaultMatchWidth:"wide",parsePatterns:hNe,defaultParseWidth:"any"}),day:Ss({matchPatterns:pNe,defaultMatchWidth:"wide",parsePatterns:mNe,defaultParseWidth:"any"}),dayPeriod:Ss({matchPatterns:gNe,defaultMatchWidth:"any",parsePatterns:vNe,defaultParseWidth:"any"})},f9={code:"en-US",formatDistance:zke,formatLong:Gke,formatRelative:Yke,localize:rNe,match:yNe,options:{weekStartsOn:0,firstWeekContainsDate:1}};let bNe={};function Sf(){return bNe}const h9=6048e5,wNe=864e5,_Ne=6e4,xNe=36e5,ENe=1e3,PL=Symbol.for("constructDateFrom");function Un(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&PL in t?t[PL](e):t instanceof Date?new t.constructor(e):new Date(e)}function pn(t,e){return Un(e||t,t)}function cb(t){const e=pn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function TNe(t,...e){const n=Un.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function AL(t,e){const n=pn(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function SNe(t,e,n){const[r,s]=TNe(n==null?void 0:n.in,t,e),o=AL(r),a=AL(s),l=+o-cb(o),c=+a-cb(a);return Math.round((l-c)/wNe)}function CNe(t,e){const n=pn(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function PNe(t,e){const n=pn(t,e==null?void 0:e.in);return SNe(n,CNe(n))+1}function Lo(t,e){var l,c,u,d;const n=Sf(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=pn(t,e==null?void 0:e.in),o=s.getDay(),a=(o<r?7:0)+o-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Pd(t,e){return Lo(t,{...e,weekStartsOn:1})}function p9(t,e){const n=pn(t,e==null?void 0:e.in),r=n.getFullYear(),s=Un(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const o=Pd(s),a=Un(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const l=Pd(a);return n.getTime()>=o.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function ANe(t,e){const n=p9(t,e),r=Un((e==null?void 0:e.in)||t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Pd(r)}function m9(t,e){const n=pn(t,e==null?void 0:e.in),r=+Pd(n)-+ANe(n);return Math.round(r/h9)+1}function HO(t,e){var d,f,h,p;const n=pn(t,e==null?void 0:e.in),r=n.getFullYear(),s=Sf(),o=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(h=s.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,a=Un((e==null?void 0:e.in)||t,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);const l=Lo(a,e),c=Un((e==null?void 0:e.in)||t,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const u=Lo(c,e);return+n>=+l?r+1:+n>=+u?r:r-1}function INe(t,e){var l,c,u,d;const n=Sf(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=HO(t,e),o=Un((e==null?void 0:e.in)||t,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),Lo(o,e)}function g9(t,e){const n=pn(t,e==null?void 0:e.in),r=+Lo(n,e)-+INe(n,e);return Math.round(r/h9)+1}function pt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const la={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return pt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):pt(n+1,2)},d(t,e){return pt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return pt(t.getHours()%12||12,e.length)},H(t,e){return pt(t.getHours(),e.length)},m(t,e){return pt(t.getMinutes(),e.length)},s(t,e){return pt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return pt(s,e.length)}},ru={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},IL={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return la.y(t,e)},Y:function(t,e,n,r){const s=HO(t,r),o=s>0?s:1-s;if(e==="YY"){const a=o%100;return pt(a,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):pt(o,e.length)},R:function(t,e){const n=p9(t);return pt(n,e.length)},u:function(t,e){const n=t.getFullYear();return pt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return pt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return pt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return la.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return pt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=g9(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):pt(s,e.length)},I:function(t,e,n){const r=m9(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):pt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):la.d(t,e)},D:function(t,e,n){const r=PNe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):pt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return pt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return pt(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return pt(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=ru.noon:r===0?s=ru.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=ru.evening:r>=12?s=ru.afternoon:r>=4?s=ru.morning:s=ru.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return la.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):la.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):pt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):pt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):la.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):la.s(t,e)},S:function(t,e){return la.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return kL(r);case"XXXX":case"XX":return kl(r);case"XXXXX":case"XXX":default:return kl(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return kL(r);case"xxxx":case"xx":return kl(r);case"xxxxx":case"xxx":default:return kl(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+OL(r,":");case"OOOO":default:return"GMT"+kl(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+OL(r,":");case"zzzz":default:return"GMT"+kl(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return pt(r,e.length)},T:function(t,e,n){return pt(+t,e.length)}};function OL(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),o=r%60;return o===0?n+String(s):n+String(s)+e+pt(o,2)}function kL(t,e){return t%60===0?(t>0?"-":"+")+pt(Math.abs(t)/60,2):kl(t,e)}function kl(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=pt(Math.trunc(r/60),2),o=pt(r%60,2);return n+s+e+o}const NL=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},v9=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},ONe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return NL(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",NL(r,e)).replace("{{time}}",v9(s,e))},RS={p:v9,P:ONe},kNe=/^D+$/,NNe=/^Y+$/,DNe=["D","DD","YY","YYYY"];function y9(t){return kNe.test(t)}function b9(t){return NNe.test(t)}function MS(t,e,n){const r=RNe(t,e,n);if(console.warn(r),DNe.includes(t))throw new RangeError(r)}function RNe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function MNe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function jNe(t){return!(!MNe(t)&&typeof t!="number"||isNaN(+pn(t)))}const LNe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$Ne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,FNe=/^'([^]*?)'?$/,VNe=/''/g,BNe=/[a-zA-Z]/;function UNe(t,e,n){var d,f,h,p,v,g,b,y;const r=Sf(),s=(n==null?void 0:n.locale)??r.locale??f9,o=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((g=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((y=(b=r.locale)==null?void 0:b.options)==null?void 0:y.weekStartsOn)??0,l=pn(t,n==null?void 0:n.in);if(!jNe(l))throw new RangeError("Invalid time value");let c=e.match($Ne).map(x=>{const E=x[0];if(E==="p"||E==="P"){const T=RS[E];return T(x,s.formatLong)}return x}).join("").match(LNe).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const E=x[0];if(E==="'")return{isToken:!1,value:zNe(x)};if(IL[E])return{isToken:!0,value:x};if(E.match(BNe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:o,weekStartsOn:a,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const E=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&b9(E)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&y9(E))&&MS(E,e,String(t));const T=IL[E[0]];return T(l,E,s.localize,u)}).join("")}function zNe(t){const e=t.match(FNe);return e?e[1].replace(VNe,"'"):t}function WNe(){return Object.assign({},Sf())}function HNe(t,e){const n=qNe(e)?new e(0):Un(e,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}function qNe(t){var e;return typeof t=="function"&&((e=t.prototype)==null?void 0:e.constructor)===t}const GNe=10;class w9{constructor(){Pe(this,"subPriority",0)}validate(e,n){return!0}}class KNe extends w9{constructor(e,n,r,s,o){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=s,o&&(this.subPriority=o)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class YNe extends w9{constructor(n,r){super();Pe(this,"priority",GNe);Pe(this,"subPriority",-1);this.context=n||(s=>Un(r,s))}set(n,r){return r.timestampIsSet?n:Un(n,HNe(n,this.context))}}class ut{run(e,n,r,s){const o=this.parse(e,n,r,s);return o?{setter:new KNe(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,n,r){return!0}}class XNe extends ut{constructor(){super(...arguments);Pe(this,"priority",140);Pe(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,s){switch(r){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})||s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"})}}set(n,r,s){return r.era=s,n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}const un={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Cs={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function dn(t,e){return t&&{value:e(t.value),rest:t.rest}}function qt(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Ps(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,s=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:r*(s*xNe+o*_Ne+a*ENe),rest:e.slice(n[0].length)}}function _9(t){return qt(un.anyDigitsSigned,t)}function on(t,e){switch(t){case 1:return qt(un.singleDigit,e);case 2:return qt(un.twoDigits,e);case 3:return qt(un.threeDigits,e);case 4:return qt(un.fourDigits,e);default:return qt(new RegExp("^\\d{1,"+t+"}"),e)}}function ub(t,e){switch(t){case 1:return qt(un.singleDigitSigned,e);case 2:return qt(un.twoDigitsSigned,e);case 3:return qt(un.threeDigitsSigned,e);case 4:return qt(un.fourDigitsSigned,e);default:return qt(new RegExp("^-?\\d{1,"+t+"}"),e)}}function qO(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function x9(t,e){const n=e>0,r=n?e:1-e;let s;if(r<=50)s=t||100;else{const o=r+50,a=Math.trunc(o/100)*100,l=t>=o%100;s=t+a-(l?100:0)}return n?s:1-s}function E9(t){return t%400===0||t%4===0&&t%100!==0}class QNe extends ut{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,s){const o=a=>({year:a,isTwoDigitYear:r==="yy"});switch(r){case"y":return dn(on(4,n),o);case"yo":return dn(s.ordinalNumber(n,{unit:"year"}),o);default:return dn(on(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s){const o=n.getFullYear();if(s.isTwoDigitYear){const l=x9(s.year,o);return n.setFullYear(l,0,1),n.setHours(0,0,0,0),n}const a=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}}class ZNe extends ut{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,s){const o=a=>({year:a,isTwoDigitYear:r==="YY"});switch(r){case"Y":return dn(on(4,n),o);case"Yo":return dn(s.ordinalNumber(n,{unit:"year"}),o);default:return dn(on(r.length,n),o)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s,o){const a=HO(n,o);if(s.isTwoDigitYear){const c=x9(s.year,a);return n.setFullYear(c,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),Lo(n,o)}const l=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(l,0,o.firstWeekContainsDate),n.setHours(0,0,0,0),Lo(n,o)}}class JNe extends ut{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return ub(r==="R"?4:r.length,n)}set(n,r,s){const o=Un(n,0);return o.setFullYear(s,0,4),o.setHours(0,0,0,0),Pd(o)}}class e2e extends ut{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return ub(r==="u"?4:r.length,n)}set(n,r,s){return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class t2e extends ut{constructor(){super(...arguments);Pe(this,"priority",120);Pe(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"Q":case"QQ":return on(r.length,n);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})||s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class n2e extends ut{constructor(){super(...arguments);Pe(this,"priority",120);Pe(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"q":case"qq":return on(r.length,n);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})||s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class r2e extends ut{constructor(){super(...arguments);Pe(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Pe(this,"priority",110)}parse(n,r,s){const o=a=>a-1;switch(r){case"M":return dn(qt(un.month,n),o);case"MM":return dn(on(2,n),o);case"Mo":return dn(s.ordinalNumber(n,{unit:"month"}),o);case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})||s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}class i2e extends ut{constructor(){super(...arguments);Pe(this,"priority",110);Pe(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,s){const o=a=>a-1;switch(r){case"L":return dn(qt(un.month,n),o);case"LL":return dn(on(2,n),o);case"Lo":return dn(s.ordinalNumber(n,{unit:"month"}),o);case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})||s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}function s2e(t,e,n){const r=pn(t,n==null?void 0:n.in),s=g9(r,n)-e;return r.setDate(r.getDate()-s*7),pn(r,n==null?void 0:n.in)}class o2e extends ut{constructor(){super(...arguments);Pe(this,"priority",100);Pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,s){switch(r){case"w":return qt(un.week,n);case"wo":return s.ordinalNumber(n,{unit:"week"});default:return on(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s,o){return Lo(s2e(n,s,o),o)}}function a2e(t,e,n){const r=pn(t,n==null?void 0:n.in),s=m9(r,n)-e;return r.setDate(r.getDate()-s*7),r}class l2e extends ut{constructor(){super(...arguments);Pe(this,"priority",100);Pe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,s){switch(r){case"I":return qt(un.week,n);case"Io":return s.ordinalNumber(n,{unit:"week"});default:return on(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s){return Pd(a2e(n,s))}}const c2e=[31,28,31,30,31,30,31,31,30,31,30,31],u2e=[31,29,31,30,31,30,31,31,30,31,30,31];class d2e extends ut{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"subPriority",1);Pe(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"d":return qt(un.date,n);case"do":return s.ordinalNumber(n,{unit:"date"});default:return on(r.length,n)}}validate(n,r){const s=n.getFullYear(),o=E9(s),a=n.getMonth();return o?r>=1&&r<=u2e[a]:r>=1&&r<=c2e[a]}set(n,r,s){return n.setDate(s),n.setHours(0,0,0,0),n}}class f2e extends ut{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"subpriority",1);Pe(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,s){switch(r){case"D":case"DD":return qt(un.dayOfYear,n);case"Do":return s.ordinalNumber(n,{unit:"date"});default:return on(r.length,n)}}validate(n,r){const s=n.getFullYear();return E9(s)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,s){return n.setMonth(0,s),n.setHours(0,0,0,0),n}}function T9(t,e,n){const r=pn(t,n==null?void 0:n.in);return isNaN(e)?Un((n==null?void 0:n.in)||t,NaN):(e&&r.setDate(r.getDate()+e),r)}function GO(t,e,n){var f,h,p,v;const r=Sf(),s=(n==null?void 0:n.weekStartsOn)??((h=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??r.weekStartsOn??((v=(p=r.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??0,o=pn(t,n==null?void 0:n.in),a=o.getDay(),c=(e%7+7)%7,u=7-s,d=e<0||e>6?e-(a+u)%7:(c+u)%7-(a+u)%7;return T9(o,d,n)}class h2e extends ut{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,o){return n=GO(n,s,o),n.setHours(0,0,0,0),n}}class p2e extends ut{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,s,o){const a=l=>{const c=Math.floor((l-1)/7)*7;return(l+o.weekStartsOn+6)%7+c};switch(r){case"e":case"ee":return dn(on(r.length,n),a);case"eo":return dn(s.ordinalNumber(n,{unit:"day"}),a);case"eee":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,o){return n=GO(n,s,o),n.setHours(0,0,0,0),n}}class m2e extends ut{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,s,o){const a=l=>{const c=Math.floor((l-1)/7)*7;return(l+o.weekStartsOn+6)%7+c};switch(r){case"c":case"cc":return dn(on(r.length,n),a);case"co":return dn(s.ordinalNumber(n,{unit:"day"}),a);case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(n,{width:"wide",context:"standalone"})||s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,o){return n=GO(n,s,o),n.setHours(0,0,0,0),n}}function g2e(t,e){const n=pn(t,e==null?void 0:e.in).getDay();return n===0?7:n}function v2e(t,e,n){const r=pn(t,n==null?void 0:n.in),s=g2e(r,n),o=e-s;return T9(r,o,n)}class y2e extends ut{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,s){const o=a=>a===0?7:a;switch(r){case"i":case"ii":return on(r.length,n);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return dn(s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),o);case"iiiii":return dn(s.day(n,{width:"narrow",context:"formatting"}),o);case"iiiiii":return dn(s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),o);case"iiii":default:return dn(s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),o)}}validate(n,r){return r>=1&&r<=7}set(n,r,s){return n=v2e(n,s),n.setHours(0,0,0,0),n}}class b2e extends ut{constructor(){super(...arguments);Pe(this,"priority",80);Pe(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,s){switch(r){case"a":case"aa":case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(qO(s),0,0,0),n}}class w2e extends ut{constructor(){super(...arguments);Pe(this,"priority",80);Pe(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,s){switch(r){case"b":case"bb":case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(qO(s),0,0,0),n}}class _2e extends ut{constructor(){super(...arguments);Pe(this,"priority",80);Pe(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,s){switch(r){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(qO(s),0,0,0),n}}class x2e extends ut{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,s){switch(r){case"h":return qt(un.hour12h,n);case"ho":return s.ordinalNumber(n,{unit:"hour"});default:return on(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,s){const o=n.getHours()>=12;return o&&s<12?n.setHours(s+12,0,0,0):!o&&s===12?n.setHours(0,0,0,0):n.setHours(s,0,0,0),n}}class E2e extends ut{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,s){switch(r){case"H":return qt(un.hour23h,n);case"Ho":return s.ordinalNumber(n,{unit:"hour"});default:return on(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,s){return n.setHours(s,0,0,0),n}}class T2e extends ut{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,s){switch(r){case"K":return qt(un.hour11h,n);case"Ko":return s.ordinalNumber(n,{unit:"hour"});default:return on(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.getHours()>=12&&s<12?n.setHours(s+12,0,0,0):n.setHours(s,0,0,0),n}}class S2e extends ut{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,s){switch(r){case"k":return qt(un.hour24h,n);case"ko":return s.ordinalNumber(n,{unit:"hour"});default:return on(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,s){const o=s<=24?s%24:s;return n.setHours(o,0,0,0),n}}class C2e extends ut{constructor(){super(...arguments);Pe(this,"priority",60);Pe(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"m":return qt(un.minute,n);case"mo":return s.ordinalNumber(n,{unit:"minute"});default:return on(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setMinutes(s,0,0),n}}class P2e extends ut{constructor(){super(...arguments);Pe(this,"priority",50);Pe(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"s":return qt(un.second,n);case"so":return s.ordinalNumber(n,{unit:"second"});default:return on(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setSeconds(s,0),n}}class A2e extends ut{constructor(){super(...arguments);Pe(this,"priority",30);Pe(this,"incompatibleTokens",["t","T"])}parse(n,r){const s=o=>Math.trunc(o*Math.pow(10,-r.length+3));return dn(on(r.length,n),s)}set(n,r,s){return n.setMilliseconds(s),n}}class I2e extends ut{constructor(){super(...arguments);Pe(this,"priority",10);Pe(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Ps(Cs.basicOptionalMinutes,n);case"XX":return Ps(Cs.basic,n);case"XXXX":return Ps(Cs.basicOptionalSeconds,n);case"XXXXX":return Ps(Cs.extendedOptionalSeconds,n);case"XXX":default:return Ps(Cs.extended,n)}}set(n,r,s){return r.timestampIsSet?n:Un(n,n.getTime()-cb(n)-s)}}class O2e extends ut{constructor(){super(...arguments);Pe(this,"priority",10);Pe(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Ps(Cs.basicOptionalMinutes,n);case"xx":return Ps(Cs.basic,n);case"xxxx":return Ps(Cs.basicOptionalSeconds,n);case"xxxxx":return Ps(Cs.extendedOptionalSeconds,n);case"xxx":default:return Ps(Cs.extended,n)}}set(n,r,s){return r.timestampIsSet?n:Un(n,n.getTime()-cb(n)-s)}}class k2e extends ut{constructor(){super(...arguments);Pe(this,"priority",40);Pe(this,"incompatibleTokens","*")}parse(n){return _9(n)}set(n,r,s){return[Un(n,s*1e3),{timestampIsSet:!0}]}}class N2e extends ut{constructor(){super(...arguments);Pe(this,"priority",20);Pe(this,"incompatibleTokens","*")}parse(n){return _9(n)}set(n,r,s){return[Un(n,s),{timestampIsSet:!0}]}}const D2e={G:new XNe,y:new QNe,Y:new ZNe,R:new JNe,u:new e2e,Q:new t2e,q:new n2e,M:new r2e,L:new i2e,w:new o2e,I:new l2e,d:new d2e,D:new f2e,E:new h2e,e:new p2e,c:new m2e,i:new y2e,a:new b2e,b:new w2e,B:new _2e,h:new x2e,H:new E2e,K:new T2e,k:new S2e,m:new C2e,s:new P2e,S:new A2e,X:new I2e,x:new O2e,t:new k2e,T:new N2e},R2e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,M2e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,j2e=/^'([^]*?)'?$/,L2e=/''/g,$2e=/\S/,F2e=/[a-zA-Z]/;function V2e(t,e,n,r){var b,y,x,E,T,S,A,C;const s=()=>Un((r==null?void 0:r.in)||n,NaN),o=WNe(),a=(r==null?void 0:r.locale)??o.locale??f9,l=(r==null?void 0:r.firstWeekContainsDate)??((y=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:y.firstWeekContainsDate)??o.firstWeekContainsDate??((E=(x=o.locale)==null?void 0:x.options)==null?void 0:E.firstWeekContainsDate)??1,c=(r==null?void 0:r.weekStartsOn)??((S=(T=r==null?void 0:r.locale)==null?void 0:T.options)==null?void 0:S.weekStartsOn)??o.weekStartsOn??((C=(A=o.locale)==null?void 0:A.options)==null?void 0:C.weekStartsOn)??0;if(!e)return t?s():pn(n,r==null?void 0:r.in);const u={firstWeekContainsDate:l,weekStartsOn:c,locale:a},d=[new YNe(r==null?void 0:r.in,n)],f=e.match(M2e).map(P=>{const I=P[0];if(I in RS){const R=RS[I];return R(P,a.formatLong)}return P}).join("").match(R2e),h=[];for(let P of f){!(r!=null&&r.useAdditionalWeekYearTokens)&&b9(P)&&MS(P,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&y9(P)&&MS(P,e,t);const I=P[0],R=D2e[I];if(R){const{incompatibleTokens:j}=R;if(Array.isArray(j)){const D=h.find(N=>j.includes(N.token)||N.token===I);if(D)throw new RangeError(`The format string mustn't contain \`${D.fullToken}\` and \`${P}\` at the same time`)}else if(R.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${P}\` and any other token at the same time`);h.push({token:I,fullToken:P});const O=R.run(t,P,a.match,u);if(!O)return s();d.push(O.setter),t=O.rest}else{if(I.match(F2e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");if(P==="''"?P="'":I==="'"&&(P=B2e(P)),t.indexOf(P)===0)t=t.slice(P.length);else return s()}}if(t.length>0&&$2e.test(t))return s();const p=d.map(P=>P.priority).sort((P,I)=>I-P).filter((P,I,R)=>R.indexOf(P)===I).map(P=>d.filter(I=>I.priority===P).sort((I,R)=>R.subPriority-I.subPriority)).map(P=>P[0]);let v=pn(n,r==null?void 0:r.in);if(isNaN(+v))return s();const g={};for(const P of p){if(!P.validate(v,u))return s();const I=P.set(v,g,u);Array.isArray(I)?(v=I[0],Object.assign(g,I[1])):v=I}return v}function B2e(t){return t.match(j2e)[1].replace(L2e,"'")}function U2e(t,e){return pn(t,e==null?void 0:e.in).getDay()}const z2e={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},W2e=(t,e,n)=>{let r;const s=z2e[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},H2e={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},q2e={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},G2e={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},K2e={date:Xu({formats:H2e,defaultWidth:"full"}),time:Xu({formats:q2e,defaultWidth:"full"}),dateTime:Xu({formats:G2e,defaultWidth:"full"})},Y2e={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},X2e={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},Q2e=(t,e,n,r)=>e.getHours()!==1?X2e[t]:Y2e[t],Z2e={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},J2e={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},eDe={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},tDe={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},nDe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},rDe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},iDe=(t,e)=>Number(t)+"",sDe={ordinalNumber:iDe,era:Ts({values:Z2e,defaultWidth:"wide"}),quarter:Ts({values:J2e,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:Ts({values:eDe,defaultWidth:"wide"}),day:Ts({values:tDe,defaultWidth:"wide"}),dayPeriod:Ts({values:nDe,defaultWidth:"wide",formattingValues:rDe,defaultFormattingWidth:"wide"})},oDe=/^(\d+)()?/i,aDe=/\d+/i,lDe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},cDe={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},uDe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},dDe={any:[/1/i,/2/i,/3/i,/4/i]},fDe={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},hDe={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},pDe={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},mDe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},gDe={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},vDe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},yDe={ordinalNumber:d9({matchPattern:oDe,parsePattern:aDe,valueCallback:function(t){return parseInt(t,10)}}),era:Ss({matchPatterns:lDe,defaultMatchWidth:"wide",parsePatterns:cDe,defaultParseWidth:"any"}),quarter:Ss({matchPatterns:uDe,defaultMatchWidth:"wide",parsePatterns:dDe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ss({matchPatterns:fDe,defaultMatchWidth:"wide",parsePatterns:hDe,defaultParseWidth:"any"}),day:Ss({matchPatterns:pDe,defaultMatchWidth:"wide",parsePatterns:mDe,defaultParseWidth:"any"}),dayPeriod:Ss({matchPatterns:gDe,defaultMatchWidth:"any",parsePatterns:vDe,defaultParseWidth:"any"})},bDe={code:"es",formatDistance:W2e,formatLong:K2e,formatRelative:Q2e,localize:sDe,match:yDe,options:{weekStartsOn:1,firstWeekContainsDate:1}};function V1(t){const e=n=>String(n).padStart(2,"0");return`${t.getUTCFullYear()}${e(t.getUTCMonth()+1)}${e(t.getUTCDate())}T${e(t.getUTCHours())}${e(t.getUTCMinutes())}${e(t.getUTCSeconds())}Z`}function wDe(t){const e=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//Lovenda//WeddingApp//ES"];return t.forEach(n=>{e.push("BEGIN:VEVENT"),e.push(`UID:${n.id}`),e.push(`DTSTAMP:${V1(new Date)}`),e.push(`DTSTART:${V1(n.start)}`),e.push(`DTEND:${V1(n.end)}`),e.push(`SUMMARY:${n.title}`),n.desc&&e.push(`DESCRIPTION:${n.desc}`),e.push("END:VEVENT")}),e.push("END:VCALENDAR"),e.join(`\r
`)}const _De=t=>{const e=wDe(t),n=new Blob([e],{type:"text/calendar;charset=utf-8"}),r=URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download="calendario_wedding.ics",document.body.appendChild(s),s.click(),document.body.removeChild(s)},xDe={"es-ES":bDe},EDe=Bke({format:UNe,parse:V2e,startOfWeek:()=>Lo(new Date,{weekStartsOn:1}),getDay:U2e,locales:xDe}),Zl={LUGAR:{name:"Lugar",color:"#10b981",bgColor:"#d1fae5",borderColor:"#34d399"},FOTOGRAFO:{name:"Fotgrafo",color:"#f59e0b",bgColor:"#fef3c7",borderColor:"#fbbf24"},MUSICA:{name:"Msica",color:"#ef4444",bgColor:"#fee2e2",borderColor:"#f87171"},VESTUARIO:{name:"Vestuario",color:"#8b5cf6",bgColor:"#ede9fe",borderColor:"#a78bfa"},CATERING:{name:"Catering",color:"#3b82f6",bgColor:"#dbeafe",borderColor:"#60a5fa"},OTROS:{name:"Otros",color:"#6b7280",bgColor:"#f3f4f6",borderColor:"#9ca3af"}},TDe=t=>{const e=Zl[t.category]||Zl.OTROS;return{style:{backgroundColor:e.bgColor,color:"#1f2937",border:`2px solid ${e.color}`,borderRadius:"4px",opacity:.9,display:"block",fontSize:"0.85rem",padding:"2px 4px",boxShadow:"0 1px 2px rgba(0,0,0,0.1)"}}},SDe=({event:t})=>{const e=Zl[t.category]||Zl.OTROS;return w.jsx("div",{className:"p-1",children:w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:"w-1.5 h-1.5 rounded-full mr-1 flex-shrink-0",style:{backgroundColor:e.color}}),w.jsx("span",{className:"truncate font-medium",children:t.title})]})})},Uv=[{start:new Date(2025,0,1),end:new Date(2025,2,31),name:"Buscar lugar de la boda",id:"1",type:"task",category:"LUGAR",progress:20,isDisabled:!1,dependencies:[]},{start:new Date(2025,3,1),end:new Date(2025,4,15),name:"Buscar fotgrafo",id:"2",type:"task",category:"FOTOGRAFO",progress:10,isDisabled:!1,dependencies:[]},{start:new Date(2025,2,15),end:new Date(2025,3,30),name:"Contratar grupo musical",id:"3",type:"task",category:"MUSICA",progress:5,isDisabled:!1,dependencies:[]}],CDe=[{id:"m1",title:"Visita al saln de eventos",start:new Date(2025,5,10,10,0),end:new Date(2025,5,10,11,30),type:"meeting",category:"LUGAR",desc:"Ver las instalaciones y paquetes disponibles",location:"Saln Las Dalias, Calle Principal 123"},{id:"m2",title:"Reunin con fotgrafo",start:new Date(2025,5,12,16,0),end:new Date(2025,5,12,17,0),type:"meeting",category:"FOTOGRAFO",desc:"Revisar portafolio y paquetes",contact:"Fotografa Martnez, 555-1234"},{id:"m3",title:"Prueba de vestido",start:new Date(2025,5,15,16,0),end:new Date(2025,5,15,18,0),type:"task",category:"VESTUARIO",desc:"Llevar zapatos y joyas",location:"Boutique Elegancia, Centro Comercial Galeras"},{id:"m4",title:"Prueba de sonido con la banda",start:new Date(2025,5,18,19,0),end:new Date(2025,5,18,21,0),type:"task",category:"MUSICA",desc:"Llevar lista de canciones",contact:"Banda Sonora Perfecta, 555-5678"},{id:"m5",title:"Cata de men",start:new Date(2025,5,20,12,0),end:new Date(2025,5,20,13,0),type:"meeting",category:"CATERING",desc:"Probar opciones de men y postres",location:"Catering Delicias, Av. Principal 456"}];function PDe(){const[t,e]=F.useState(()=>localStorage.getItem("tasksView")||"month"),n=F.useRef(null);F.useEffect(()=>{localStorage.setItem("tasksView",t)},[t]);const r=40,[s,o]=F.useState(0);F.useEffect(()=>{if(!n.current)return;const c=n.current.clientWidth,u=Uv.flatMap(y=>[y.start,y.end]),d=Math.min(...u.map(y=>y.getTime())),f=Math.max(...u.map(y=>y.getTime())),h=new Date(d),p=new Date(f),v=(p.getFullYear()-h.getFullYear())*12+(p.getMonth()-h.getMonth())+1,g=c-r,b=Math.min(Math.floor(g/v),50);o(b)},[Uv]);const a=[...CDe,...Uv.map(c=>({id:c.id,title:c.name,start:c.start,end:c.end,type:"task",desc:`Progreso: ${c.progress}%`,category:c.category}))];F.useEffect(()=>{"Notification"in window&&Notification.requestPermission().then(c=>{c==="granted"&&a.forEach(u=>{const d=new Date,f=u.start-d-10*60*1e3;f>0&&setTimeout(()=>{new Notification(`Prximo evento: ${u.title}`,{body:`Empieza a las ${u.start.toLocaleTimeString()}`})},f)})})},[a]);const l=a.map(c=>({...c,start:c.start instanceof Date?c.start:new Date(c.start),end:c.end instanceof Date?c.end:new Date(c.end)}));return w.jsxs("div",{className:"p-4 md:p-6 space-y-8",children:[w.jsx("style",{children:` 
        ._1nBOt > *:nth-child(n+2),
        ._34SS0 > *:nth-child(n+2) {
          display: none !important;
        }
      `}),w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Gestin de Tareas y Eventos"}),w.jsxs("details",{className:"relative inline-block",children:[w.jsx("summary",{className:"bg-blue-600 text-white px-3 py-1 rounded cursor-pointer",children:"Sincronizar calendario"}),w.jsxs("div",{className:"absolute left-0 mt-2 bg-white border rounded shadow p-2 space-y-1",children:[w.jsx("button",{onClick:()=>_De(a),className:"w-full text-left text-gray-800 hover:bg-gray-100 p-1",children:"Exportar .ics"}),w.jsx("button",{onClick:()=>window.open("/calendar.ics","_blank"),className:"w-full text-left text-gray-800 hover:bg-gray-100 p-1",children:"Suscribirse iCal"}),w.jsx("a",{href:`https://calendar.google.com/calendar/r?cid=${encodeURIComponent(window.location.origin+"/calendar.ics")}`,target:"_blank",rel:"noopener",className:"w-full block text-left text-gray-800 hover:bg-gray-100 p-1",children:"Google Calendar"}),w.jsx("a",{href:`https://outlook.live.com/owa/?path=/calendar/view&rru=addsubscription&url=${encodeURIComponent(window.location.origin+"/calendar.ics")}`,target:"_blank",rel:"noopener",className:"w-full block text-left text-gray-800 hover:bg-gray-100 p-1",children:"Outlook Calendar"})]})]})]}),w.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[w.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Vista del Proyecto"}),w.jsx("div",{ref:n,className:"w-full overflow-x-hidden",style:{marginLeft:-r,paddingLeft:r},children:w.jsx(sme,{tasks:Uv,viewMode:kt.Month,listCellWidth:r,columnWidth:s,locale:"es",barFill:60,barCornerRadius:4,barProgressColor:"#4f46e5",barProgressSelectedColor:"#4338ca",barBackgroundColor:"#a5b4fc",barBackgroundSelectedColor:"#818cf8",todayColor:"rgba(252,165,165,0.2)"})})]}),w.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[w.jsx("div",{className:"md:w-2/3",children:w.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[w.jsxs("div",{className:"p-4 border-b border-gray-200",children:[w.jsx("h2",{className:"text-xl font-semibold",children:"Calendario"}),w.jsxs("div",{className:"flex space-x-2 mt-2",children:[w.jsx("button",{onClick:()=>e("month"),className:`px-3 py-1 text-sm rounded ${t==="month"?"bg-pink-500 text-white":"bg-gray-200"}`,children:"Mes"}),w.jsx("button",{onClick:()=>e("week"),className:`px-3 py-1 text-sm rounded ${t==="week"?"bg-pink-500 text-white":"bg-gray-200"}`,children:"Semana"}),w.jsx("button",{onClick:()=>e("day"),className:`px-3 py-1 text-sm rounded ${t==="day"?"bg-pink-500 text-white":"bg-gray-200"}`,children:"Da"})]})]}),w.jsx("div",{className:"p-2",children:w.jsx(Mke,{localizer:EDe,events:l,startAccessor:"start",endAccessor:"end",style:{height:500},defaultView:"month",view:t,onView:e,components:{event:SDe},eventPropGetter:TDe,messages:{next:"Siguiente",previous:"Anterior",today:"Hoy",month:"Mes",week:"Semana",day:"Da",noEventsInRange:"No hay eventos en este rango."}})})]})}),w.jsx("div",{className:"md:w-1/3",children:w.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden h-full flex flex-col",children:[w.jsxs("div",{className:"p-4 border-b border-gray-200",children:[w.jsx("h2",{className:"text-xl font-semibold",children:"Prximas Tareas"}),w.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Object.entries(Zl).map(([c,u])=>w.jsxs("div",{className:"flex items-center text-xs",children:[w.jsx("div",{className:"w-3 h-3 rounded-full mr-1",style:{backgroundColor:u.color}}),u.name]},c))})]}),w.jsxs("div",{className:"p-4 space-y-4 flex-1 overflow-y-auto",children:[l.sort((c,u)=>c.start-u.start).filter(c=>c.start>=new Date).slice(0,8).map(c=>{const u=Zl[c.category]||Zl.OTROS;return w.jsxs("div",{className:"p-3 border rounded-lg hover:shadow-md transition-shadow",style:{borderColor:u.borderColor,backgroundColor:`${u.bgColor}40`},children:[w.jsxs("div",{className:"flex items-start",children:[w.jsx("div",{className:"w-3 h-3 rounded-full mr-2 flex-shrink-0",style:{backgroundColor:u.color}}),w.jsxs("div",{className:"flex-1",children:[w.jsxs("div",{className:"font-medium flex justify-between",children:[w.jsx("span",{children:c.title}),w.jsx("span",{className:"text-xs text-gray-500",children:c.start.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})})]}),c.desc&&w.jsx("div",{className:"text-xs mt-1 text-gray-700",children:c.desc}),c.location&&w.jsxs("div",{className:"text-xs mt-1 flex items-center text-gray-600",children:[w.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9"})}),c.location]}),c.contact&&w.jsxs("div",{className:"text-xs mt-1 flex items-center text-gray-600",children:[w.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2"})}),c.contact]})]})]}),w.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[w.jsx("span",{className:"text-xs px-2 py-1 rounded-full",style:{backgroundColor:`${u.color}20`,color:u.color},children:u.name}),w.jsx("span",{className:"text-xs text-gray-500",children:c.start.toLocaleDateString("es-ES",{weekday:"short",day:"numeric",month:"short"})})]})]},c.id)}),l.filter(c=>c.start>=new Date).length===0&&w.jsx("div",{className:"text-center text-gray-500 py-4",children:"No hay tareas prximas"})]})]})})]})]})}function Lg({message:t,type:e="info",onClose:n,duration:r=3e3}){F.useEffect(()=>{const o=setTimeout(n,r);return()=>clearTimeout(o)},[n,r]);const s={success:"bg-green-500",error:"bg-red-500",info:"bg-blue-500",warning:"bg-yellow-500"}[e]||"bg-gray-500";return w.jsx("div",{role:"alert","aria-live":"assertive",className:`fixed top-4 right-4 ${s} text-white px-4 py-2 rounded shadow-lg`,children:t})}var S9={exports:{}};(function(t,e){(function(n,r){r()})(cn,function(){function n(u,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,d,f){var h=new XMLHttpRequest;h.open("GET",u),h.responseType="blob",h.onload=function(){c(h.response,d,f)},h.onerror=function(){console.error("could not download file")},h.send()}function s(u){var d=new XMLHttpRequest;d.open("HEAD",u,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function o(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(d)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof cn=="object"&&cn.global===cn?cn:void 0,l=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(u,d,f){var h=a.URL||a.webkitURL,p=document.createElement("a");d=d||u.name||"download",p.download=d,p.rel="noopener",typeof u=="string"?(p.href=u,p.origin===location.origin?o(p):s(p.href)?r(u,d,f):o(p,p.target="_blank")):(p.href=h.createObjectURL(u),setTimeout(function(){h.revokeObjectURL(p.href)},4e4),setTimeout(function(){o(p)},0))}:"msSaveOrOpenBlob"in navigator?function(u,d,f){if(d=d||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,f),d);else if(s(u))r(u,d,f);else{var h=document.createElement("a");h.href=u,h.target="_blank",setTimeout(function(){o(h)})}}:function(u,d,f,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof u=="string")return r(u,d,f);var p=u.type==="application/octet-stream",v=/constructor/i.test(a.HTMLElement)||a.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||p&&v||l)&&typeof FileReader<"u"){var b=new FileReader;b.onloadend=function(){var E=b.result;E=g?E:E.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=E:location=E,h=null},b.readAsDataURL(u)}else{var y=a.URL||a.webkitURL,x=y.createObjectURL(u);h?h.location=x:location.href=x,h=null,setTimeout(function(){y.revokeObjectURL(x)},4e4)}});a.saveAs=c.saveAs=c,t.exports=c})})(S9);var C9=S9.exports;async function DL({bankId:t,from:e,to:n}={}){return console.warn("Bank API configuration missing; returning empty transaction list"),[]}function ADe(t){return t==null}var IDe=ADe;const nt=Ke(IDe);var ODe=qo,kDe=vr,NDe=us,DDe="[object String]";function RDe(t){return typeof t=="string"||!kDe(t)&&NDe(t)&&ODe(t)==DDe}var MDe=RDe;const $g=Ke(MDe);var P9={exports:{}},yt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KO=Symbol.for("react.element"),YO=Symbol.for("react.portal"),__=Symbol.for("react.fragment"),x_=Symbol.for("react.strict_mode"),E_=Symbol.for("react.profiler"),T_=Symbol.for("react.provider"),S_=Symbol.for("react.context"),jDe=Symbol.for("react.server_context"),C_=Symbol.for("react.forward_ref"),P_=Symbol.for("react.suspense"),A_=Symbol.for("react.suspense_list"),I_=Symbol.for("react.memo"),O_=Symbol.for("react.lazy"),LDe=Symbol.for("react.offscreen"),A9;A9=Symbol.for("react.module.reference");function $i(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case KO:switch(t=t.type,t){case __:case E_:case x_:case P_:case A_:return t;default:switch(t=t&&t.$$typeof,t){case jDe:case S_:case C_:case O_:case I_:case T_:return t;default:return e}}case YO:return e}}}yt.ContextConsumer=S_;yt.ContextProvider=T_;yt.Element=KO;yt.ForwardRef=C_;yt.Fragment=__;yt.Lazy=O_;yt.Memo=I_;yt.Portal=YO;yt.Profiler=E_;yt.StrictMode=x_;yt.Suspense=P_;yt.SuspenseList=A_;yt.isAsyncMode=function(){return!1};yt.isConcurrentMode=function(){return!1};yt.isContextConsumer=function(t){return $i(t)===S_};yt.isContextProvider=function(t){return $i(t)===T_};yt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===KO};yt.isForwardRef=function(t){return $i(t)===C_};yt.isFragment=function(t){return $i(t)===__};yt.isLazy=function(t){return $i(t)===O_};yt.isMemo=function(t){return $i(t)===I_};yt.isPortal=function(t){return $i(t)===YO};yt.isProfiler=function(t){return $i(t)===E_};yt.isStrictMode=function(t){return $i(t)===x_};yt.isSuspense=function(t){return $i(t)===P_};yt.isSuspenseList=function(t){return $i(t)===A_};yt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===__||t===E_||t===x_||t===P_||t===A_||t===LDe||typeof t=="object"&&t!==null&&(t.$$typeof===O_||t.$$typeof===I_||t.$$typeof===T_||t.$$typeof===S_||t.$$typeof===C_||t.$$typeof===A9||t.getModuleId!==void 0)};yt.typeOf=$i;P9.exports=yt;var $De=P9.exports,FDe=qo,VDe=us,BDe="[object Number]";function UDe(t){return typeof t=="number"||VDe(t)&&FDe(t)==BDe}var I9=UDe;const zDe=Ke(I9);var WDe=I9;function HDe(t){return WDe(t)&&t!=+t}var qDe=HDe;const Fg=Ke(qDe);var Pi=function(e){return e===0?0:e>0?1:-1},zl=function(e){return $g(e)&&e.indexOf("%")===e.length-1},Ce=function(e){return zDe(e)&&!Fg(e)},An=function(e){return Ce(e)||$g(e)},GDe=0,k_=function(e){var n=++GDe;return"".concat(e||"").concat(n)},Mr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ce(e)&&!$g(e))return r;var o;if(zl(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Fg(o)&&(o=r),s&&o>n&&(o=n),o},du=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},KDe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},s=0;s<n;s++)if(!r[e[s]])r[e[s]]=!0;else return!0;return!1},RL=function(e,n){return Ce(e)&&Ce(n)?function(r){return e+r*(n-e)}:function(){return n}};function jS(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ns(r,e))===n})}function LS(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function $S(t){"@babel/helpers - typeof";return $S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$S(t)}var YDe=["viewBox","children"],XDe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ML=["points","pathLength"],B1={svg:YDe,polygon:ML,polyline:ML},XO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],db=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(F.isValidElement(e)&&(r=e.props),!mf(r))return null;var s={};return Object.keys(r).forEach(function(o){XO.includes(o)&&(s[o]=n||function(a){return r[o](r,a)})}),s},QDe=function(e,n,r){return function(s){return e(n,r,s),null}},N_=function(e,n,r){if(!mf(e)||$S(e)!=="object")return null;var s=null;return Object.keys(e).forEach(function(o){var a=e[o];XO.includes(o)&&typeof a=="function"&&(s||(s={}),s[o]=QDe(a,n,r))}),s},ZDe=["children"],JDe=["children"];function jL(t,e){if(t==null)return{};var n=eRe(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eRe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var LL={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},_o=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},$L=null,U1=null,QO=function t(e){if(e===$L&&Array.isArray(U1))return U1;var n=[];return F.Children.forEach(e,function(r){nt(r)||($De.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),U1=n,$L=e,n};function Fs(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(s){return _o(s)}):r=[_o(e)],QO(t).forEach(function(s){var o=ns(s,"type.displayName")||ns(s,"type.name");r.indexOf(o)!==-1&&n.push(s)}),n}function bi(t,e){var n=Fs(t,e);return n&&n[0]}var FL=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,s=n.height;return!(!Ce(r)||r<=0||!Ce(s)||s<=0)},tRe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],nRe=function(e){return e&&e.type&&$g(e.type)&&tRe.indexOf(e.type)>=0},rRe=function(e,n,r,s){var o,a=(o=B1==null?void 0:B1[s])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!He(e)&&(s&&a.includes(n)||XDe.includes(n))||r&&XO.includes(n)},We=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(F.isValidElement(e)&&(s=e.props),!mf(s))return null;var o={};return Object.keys(s).forEach(function(a){var l;rRe((l=s)===null||l===void 0?void 0:l[a],a,n,r)&&(o[a]=s[a])}),o},FS=function t(e,n){if(e===n)return!0;var r=F.Children.count(e);if(r!==F.Children.count(n))return!1;if(r===0)return!0;if(r===1)return VL(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var s=0;s<r;s++){var o=e[s],a=n[s];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!VL(o,a))return!1}return!0},VL=function(e,n){if(nt(e)&&nt(n))return!0;if(!nt(e)&&!nt(n)){var r=e.props||{},s=r.children,o=jL(r,ZDe),a=n.props||{},l=a.children,c=jL(a,JDe);return s&&l?LS(o,c)&&FS(s,l):!s&&!l?LS(o,c):!1}return!1},BL=function(e,n){var r=[],s={};return QO(e).forEach(function(o,a){if(nRe(o))r.push(o);else if(o){var l=_o(o.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(o,l,a);r.push(f),s[l]=!0}}}),r},iRe=function(e){var n=e&&e.type;return n&&LL[n]?LL[n]:null},sRe=function(e,n){return QO(n).indexOf(e)},oRe=["children","width","height","viewBox","className","style","title","desc"];function VS(){return VS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VS.apply(this,arguments)}function aRe(t,e){if(t==null)return{};var n=lRe(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lRe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function BS(t){var e=t.children,n=t.width,r=t.height,s=t.viewBox,o=t.className,a=t.style,l=t.title,c=t.desc,u=aRe(t,oRe),d=s||{width:n,height:r,x:0,y:0},f=qe("recharts-surface",o);return L.createElement("svg",VS({},We(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),L.createElement("title",null,l),L.createElement("desc",null,c),e)}var cRe=["children","className"];function US(){return US=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},US.apply(this,arguments)}function uRe(t,e){if(t==null)return{};var n=dRe(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dRe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var nn=L.forwardRef(function(t,e){var n=t.children,r=t.className,s=uRe(t,cRe),o=qe("recharts-layer",r);return L.createElement("g",US({className:o},We(s,!0),{ref:e}),n)}),xo=function(e,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o]},fRe=oO;function hRe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:fRe(t,e,n)}var pRe=hRe,mRe="\\ud800-\\udfff",gRe="\\u0300-\\u036f",vRe="\\ufe20-\\ufe2f",yRe="\\u20d0-\\u20ff",bRe=gRe+vRe+yRe,wRe="\\ufe0e\\ufe0f",_Re="\\u200d",xRe=RegExp("["+_Re+mRe+bRe+wRe+"]");function ERe(t){return xRe.test(t)}var O9=ERe;function TRe(t){return t.split("")}var SRe=TRe,k9="\\ud800-\\udfff",CRe="\\u0300-\\u036f",PRe="\\ufe20-\\ufe2f",ARe="\\u20d0-\\u20ff",IRe=CRe+PRe+ARe,ORe="\\ufe0e\\ufe0f",kRe="["+k9+"]",zS="["+IRe+"]",WS="\\ud83c[\\udffb-\\udfff]",NRe="(?:"+zS+"|"+WS+")",N9="[^"+k9+"]",D9="(?:\\ud83c[\\udde6-\\uddff]){2}",R9="[\\ud800-\\udbff][\\udc00-\\udfff]",DRe="\\u200d",M9=NRe+"?",j9="["+ORe+"]?",RRe="(?:"+DRe+"(?:"+[N9,D9,R9].join("|")+")"+j9+M9+")*",MRe=j9+M9+RRe,jRe="(?:"+[N9+zS+"?",zS,D9,R9,kRe].join("|")+")",LRe=RegExp(WS+"(?="+WS+")|"+jRe+MRe,"g");function $Re(t){return t.match(LRe)||[]}var FRe=$Re,VRe=SRe,BRe=O9,URe=FRe;function zRe(t){return BRe(t)?URe(t):VRe(t)}var WRe=zRe,HRe=pRe,qRe=O9,GRe=WRe,KRe=TH;function YRe(t){return function(e){e=KRe(e);var n=qRe(e)?GRe(e):void 0,r=n?n[0]:e.charAt(0),s=n?HRe(n,1).join(""):e.slice(1);return r[t]()+s}}var XRe=YRe,QRe=XRe,ZRe=QRe("toUpperCase"),JRe=ZRe;const D_=Ke(JRe);function It(t){return function(){return t}}const L9=Math.cos,fb=Math.sin,ds=Math.sqrt,hb=Math.PI,R_=2*hb,HS=Math.PI,qS=2*HS,Nl=1e-6,eMe=qS-Nl;function $9(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function tMe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return $9;const n=10**e;return function(r){this._+=r[0];for(let s=1,o=r.length;s<o;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}class nMe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?$9:tMe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,s){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(e,n,r,s,o,a){this._append`C${+e},${+n},${+r},${+s},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,s,o){if(e=+e,n=+n,r=+r,s=+s,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,l=this._y1,c=r-e,u=s-n,d=a-e,f=l-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Nl)if(!(Math.abs(f*c-u*d)>Nl)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,v=s-l,g=c*c+u*u,b=p*p+v*v,y=Math.sqrt(g),x=Math.sqrt(h),E=o*Math.tan((HS-Math.acos((g+h-b)/(2*y*x)))/2),T=E/x,S=E/y;Math.abs(T-1)>Nl&&this._append`L${e+T*d},${n+T*f}`,this._append`A${o},${o},0,0,${+(f*p>d*v)},${this._x1=e+S*c},${this._y1=n+S*u}`}}arc(e,n,r,s,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(s),c=r*Math.sin(s),u=e+l,d=n+c,f=1^a,h=a?s-o:o-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Nl||Math.abs(this._y1-d)>Nl)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%qS+qS),h>eMe?this._append`A${r},${r},0,1,${f},${e-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>Nl&&this._append`A${r},${r},0,${+(h>=HS)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function ZO(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new nMe(e)}function JO(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function F9(t){this._context=t}F9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function M_(t){return new F9(t)}function V9(t){return t[0]}function B9(t){return t[1]}function U9(t,e){var n=It(!0),r=null,s=M_,o=null,a=ZO(l);t=typeof t=="function"?t:t===void 0?V9:It(t),e=typeof e=="function"?e:e===void 0?B9:It(e);function l(c){var u,d=(c=JO(c)).length,f,h=!1,p;for(r==null&&(o=s(p=a())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,c),+e(f,u,c));if(p)return o=null,p+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:It(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:It(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:It(!!c),l):n},l.curve=function(c){return arguments.length?(s=c,r!=null&&(o=s(r)),l):s},l.context=function(c){return arguments.length?(c==null?r=o=null:o=s(r=c),l):r},l}function zv(t,e,n){var r=null,s=It(!0),o=null,a=M_,l=null,c=ZO(u);t=typeof t=="function"?t:t===void 0?V9:It(+t),e=typeof e=="function"?e:It(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?B9:It(+n);function u(f){var h,p,v,g=(f=JO(f)).length,b,y=!1,x,E=new Array(g),T=new Array(g);for(o==null&&(l=a(x=c())),h=0;h<=g;++h){if(!(h<g&&s(b=f[h],h,f))===y)if(y=!y)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=p;--v)l.point(E[v],T[v]);l.lineEnd(),l.areaEnd()}y&&(E[h]=+t(b,h,f),T[h]=+e(b,h,f),l.point(r?+r(b,h,f):E[h],n?+n(b,h,f):T[h]))}if(x)return l=null,x+""||null}function d(){return U9().defined(s).curve(a).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:It(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:It(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:It(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:It(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:It(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:It(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:It(!!f),u):s},u.curve=function(f){return arguments.length?(a=f,o!=null&&(l=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=l=null:l=a(o=f),u):o},u}class z9{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function rMe(t){return new z9(t,!0)}function iMe(t){return new z9(t,!1)}const ek={draw(t,e){const n=ds(e/hb);t.moveTo(n,0),t.arc(0,0,n,0,R_)}},sMe={draw(t,e){const n=ds(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},W9=ds(1/3),oMe=W9*2,aMe={draw(t,e){const n=ds(e/oMe),r=n*W9;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},lMe={draw(t,e){const n=ds(e),r=-n/2;t.rect(r,r,n,n)}},cMe=.8908130915292852,H9=fb(hb/10)/fb(7*hb/10),uMe=fb(R_/10)*H9,dMe=-L9(R_/10)*H9,fMe={draw(t,e){const n=ds(e*cMe),r=uMe*n,s=dMe*n;t.moveTo(0,-n),t.lineTo(r,s);for(let o=1;o<5;++o){const a=R_*o/5,l=L9(a),c=fb(a);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*s,c*r+l*s)}t.closePath()}},z1=ds(3),hMe={draw(t,e){const n=-ds(e/(z1*3));t.moveTo(0,n*2),t.lineTo(-z1*n,-n),t.lineTo(z1*n,-n),t.closePath()}},pi=-.5,mi=ds(3)/2,GS=1/ds(12),pMe=(GS/2+1)*3,mMe={draw(t,e){const n=ds(e/pMe),r=n/2,s=n*GS,o=r,a=n*GS+n,l=-o,c=a;t.moveTo(r,s),t.lineTo(o,a),t.lineTo(l,c),t.lineTo(pi*r-mi*s,mi*r+pi*s),t.lineTo(pi*o-mi*a,mi*o+pi*a),t.lineTo(pi*l-mi*c,mi*l+pi*c),t.lineTo(pi*r+mi*s,pi*s-mi*r),t.lineTo(pi*o+mi*a,pi*a-mi*o),t.lineTo(pi*l+mi*c,pi*c-mi*l),t.closePath()}};function gMe(t,e){let n=null,r=ZO(s);t=typeof t=="function"?t:It(t||ek),e=typeof e=="function"?e:It(e===void 0?64:+e);function s(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return s.type=function(o){return arguments.length?(t=typeof o=="function"?o:It(o),s):t},s.size=function(o){return arguments.length?(e=typeof o=="function"?o:It(+o),s):e},s.context=function(o){return arguments.length?(n=o??null,s):n},s}function pb(){}function mb(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function q9(t){this._context=t}q9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:mb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:mb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vMe(t){return new q9(t)}function G9(t){this._context=t}G9.prototype={areaStart:pb,areaEnd:pb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:mb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function yMe(t){return new G9(t)}function K9(t){this._context=t}K9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:mb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function bMe(t){return new K9(t)}function Y9(t){this._context=t}Y9.prototype={areaStart:pb,areaEnd:pb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function wMe(t){return new Y9(t)}function UL(t){return t<0?-1:1}function zL(t,e,n){var r=t._x1-t._x0,s=e-t._x1,o=(t._y1-t._y0)/(r||s<0&&-0),a=(n-t._y1)/(s||r<0&&-0),l=(o*s+a*r)/(r+s);return(UL(o)+UL(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(l))||0}function WL(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function W1(t,e,n){var r=t._x0,s=t._y0,o=t._x1,a=t._y1,l=(o-r)/3;t._context.bezierCurveTo(r+l,s+l*e,o-l,a-l*n,o,a)}function gb(t){this._context=t}gb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:W1(this,this._t0,WL(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,W1(this,WL(this,n=zL(this,t,e)),n);break;default:W1(this,this._t0,n=zL(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function X9(t){this._context=new Q9(t)}(X9.prototype=Object.create(gb.prototype)).point=function(t,e){gb.prototype.point.call(this,e,t)};function Q9(t){this._context=t}Q9.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,s,o){this._context.bezierCurveTo(e,t,r,n,o,s)}};function _Me(t){return new gb(t)}function xMe(t){return new X9(t)}function Z9(t){this._context=t}Z9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=HL(t),s=HL(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],s[0][o],r[1][o],s[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function HL(t){var e,n=t.length-1,r,s=new Array(n),o=new Array(n),a=new Array(n);for(s[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)s[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(s[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=s[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(s[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)s[e]=(a[e]-s[e+1])/o[e];for(o[n-1]=(t[n]+s[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-s[e+1];return[s,o]}function EMe(t){return new Z9(t)}function j_(t,e){this._context=t,this._t=e}j_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function TMe(t){return new j_(t,.5)}function SMe(t){return new j_(t,0)}function CMe(t){return new j_(t,1)}function Ad(t,e){if((a=t.length)>1)for(var n=1,r,s,o=t[e[0]],a,l=o.length;n<a;++n)for(s=o,o=t[e[n]],r=0;r<l;++r)o[r][1]+=o[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function KS(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function PMe(t,e){return t[e]}function AMe(t){const e=[];return e.key=t,e}function IMe(){var t=It([]),e=KS,n=Ad,r=PMe;function s(o){var a=Array.from(t.apply(this,arguments),AMe),l,c=a.length,u=-1,d;for(const f of o)for(l=0,++u;l<c;++l)(a[l][u]=[0,+r(f,a[l].key,u,o)]).data=f;for(l=0,d=JO(e(a));l<c;++l)a[d[l]].index=l;return n(a,d),a}return s.keys=function(o){return arguments.length?(t=typeof o=="function"?o:It(Array.from(o)),s):t},s.value=function(o){return arguments.length?(r=typeof o=="function"?o:It(+o),s):r},s.order=function(o){return arguments.length?(e=o==null?KS:typeof o=="function"?o:It(Array.from(o)),s):e},s.offset=function(o){return arguments.length?(n=o??Ad,s):n},s}function OMe(t,e){if((r=t.length)>0){for(var n,r,s=0,o=t[0].length,a;s<o;++s){for(a=n=0;n<r;++n)a+=t[n][s][1]||0;if(a)for(n=0;n<r;++n)t[n][s][1]/=a}Ad(t,e)}}function kMe(t,e){if((s=t.length)>0){for(var n=0,r=t[e[0]],s,o=r.length;n<o;++n){for(var a=0,l=0;a<s;++a)l+=t[a][n][1]||0;r[n][1]+=r[n][0]=-l/2}Ad(t,e)}}function NMe(t,e){if(!(!((a=t.length)>0)||!((o=(s=t[e[0]]).length)>0))){for(var n=0,r=1,s,o,a;r<o;++r){for(var l=0,c=0,u=0;l<a;++l){for(var d=t[e[l]],f=d[r][1]||0,h=d[r-1][1]||0,p=(f-h)/2,v=0;v<l;++v){var g=t[e[v]],b=g[r][1]||0,y=g[r-1][1]||0;p+=b-y}c+=f,u+=p*f}s[r-1][1]+=s[r-1][0]=n,c&&(n-=u/c)}s[r-1][1]+=s[r-1][0]=n,Ad(t,e)}}function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}var DMe=["type","size","sizeType"];function YS(){return YS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YS.apply(this,arguments)}function qL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function GL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qL(Object(n),!0).forEach(function(r){RMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RMe(t,e,n){return e=MMe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MMe(t){var e=jMe(t,"string");return vm(e)=="symbol"?e:e+""}function jMe(t,e){if(vm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LMe(t,e){if(t==null)return{};var n=$Me(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $Me(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var J9={symbolCircle:ek,symbolCross:sMe,symbolDiamond:aMe,symbolSquare:lMe,symbolStar:fMe,symbolTriangle:hMe,symbolWye:mMe},FMe=Math.PI/180,VMe=function(e){var n="symbol".concat(D_(e));return J9[n]||ek},BMe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var s=18*FMe;return 1.25*e*e*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},UMe=function(e,n){J9["symbol".concat(D_(e))]=n},tk=function(e){var n=e.type,r=n===void 0?"circle":n,s=e.size,o=s===void 0?64:s,a=e.sizeType,l=a===void 0?"area":a,c=LMe(e,DMe),u=GL(GL({},c),{},{type:r,size:o,sizeType:l}),d=function(){var b=VMe(r),y=gMe().type(b).size(BMe(o,l,r));return y()},f=u.className,h=u.cx,p=u.cy,v=We(u,!0);return h===+h&&p===+p&&o===+o?L.createElement("path",YS({},v,{className:qe("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};tk.registerSymbol=UMe;function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function XS(){return XS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XS.apply(this,arguments)}function KL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function zMe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KL(Object(n),!0).forEach(function(r){ym(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t7(r.key),r)}}function HMe(t,e,n){return e&&YL(t.prototype,e),n&&YL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qMe(t,e,n){return e=vb(e),GMe(t,e7()?Reflect.construct(e,n||[],vb(t).constructor):e.apply(t,n))}function GMe(t,e){if(e&&(Id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KMe(t)}function KMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e7=function(){return!!t})()}function vb(t){return vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vb(t)}function YMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QS(t,e)}function QS(t,e){return QS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},QS(t,e)}function ym(t,e,n){return e=t7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t7(t){var e=XMe(t,"string");return Id(e)=="symbol"?e:e+""}function XMe(t,e){if(Id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gi=32,nk=function(t){function e(){return WMe(this,e),qMe(this,e,arguments)}return YMe(e,t),HMe(e,[{key:"renderIcon",value:function(r){var s=this.props.inactiveColor,o=gi/2,a=gi/6,l=gi/3,c=r.inactive?s:r.color;if(r.type==="plainline")return L.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:gi,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(o,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(o,`
            H`).concat(gi,"M").concat(2*l,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return L.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(gi/8,"h").concat(gi,"v").concat(gi*3/4,"h").concat(-gi,"z"),className:"recharts-legend-icon"});if(L.isValidElement(r.legendIcon)){var u=zMe({},r);return delete u.legendIcon,L.cloneElement(r.legendIcon,u)}return L.createElement(tk,{fill:c,cx:o,cy:o,size:gi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,s=this.props,o=s.payload,a=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:gi,height:gi},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,v){var g=p.formatter||c,b=qe(ym(ym({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=He(p.value)?null:p.value;xo(!He(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=p.inactive?u:p.color;return L.createElement("li",XS({className:b,style:f,key:"legend-item-".concat(v)},N_(r.props,p,v)),L.createElement(BS,{width:a,height:a,viewBox:d,style:h},r.renderIcon(p)),L.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},g?g(y,p,v):y))})}},{key:"render",value:function(){var r=this.props,s=r.payload,o=r.layout,a=r.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(F.PureComponent);ym(nk,"displayName","Legend");ym(nk,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});function QMe(t){return t!==t}var ZMe=QMe;function JMe(t,e,n){for(var r=n-1,s=t.length;++r<s;)if(t[r]===e)return r;return-1}var eje=JMe,tje=yH,nje=ZMe,rje=eje;function ije(t,e,n){return e===e?rje(t,e,n):tje(t,nje,n)}var sje=ije,oje=sje;function aje(t,e){var n=t==null?0:t.length;return!!n&&oje(t,e,0)>-1}var lje=aje;function cje(t,e,n){for(var r=-1,s=t==null?0:t.length;++r<s;)if(n(e,t[r]))return!0;return!1}var uje=cje;function dje(){}var fje=dje,H1=pH,hje=fje,pje=TO,mje=1/0,gje=H1&&1/pje(new H1([,-0]))[1]==mje?function(t){return new H1(t)}:hje,vje=gje,yje=rH,bje=lje,wje=uje,_je=sH,xje=vje,Eje=TO,Tje=200;function Sje(t,e,n){var r=-1,s=bje,o=t.length,a=!0,l=[],c=l;if(n)a=!1,s=wje;else if(o>=Tje){var u=e?null:xje(t);if(u)return Eje(u);a=!1,s=_je,c=new yje}else c=e?[]:l;e:for(;++r<o;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,a&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),l.push(d)}else s(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var Cje=Sje,Pje=qs,Aje=Cje;function Ije(t,e){return t&&t.length?Aje(t,Pje(e)):[]}var Oje=Ije;const XL=Ke(Oje);function n7(t,e,n){return e===!0?XL(t,n):He(e)?XL(t,e):t}function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}var kje=["ref"];function QL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Js(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QL(Object(n),!0).forEach(function(r){L_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i7(r.key),r)}}function Dje(t,e,n){return e&&ZL(t.prototype,e),n&&ZL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rje(t,e,n){return e=yb(e),Mje(t,r7()?Reflect.construct(e,n||[],yb(t).constructor):e.apply(t,n))}function Mje(t,e){if(e&&(Od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jje(t)}function jje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r7=function(){return!!t})()}function yb(t){return yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yb(t)}function Lje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZS(t,e)}function ZS(t,e){return ZS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},ZS(t,e)}function L_(t,e,n){return e=i7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i7(t){var e=$je(t,"string");return Od(e)=="symbol"?e:e+""}function $je(t,e){if(Od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fje(t,e){if(t==null)return{};var n=Vje(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vje(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bje(t){return t.value}function Uje(t,e){if(L.isValidElement(t))return L.cloneElement(t,e);if(typeof t=="function")return L.createElement(t,e);e.ref;var n=Fje(e,kje);return L.createElement(nk,n)}var JL=1,Jl=function(t){function e(){var n;Nje(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=Rje(this,e,[].concat(s)),L_(n,"lastBoundingBox",{width:-1,height:-1}),n}return Lje(e,t),Dje(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>JL||Math.abs(s.height-this.lastBoundingBox.height)>JL)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,r&&r(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Js({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var s=this.props,o=s.layout,a=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=a==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Js(Js({},f),h)}},{key:"render",value:function(){var r=this,s=this.props,o=s.content,a=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=Js(Js({position:"absolute",width:a||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return L.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},Uje(o,Js(Js({},this.props),{},{payload:n7(d,u,Bje)})))}}],[{key:"getWithHeight",value:function(r,s){var o=Js(Js({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&Ce(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||s}:null}}])}(F.PureComponent);L_(Jl,"displayName","Legend");L_(Jl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(t)}function JS(){return JS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JS.apply(this,arguments)}function zje(t,e){return Gje(t)||qje(t,e)||Hje(t,e)||Wje()}function Wje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hje(t,e){if(t){if(typeof t=="string")return e$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e$(t,e)}}function e$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qje(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function Gje(t){if(Array.isArray(t))return t}function t$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function q1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t$(Object(n),!0).forEach(function(r){Kje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kje(t,e,n){return e=Yje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yje(t){var e=Xje(t,"string");return bm(e)=="symbol"?e:e+""}function Xje(t,e){if(bm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qje(t){return Array.isArray(t)&&An(t[0])&&An(t[1])?t.join(" ~ "):t}var Zje=function(e){var n=e.separator,r=n===void 0?" : ":n,s=e.contentStyle,o=s===void 0?{}:s,a=e.itemStyle,l=a===void 0?{}:a,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,v=e.labelClassName,g=e.label,b=e.labelFormatter,y=e.accessibilityLayer,x=y===void 0?!1:y,E=function(){if(d&&d.length){var O={padding:0,margin:0},D=(h?h_(d,h):d).map(function(N,U){if(N.type==="none")return null;var K=q1({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},l),q=N.formatter||f||Qje,Y=N.value,G=N.name,J=Y,H=G;if(q&&J!=null&&H!=null){var V=q(Y,G,N,U,d);if(Array.isArray(V)){var ee=zje(V,2);J=ee[0],H=ee[1]}else J=V}return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:K},An(H)?L.createElement("span",{className:"recharts-tooltip-item-name"},H):null,An(H)?L.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,L.createElement("span",{className:"recharts-tooltip-item-value"},J),L.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:O},D)}return null},T=q1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=q1({margin:0},u),A=!nt(g),C=A?g:"",P=qe("recharts-default-tooltip",p),I=qe("recharts-tooltip-label",v);A&&b&&d!==void 0&&d!==null&&(C=b(g,d));var R=x?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",JS({className:P,style:T},R),L.createElement("p",{className:I,style:S},L.isValidElement(C)?C:"".concat(C)),E())};function wm(t){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(t)}function Wv(t,e,n){return e=Jje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jje(t){var e=eLe(t,"string");return wm(e)=="symbol"?e:e+""}function eLe(t,e){if(wm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dh="recharts-tooltip-wrapper",tLe={visibility:"hidden"};function nLe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return qe(dh,Wv(Wv(Wv(Wv({},"".concat(dh,"-right"),Ce(n)&&e&&Ce(e.x)&&n>=e.x),"".concat(dh,"-left"),Ce(n)&&e&&Ce(e.x)&&n<e.x),"".concat(dh,"-bottom"),Ce(r)&&e&&Ce(e.y)&&r>=e.y),"".concat(dh,"-top"),Ce(r)&&e&&Ce(e.y)&&r<e.y))}function n$(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,s=t.offsetTopLeft,o=t.position,a=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(o&&Ce(o[r]))return o[r];var d=n[r]-l-s,f=n[r]+s;if(e[r])return a[r]?d:f;if(a[r]){var h=d,p=c[r];return h<p?Math.max(f,c[r]):Math.max(d,c[r])}var v=f+l,g=c[r]+u;return v>g?Math.max(d,c[r]):Math.max(f,c[r])}function rLe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function iLe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,s=t.position,o=t.reverseDirection,a=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return a.height>0&&a.width>0&&n?(d=n$({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:s,reverseDirection:o,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),f=n$({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:s,reverseDirection:o,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),u=rLe({translateX:d,translateY:f,useTranslate3d:l})):u=tLe,{cssProperties:u,cssClasses:nLe({translateX:d,translateY:f,coordinate:n})}}function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}function r$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function i$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r$(Object(n),!0).forEach(function(r){tC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o7(r.key),r)}}function oLe(t,e,n){return e&&s$(t.prototype,e),n&&s$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function aLe(t,e,n){return e=bb(e),lLe(t,s7()?Reflect.construct(e,n||[],bb(t).constructor):e.apply(t,n))}function lLe(t,e){if(e&&(kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cLe(t)}function cLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s7=function(){return!!t})()}function bb(t){return bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bb(t)}function uLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eC(t,e)}function eC(t,e){return eC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},eC(t,e)}function tC(t,e,n){return e=o7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o7(t){var e=dLe(t,"string");return kd(e)=="symbol"?e:e+""}function dLe(t,e){if(kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o$=1,fLe=function(t){function e(){var n;sLe(this,e);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=aLe(this,e,[].concat(s)),tC(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),tC(n,"handleKeyDown",function(a){if(a.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return uLe(e,t),oLe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>o$||Math.abs(r.height-this.state.lastBoundingBox.height)>o$)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,s=this.props,o=s.active,a=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,p=s.offset,v=s.position,g=s.reverseDirection,b=s.useTranslate3d,y=s.viewBox,x=s.wrapperStyle,E=iLe({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:p,position:v,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:y}),T=E.cssClasses,S=E.cssProperties,A=i$(i$({transition:h&&o?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return L.createElement("div",{tabIndex:-1,className:T,style:A,ref:function(P){r.wrapperNode=P}},u)}}])}(F.PureComponent),hLe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ec={isSsr:hLe(),get:function(e){return ec[e]},set:function(e,n){if(typeof e=="string")ec[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(s){ec[s]=e[s]})}}};function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}function a$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function l$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a$(Object(n),!0).forEach(function(r){rk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l7(r.key),r)}}function mLe(t,e,n){return e&&c$(t.prototype,e),n&&c$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gLe(t,e,n){return e=wb(e),vLe(t,a7()?Reflect.construct(e,n||[],wb(t).constructor):e.apply(t,n))}function vLe(t,e){if(e&&(Nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yLe(t)}function yLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a7=function(){return!!t})()}function wb(t){return wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wb(t)}function bLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nC(t,e)}function nC(t,e){return nC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},nC(t,e)}function rk(t,e,n){return e=l7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l7(t){var e=wLe(t,"string");return Nd(e)=="symbol"?e:e+""}function wLe(t,e){if(Nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Le(t){return t.dataKey}function xLe(t,e){return L.isValidElement(t)?L.cloneElement(t,e):typeof t=="function"?L.createElement(t,e):L.createElement(Zje,e)}var xs=function(t){function e(){return pLe(this,e),gLe(this,e,arguments)}return bLe(e,t),mLe(e,[{key:"render",value:function(){var r=this,s=this.props,o=s.active,a=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,p=s.offset,v=s.payload,g=s.payloadUniqBy,b=s.position,y=s.reverseDirection,x=s.useTranslate3d,E=s.viewBox,T=s.wrapperStyle,S=v??[];f&&S.length&&(S=n7(v.filter(function(C){return C.value!=null&&(C.hide!==!0||r.props.includeHidden)}),g,_Le));var A=S.length>0;return L.createElement(fLe,{allowEscapeViewBox:a,animationDuration:l,animationEasing:c,isAnimationActive:h,active:o,coordinate:d,hasPayload:A,offset:p,position:b,reverseDirection:y,useTranslate3d:x,viewBox:E,wrapperStyle:T},xLe(u,l$(l$({},this.props),{},{payload:S})))}}])}(F.PureComponent);rk(xs,"displayName","Tooltip");rk(xs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ec.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var ELe=cs,TLe=function(){return ELe.Date.now()},SLe=TLe,CLe=Li,G1=SLe,u$=V8,PLe="Expected a function",ALe=Math.max,ILe=Math.min;function OLe(t,e,n){var r,s,o,a,l,c,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(PLe);e=u$(e)||0,CLe(n)&&(d=!!n.leading,f="maxWait"in n,o=f?ALe(u$(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p(A){var C=r,P=s;return r=s=void 0,u=A,a=t.apply(P,C),a}function v(A){return u=A,l=setTimeout(y,e),d?p(A):a}function g(A){var C=A-c,P=A-u,I=e-C;return f?ILe(I,o-P):I}function b(A){var C=A-c,P=A-u;return c===void 0||C>=e||C<0||f&&P>=o}function y(){var A=G1();if(b(A))return x(A);l=setTimeout(y,g(A))}function x(A){return l=void 0,h&&r?p(A):(r=s=void 0,a)}function E(){l!==void 0&&clearTimeout(l),u=0,r=c=s=l=void 0}function T(){return l===void 0?a:x(G1())}function S(){var A=G1(),C=b(A);if(r=arguments,s=this,c=A,C){if(l===void 0)return v(c);if(f)return clearTimeout(l),l=setTimeout(y,e),p(c)}return l===void 0&&(l=setTimeout(y,e)),a}return S.cancel=E,S.flush=T,S}var kLe=OLe,NLe=kLe,DLe=Li,RLe="Expected a function";function MLe(t,e,n){var r=!0,s=!0;if(typeof t!="function")throw new TypeError(RLe);return DLe(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),NLe(t,e,{leading:r,maxWait:e,trailing:s})}var jLe=MLe;const c7=Ke(jLe);function _m(t){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(t)}function d$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Hv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d$(Object(n),!0).forEach(function(r){LLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LLe(t,e,n){return e=$Le(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Le(t){var e=FLe(t,"string");return _m(e)=="symbol"?e:e+""}function FLe(t,e){if(_m(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VLe(t,e){return WLe(t)||zLe(t,e)||ULe(t,e)||BLe()}function BLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ULe(t,e){if(t){if(typeof t=="string")return f$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f$(t,e)}}function f$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zLe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function WLe(t){if(Array.isArray(t))return t}var HLe=F.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,s=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,p=t.children,v=t.debounce,g=v===void 0?0:v,b=t.id,y=t.className,x=t.onResize,E=t.style,T=E===void 0?{}:E,S=F.useRef(null),A=F.useRef();A.current=x,F.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var C=F.useState({containerWidth:s.width,containerHeight:s.height}),P=VLe(C,2),I=P[0],R=P[1],j=F.useCallback(function(D,N){R(function(U){var K=Math.round(D),q=Math.round(N);return U.containerWidth===K&&U.containerHeight===q?U:{containerWidth:K,containerHeight:q}})},[]);F.useEffect(function(){var D=function(G){var J,H=G[0].contentRect,V=H.width,ee=H.height;j(V,ee),(J=A.current)===null||J===void 0||J.call(A,V,ee)};g>0&&(D=c7(D,g,{trailing:!0,leading:!1}));var N=new ResizeObserver(D),U=S.current.getBoundingClientRect(),K=U.width,q=U.height;return j(K,q),N.observe(S.current),function(){N.disconnect()}},[j,g]);var O=F.useMemo(function(){var D=I.containerWidth,N=I.containerHeight;if(D<0||N<0)return null;xo(zl(a)||zl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,c),xo(!n||n>0,"The aspect(%s) must be greater than zero.",n);var U=zl(a)?D:a,K=zl(c)?N:c;n&&n>0&&(U?K=U/n:K&&(U=K*n),h&&K>h&&(K=h)),xo(U>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,K,a,c,d,f,n);var q=!Array.isArray(p)&&_o(p.type).endsWith("Chart");return L.Children.map(p,function(Y){return L.isValidElement(Y)?F.cloneElement(Y,Hv({width:U,height:K},q?{style:Hv({height:"100%",width:"100%",maxHeight:K,maxWidth:U},Y.props.style)}:{})):Y})},[n,p,c,h,f,d,I,a]);return L.createElement("div",{id:b?"".concat(b):void 0,className:qe("recharts-responsive-container",y),style:Hv(Hv({},T),{},{width:a,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:S},O)}),ik=function(e){return null};ik.displayName="Cell";function xm(t){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xm(t)}function h$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function rC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h$(Object(n),!0).forEach(function(r){qLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qLe(t,e,n){return e=GLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GLe(t){var e=KLe(t,"string");return xm(e)=="symbol"?e:e+""}function KLe(t,e){if(xm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iu={widthCache:{},cacheCount:0},YLe=2e3,XLe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},p$="recharts_measurement_span";function QLe(t){var e=rC({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var m$=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ec.isSsr)return{width:0,height:0};var r=QLe(n),s=JSON.stringify({text:e,copyStyle:r});if(iu.widthCache[s])return iu.widthCache[s];try{var o=document.getElementById(p$);o||(o=document.createElement("span"),o.setAttribute("id",p$),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=rC(rC({},XLe),r);Object.assign(o.style,a),o.textContent="".concat(e);var l=o.getBoundingClientRect(),c={width:l.width,height:l.height};return iu.widthCache[s]=c,++iu.cacheCount>YLe&&(iu.cacheCount=0,iu.widthCache={}),c}catch{return{width:0,height:0}}},ZLe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Em(t){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(t)}function _b(t,e){return n$e(t)||t$e(t,e)||e$e(t,e)||JLe()}function JLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e$e(t,e){if(t){if(typeof t=="string")return g$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g$(t,e)}}function g$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function t$e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function n$e(t){if(Array.isArray(t))return t}function r$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s$e(r.key),r)}}function i$e(t,e,n){return e&&v$(t.prototype,e),n&&v$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function s$e(t){var e=o$e(t,"string");return Em(e)=="symbol"?e:e+""}function o$e(t,e){if(Em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,b$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,a$e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,l$e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,u7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},c$e=Object.keys(u7),ku="NaN";function u$e(t,e){return t*u7[e]}var qv=function(){function t(e,n){r$e(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!a$e.test(n)&&(this.num=NaN,this.unit=""),c$e.includes(n)&&(this.num=u$e(e,n),this.unit="px")}return i$e(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,s=(r=l$e.exec(n))!==null&&r!==void 0?r:[],o=_b(s,3),a=o[1],l=o[2];return new t(parseFloat(a),l??"")}}])}();function d7(t){if(t.includes(ku))return ku;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=y$.exec(e))!==null&&n!==void 0?n:[],s=_b(r,4),o=s[1],a=s[2],l=s[3],c=qv.parse(o??""),u=qv.parse(l??""),d=a==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return ku;e=e.replace(y$,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=b$.exec(e))!==null&&f!==void 0?f:[],p=_b(h,4),v=p[1],g=p[2],b=p[3],y=qv.parse(v??""),x=qv.parse(b??""),E=g==="+"?y.add(x):y.subtract(x);if(E.isNaN())return ku;e=e.replace(b$,E.toString())}return e}var w$=/\(([^()]*)\)/;function d$e(t){for(var e=t;e.includes("(");){var n=w$.exec(e),r=_b(n,2),s=r[1];e=e.replace(w$,d7(s))}return e}function f$e(t){var e=t.replace(/\s+/g,"");return e=d$e(e),e=d7(e),e}function h$e(t){try{return f$e(t)}catch{return ku}}function K1(t){var e=h$e(t.slice(5,-1));return e===ku?"":e}var p$e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],m$e=["dx","dy","angle","className","breakAll"];function iC(){return iC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iC.apply(this,arguments)}function _$(t,e){if(t==null)return{};var n=g$e(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function g$e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function x$(t,e){return w$e(t)||b$e(t,e)||y$e(t,e)||v$e()}function v$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y$e(t,e){if(t){if(typeof t=="string")return E$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E$(t,e)}}function E$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b$e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function w$e(t){if(Array.isArray(t))return t}var f7=/[ \f\n\r\t\v\u2028\u2029]+/,h7=function(e){var n=e.children,r=e.breakAll,s=e.style;try{var o=[];nt(n)||(r?o=n.toString().split(""):o=n.toString().split(f7));var a=o.map(function(c){return{word:c,width:m$(c,s).width}}),l=r?0:m$("",s).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}},_$e=function(e,n,r,s,o){var a=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=Ce(a),f=l,h=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(K,q){var Y=q.word,G=q.width,J=K[K.length-1];if(J&&(s==null||o||J.width+G+r<Number(s)))J.words.push(Y),J.width+=G+r;else{var H={words:[Y],width:G};K.push(H)}return K},[])},p=h(n),v=function(U){return U.reduce(function(K,q){return K.width>q.width?K:q})};if(!d)return p;for(var g="",b=function(U){var K=f.slice(0,U),q=h7({breakAll:u,style:c,children:K+g}).wordsWithComputedWidth,Y=h(q),G=Y.length>a||v(Y).width>Number(s);return[G,Y]},y=0,x=f.length-1,E=0,T;y<=x&&E<=f.length-1;){var S=Math.floor((y+x)/2),A=S-1,C=b(A),P=x$(C,2),I=P[0],R=P[1],j=b(S),O=x$(j,1),D=O[0];if(!I&&!D&&(y=S+1),I&&D&&(x=S-1),!I&&D){T=R;break}E++}return T||p},T$=function(e){var n=nt(e)?[]:e.toString().split(f7);return[{words:n}]},x$e=function(e){var n=e.width,r=e.scaleToFit,s=e.children,o=e.style,a=e.breakAll,l=e.maxLines;if((n||r)&&!ec.isSsr){var c,u,d=h7({breakAll:a,children:s,style:o});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return T$(s);return _$e({breakAll:a,children:s,maxLines:l,style:o},c,u,n,r)}return T$(s)},S$="#808080",Dd=function(e){var n=e.x,r=n===void 0?0:n,s=e.y,o=s===void 0?0:s,a=e.lineHeight,l=a===void 0?"1em":a,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,p=h===void 0?"start":h,v=e.verticalAnchor,g=v===void 0?"end":v,b=e.fill,y=b===void 0?S$:b,x=_$(e,p$e),E=F.useMemo(function(){return x$e({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),T=x.dx,S=x.dy,A=x.angle,C=x.className,P=x.breakAll,I=_$(x,m$e);if(!An(r)||!An(o))return null;var R=r+(Ce(T)?T:0),j=o+(Ce(S)?S:0),O;switch(g){case"start":O=K1("calc(".concat(u,")"));break;case"middle":O=K1("calc(".concat((E.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=K1("calc(".concat(E.length-1," * -").concat(l,")"));break}var D=[];if(f){var N=E[0].width,U=x.width;D.push("scale(".concat((Ce(U)?U/N:1)/N,")"))}return A&&D.push("rotate(".concat(A,", ").concat(R,", ").concat(j,")")),D.length&&(I.transform=D.join(" ")),L.createElement("text",iC({},We(I,!0),{x:R,y:j,className:qe("recharts-text",C),textAnchor:p,fill:y.includes("url")?S$:y}),E.map(function(K,q){var Y=K.words.join(P?"":" ");return L.createElement("tspan",{x:R,dy:q===0?O:l,key:"".concat(Y,"-").concat(q)},Y)}))};function Va(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function E$e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sk(t){let e,n,r;t.length!==2?(e=Va,n=(l,c)=>Va(t(l),c),r=(l,c)=>t(l)-c):(e=t===Va||t===E$e?t:T$e,n=t,r=t);function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:s,center:a,right:o}}function T$e(){return 0}function p7(t){return t===null?NaN:+t}function*S$e(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const C$e=sk(Va),P$e=C$e.right;sk(p7).center;const Vg=P$e;class C$ extends Map{constructor(e,n=O$e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,s]of e)this.set(r,s)}get(e){return super.get(P$(this,e))}has(e){return super.has(P$(this,e))}set(e,n){return super.set(A$e(this,e),n)}delete(e){return super.delete(I$e(this,e))}}function P$({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function A$e({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function I$e({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function O$e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function k$e(t=Va){if(t===Va)return m7;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function m7(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const N$e=Math.sqrt(50),D$e=Math.sqrt(10),R$e=Math.sqrt(2);function xb(t,e,n){const r=(e-t)/Math.max(0,n),s=Math.floor(Math.log10(r)),o=r/Math.pow(10,s),a=o>=N$e?10:o>=D$e?5:o>=R$e?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/a,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,s)*a,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=n&&n<2?xb(t,e,n*2):[l,c,u]}function sC(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[s,o,a]=r?xb(e,t,n):xb(t,e,n);if(!(o>=s))return[];const l=o-s+1,c=new Array(l);if(r)if(a<0)for(let u=0;u<l;++u)c[u]=(o-u)/-a;else for(let u=0;u<l;++u)c[u]=(o-u)*a;else if(a<0)for(let u=0;u<l;++u)c[u]=(s+u)/-a;else for(let u=0;u<l;++u)c[u]=(s+u)*a;return c}function oC(t,e,n){return e=+e,t=+t,n=+n,xb(t,e,n)[2]}function aC(t,e,n){e=+e,t=+t,n=+n;const r=e<t,s=r?oC(e,t,n):oC(t,e,n);return(r?-1:1)*(s<0?1/-s:s)}function A$(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let s of t)(s=e(s,++r,t))!=null&&(n<s||n===void 0&&s>=s)&&(n=s)}return n}function I$(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let s of t)(s=e(s,++r,t))!=null&&(n>s||n===void 0&&s>=s)&&(n=s)}return n}function g7(t,e,n=0,r=1/0,s){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(s=s===void 0?m7:k$e(s);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/c+h)),v=Math.min(r,Math.floor(e+(c-u)*f/c+h));g7(t,e,p,v,s)}const o=t[e];let a=n,l=r;for(fh(t,n,e),s(t[r],o)>0&&fh(t,n,r);a<l;){for(fh(t,a,l),++a,--l;s(t[a],o)<0;)++a;for(;s(t[l],o)>0;)--l}s(t[n],o)===0?fh(t,n,l):(++l,fh(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function fh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function M$e(t,e,n){if(t=Float64Array.from(S$e(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return I$(t);if(e>=1)return A$(t);var r,s=(r-1)*e,o=Math.floor(s),a=A$(g7(t,o).subarray(0,o+1)),l=I$(t.subarray(o+1));return a+(l-a)*(s-o)}}function j$e(t,e,n=p7){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,s=(r-1)*e,o=Math.floor(s),a=+n(t[o],o,t),l=+n(t[o+1],o+1,t);return a+(l-a)*(s-o)}}function L$e(t,e,n){t=+t,e=+e,n=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(s);++r<s;)o[r]=t+r*n;return o}function Fi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Go(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const lC=Symbol("implicit");function ok(){var t=new C$,e=[],n=[],r=lC;function s(o){let a=t.get(o);if(a===void 0){if(r!==lC)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return s.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new C$;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return s},s.range=function(o){return arguments.length?(n=Array.from(o),s):n.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.copy=function(){return ok(e,n).unknown(r)},Fi.apply(s,arguments),s}function Tm(){var t=ok().unknown(void 0),e=t.domain,n=t.range,r=0,s=1,o,a,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,p=s<r,v=p?s:r,g=p?r:s;o=(g-v)/Math.max(1,h-c+u*2),l&&(o=Math.floor(o)),v+=(g-v-o*(h-c))*d,a=o*(1-c),l&&(v=Math.round(v),a=Math.round(a));var b=L$e(h).map(function(y){return v+o*y});return n(p?b.reverse():b)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,s]=h,r=+r,s=+s,f()):[r,s]},t.rangeRound=function(h){return[r,s]=h,r=+r,s=+s,l=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(l=!!h,f()):l},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return Tm(e(),[r,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Fi.apply(f(),arguments)}function v7(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return v7(e())},t}function sp(){return v7(Tm.apply(null,arguments).paddingInner(1))}function ak(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function y7(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Bg(){}var Sm=.7,Eb=1/Sm,Qu="\\s*([+-]?\\d+)\\s*",Cm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$$e=/^#([0-9a-f]{3,8})$/,F$e=new RegExp(`^rgb\\(${Qu},${Qu},${Qu}\\)$`),V$e=new RegExp(`^rgb\\(${Vs},${Vs},${Vs}\\)$`),B$e=new RegExp(`^rgba\\(${Qu},${Qu},${Qu},${Cm}\\)$`),U$e=new RegExp(`^rgba\\(${Vs},${Vs},${Vs},${Cm}\\)$`),z$e=new RegExp(`^hsl\\(${Cm},${Vs},${Vs}\\)$`),W$e=new RegExp(`^hsla\\(${Cm},${Vs},${Vs},${Cm}\\)$`),O$={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ak(Bg,Pm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:k$,formatHex:k$,formatHex8:H$e,formatHsl:q$e,formatRgb:N$,toString:N$});function k$(){return this.rgb().formatHex()}function H$e(){return this.rgb().formatHex8()}function q$e(){return b7(this).formatHsl()}function N$(){return this.rgb().formatRgb()}function Pm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=$$e.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?D$(e):n===3?new jr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Gv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Gv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=F$e.exec(t))?new jr(e[1],e[2],e[3],1):(e=V$e.exec(t))?new jr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=B$e.exec(t))?Gv(e[1],e[2],e[3],e[4]):(e=U$e.exec(t))?Gv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=z$e.exec(t))?j$(e[1],e[2]/100,e[3]/100,1):(e=W$e.exec(t))?j$(e[1],e[2]/100,e[3]/100,e[4]):O$.hasOwnProperty(t)?D$(O$[t]):t==="transparent"?new jr(NaN,NaN,NaN,0):null}function D$(t){return new jr(t>>16&255,t>>8&255,t&255,1)}function Gv(t,e,n,r){return r<=0&&(t=e=n=NaN),new jr(t,e,n,r)}function G$e(t){return t instanceof Bg||(t=Pm(t)),t?(t=t.rgb(),new jr(t.r,t.g,t.b,t.opacity)):new jr}function cC(t,e,n,r){return arguments.length===1?G$e(t):new jr(t,e,n,r??1)}function jr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ak(jr,cC,y7(Bg,{brighter(t){return t=t==null?Eb:Math.pow(Eb,t),new jr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Sm:Math.pow(Sm,t),new jr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new jr(tc(this.r),tc(this.g),tc(this.b),Tb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:R$,formatHex:R$,formatHex8:K$e,formatRgb:M$,toString:M$}));function R$(){return`#${Wl(this.r)}${Wl(this.g)}${Wl(this.b)}`}function K$e(){return`#${Wl(this.r)}${Wl(this.g)}${Wl(this.b)}${Wl((isNaN(this.opacity)?1:this.opacity)*255)}`}function M$(){const t=Tb(this.opacity);return`${t===1?"rgb(":"rgba("}${tc(this.r)}, ${tc(this.g)}, ${tc(this.b)}${t===1?")":`, ${t})`}`}function Tb(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function tc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Wl(t){return t=tc(t),(t<16?"0":"")+t.toString(16)}function j$(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Yi(t,e,n,r)}function b7(t){if(t instanceof Yi)return new Yi(t.h,t.s,t.l,t.opacity);if(t instanceof Bg||(t=Pm(t)),!t)return new Yi;if(t instanceof Yi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,s=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,l=o-s,c=(o+s)/2;return l?(e===o?a=(n-r)/l+(n<r)*6:n===o?a=(r-e)/l+2:a=(e-n)/l+4,l/=c<.5?o+s:2-o-s,a*=60):l=c>0&&c<1?0:a,new Yi(a,l,c,t.opacity)}function Y$e(t,e,n,r){return arguments.length===1?b7(t):new Yi(t,e,n,r??1)}function Yi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ak(Yi,Y$e,y7(Bg,{brighter(t){return t=t==null?Eb:Math.pow(Eb,t),new Yi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Sm:Math.pow(Sm,t),new Yi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,s=2*n-r;return new jr(Y1(t>=240?t-240:t+120,s,r),Y1(t,s,r),Y1(t<120?t+240:t-120,s,r),this.opacity)},clamp(){return new Yi(L$(this.h),Kv(this.s),Kv(this.l),Tb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Tb(this.opacity);return`${t===1?"hsl(":"hsla("}${L$(this.h)}, ${Kv(this.s)*100}%, ${Kv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function L$(t){return t=(t||0)%360,t<0?t+360:t}function Kv(t){return Math.max(0,Math.min(1,t||0))}function Y1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const lk=t=>()=>t;function X$e(t,e){return function(n){return t+n*e}}function Q$e(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Z$e(t){return(t=+t)==1?w7:function(e,n){return n-e?Q$e(e,n,t):lk(isNaN(e)?n:e)}}function w7(t,e){var n=e-t;return n?X$e(t,n):lk(isNaN(t)?e:t)}const $$=function t(e){var n=Z$e(e);function r(s,o){var a=n((s=cC(s)).r,(o=cC(o)).r),l=n(s.g,o.g),c=n(s.b,o.b),u=w7(s.opacity,o.opacity);return function(d){return s.r=a(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return r.gamma=t,r}(1);function J$e(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),s;return function(o){for(s=0;s<n;++s)r[s]=t[s]*(1-o)+e[s]*o;return r}}function eFe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function tFe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,s=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)s[a]=Cf(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(l){for(a=0;a<r;++a)o[a]=s[a](l);return o}}function nFe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Sb(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function rFe(t,e){var n={},r={},s;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in t?n[s]=Cf(t[s],e[s]):r[s]=e[s];return function(o){for(s in n)r[s]=n[s](o);return r}}var uC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,X1=new RegExp(uC.source,"g");function iFe(t){return function(){return t}}function sFe(t){return function(e){return t(e)+""}}function oFe(t,e){var n=uC.lastIndex=X1.lastIndex=0,r,s,o,a=-1,l=[],c=[];for(t=t+"",e=e+"";(r=uC.exec(t))&&(s=X1.exec(e));)(o=s.index)>n&&(o=e.slice(n,o),l[a]?l[a]+=o:l[++a]=o),(r=r[0])===(s=s[0])?l[a]?l[a]+=s:l[++a]=s:(l[++a]=null,c.push({i:a,x:Sb(r,s)})),n=X1.lastIndex;return n<e.length&&(o=e.slice(n),l[a]?l[a]+=o:l[++a]=o),l.length<2?c[0]?sFe(c[0].x):iFe(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Cf(t,e){var n=typeof e,r;return e==null||n==="boolean"?lk(e):(n==="number"?Sb:n==="string"?(r=Pm(e))?(e=r,$$):oFe:e instanceof Pm?$$:e instanceof Date?nFe:eFe(e)?J$e:Array.isArray(e)?tFe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?rFe:Sb)(t,e)}function ck(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function aFe(t,e){e===void 0&&(e=t,t=Cf);for(var n=0,r=e.length-1,s=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(s,s=e[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[l](a-l)}}function lFe(t){return function(){return t}}function Cb(t){return+t}var F$=[0,1];function Tr(t){return t}function dC(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:lFe(isNaN(e)?NaN:.5)}function cFe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function uFe(t,e,n){var r=t[0],s=t[1],o=e[0],a=e[1];return s<r?(r=dC(s,r),o=n(a,o)):(r=dC(r,s),o=n(o,a)),function(l){return o(r(l))}}function dFe(t,e,n){var r=Math.min(t.length,e.length)-1,s=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)s[a]=dC(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(l){var c=Vg(t,l,1,r)-1;return o[c](s[c](l))}}function Ug(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function $_(){var t=F$,e=F$,n=Cf,r,s,o,a=Tr,l,c,u;function d(){var h=Math.min(t.length,e.length);return a!==Tr&&(a=cFe(t[0],t[h-1])),l=h>2?dFe:uFe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(c||(c=l(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(s((u||(u=l(e,t.map(r),Sb)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Cb),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=ck,d()},f.clamp=function(h){return arguments.length?(a=h?!0:Tr,d()):a!==Tr},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,p){return r=h,s=p,d()}}function uk(){return $_()(Tr,Tr)}function fFe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Pb(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Rd(t){return t=Pb(Math.abs(t)),t?t[1]:NaN}function hFe(t,e){return function(n,r){for(var s=n.length,o=[],a=0,l=t[0],c=0;s>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),o.push(n.substring(s-=l,s+l)),!((c+=l+1)>r));)l=t[a=(a+1)%t.length];return o.reverse().join(e)}}function pFe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var mFe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Am(t){if(!(e=mFe.exec(t)))throw new Error("invalid format: "+t);var e;return new dk({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Am.prototype=dk.prototype;function dk(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}dk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gFe(t){e:for(var e=t.length,n=1,r=-1,s;n<e;++n)switch(t[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(s+1):t}var _7;function vFe(t,e){var n=Pb(t,e);if(!n)return t+"";var r=n[0],s=n[1],o=s-(_7=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Pb(t,Math.max(0,e+o-1))[0]}function V$(t,e){var n=Pb(t,e);if(!n)return t+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const B$={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:fFe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>V$(t*100,e),r:V$,s:vFe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function U$(t){return t}var z$=Array.prototype.map,W$=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function yFe(t){var e=t.grouping===void 0||t.thousands===void 0?U$:hFe(z$.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?U$:pFe(z$.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Am(f);var h=f.fill,p=f.align,v=f.sign,g=f.symbol,b=f.zero,y=f.width,x=f.comma,E=f.precision,T=f.trim,S=f.type;S==="n"?(x=!0,S="g"):B$[S]||(E===void 0&&(E=12),T=!0,S="g"),(b||h==="0"&&p==="=")&&(b=!0,h="0",p="=");var A=g==="$"?n:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",C=g==="$"?r:/[%p]/.test(S)?a:"",P=B$[S],I=/[defgprs%]/.test(S);E=E===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function R(j){var O=A,D=C,N,U,K;if(S==="c")D=P(j)+D,j="";else{j=+j;var q=j<0||1/j<0;if(j=isNaN(j)?c:P(Math.abs(j),E),T&&(j=gFe(j)),q&&+j==0&&v!=="+"&&(q=!1),O=(q?v==="("?v:l:v==="-"||v==="("?"":v)+O,D=(S==="s"?W$[8+_7/3]:"")+D+(q&&v==="("?")":""),I){for(N=-1,U=j.length;++N<U;)if(K=j.charCodeAt(N),48>K||K>57){D=(K===46?s+j.slice(N+1):j.slice(N))+D,j=j.slice(0,N);break}}}x&&!b&&(j=e(j,1/0));var Y=O.length+j.length+D.length,G=Y<y?new Array(y-Y+1).join(h):"";switch(x&&b&&(j=e(G+j,G.length?y-D.length:1/0),G=""),p){case"<":j=O+j+D+G;break;case"=":j=O+G+j+D;break;case"^":j=G.slice(0,Y=G.length>>1)+O+j+D+G.slice(Y);break;default:j=G+O+j+D;break}return o(j)}return R.toString=function(){return f+""},R}function d(f,h){var p=u((f=Am(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Rd(h)/3)))*3,g=Math.pow(10,-v),b=W$[8+v/3];return function(y){return p(g*y)+b}}return{format:u,formatPrefix:d}}var Yv,fk,x7;bFe({thousands:",",grouping:[3],currency:["$",""]});function bFe(t){return Yv=yFe(t),fk=Yv.format,x7=Yv.formatPrefix,Yv}function wFe(t){return Math.max(0,-Rd(Math.abs(t)))}function _Fe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rd(e)/3)))*3-Rd(Math.abs(t)))}function xFe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Rd(e)-Rd(t))+1}function E7(t,e,n,r){var s=aC(t,e,n),o;switch(r=Am(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=_Fe(s,a))&&(r.precision=o),x7(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=xFe(s,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=wFe(s))&&(r.precision=o-(r.type==="%")*2);break}}return fk(r)}function ll(t){var e=t.domain;return t.ticks=function(n){var r=e();return sC(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var s=e();return E7(s[0],s[s.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),s=0,o=r.length-1,a=r[s],l=r[o],c,u,d=10;for(l<a&&(u=a,a=l,l=u,u=s,s=o,o=u);d-- >0;){if(u=oC(a,l,n),u===c)return r[s]=a,r[o]=l,e(r);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function Ab(){var t=uk();return t.copy=function(){return Ug(t,Ab())},Fi.apply(t,arguments),ll(t)}function T7(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Cb),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return T7(t).unknown(e)},t=arguments.length?Array.from(t,Cb):[0,1],ll(n)}function S7(t,e){t=t.slice();var n=0,r=t.length-1,s=t[n],o=t[r],a;return o<s&&(a=n,n=r,r=a,a=s,s=o,o=a),t[n]=e.floor(s),t[r]=e.ceil(o),t}function H$(t){return Math.log(t)}function q$(t){return Math.exp(t)}function EFe(t){return-Math.log(-t)}function TFe(t){return-Math.exp(-t)}function SFe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function CFe(t){return t===10?SFe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function PFe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function G$(t){return(e,n)=>-t(-e,n)}function hk(t){const e=t(H$,q$),n=e.domain;let r=10,s,o;function a(){return s=PFe(r),o=CFe(r),n()[0]<0?(s=G$(s),o=G$(o),t(EFe,TFe)):t(H$,q$),e}return e.base=function(l){return arguments.length?(r=+l,a()):r},e.domain=function(l){return arguments.length?(n(l),a()):n()},e.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),p=s(d),v,g;const b=l==null?10:+l;let y=[];if(!(r%1)&&p-h<b){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(v=1;v<r;++v)if(g=h<0?v/o(-h):v*o(h),!(g<u)){if(g>d)break;y.push(g)}}else for(;h<=p;++h)for(v=r-1;v>=1;--v)if(g=h>0?v/o(-h):v*o(h),!(g<u)){if(g>d)break;y.push(g)}y.length*2<b&&(y=sC(u,d,b))}else y=sC(h,p,Math.min(p-h,b)).map(o);return f?y.reverse():y},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Am(c)).precision==null&&(c.trim=!0),c=fk(c)),l===1/0)return c;const u=Math.max(1,r*l/e.ticks().length);return d=>{let f=d/o(Math.round(s(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},e.nice=()=>n(S7(n(),{floor:l=>o(Math.floor(s(l))),ceil:l=>o(Math.ceil(s(l)))})),e}function C7(){const t=hk($_()).domain([1,10]);return t.copy=()=>Ug(t,C7()).base(t.base()),Fi.apply(t,arguments),t}function K$(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Y$(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function pk(t){var e=1,n=t(K$(e),Y$(e));return n.constant=function(r){return arguments.length?t(K$(e=+r),Y$(e)):e},ll(n)}function P7(){var t=pk($_());return t.copy=function(){return Ug(t,P7()).constant(t.constant())},Fi.apply(t,arguments)}function X$(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function AFe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function IFe(t){return t<0?-t*t:t*t}function mk(t){var e=t(Tr,Tr),n=1;function r(){return n===1?t(Tr,Tr):n===.5?t(AFe,IFe):t(X$(n),X$(1/n))}return e.exponent=function(s){return arguments.length?(n=+s,r()):n},ll(e)}function gk(){var t=mk($_());return t.copy=function(){return Ug(t,gk()).exponent(t.exponent())},Fi.apply(t,arguments),t}function OFe(){return gk.apply(null,arguments).exponent(.5)}function Q$(t){return Math.sign(t)*t*t}function kFe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function A7(){var t=uk(),e=[0,1],n=!1,r;function s(o){var a=kFe(t(o));return isNaN(a)?r:n?Math.round(a):a}return s.invert=function(o){return t.invert(Q$(o))},s.domain=function(o){return arguments.length?(t.domain(o),s):t.domain()},s.range=function(o){return arguments.length?(t.range((e=Array.from(o,Cb)).map(Q$)),s):e.slice()},s.rangeRound=function(o){return s.range(o).round(!0)},s.round=function(o){return arguments.length?(n=!!o,s):n},s.clamp=function(o){return arguments.length?(t.clamp(o),s):t.clamp()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.copy=function(){return A7(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Fi.apply(s,arguments),ll(s)}function I7(){var t=[],e=[],n=[],r;function s(){var a=0,l=Math.max(1,e.length);for(n=new Array(l-1);++a<l;)n[a-1]=j$e(t,a/l);return o}function o(a){return a==null||isNaN(a=+a)?r:e[Vg(n,a)]}return o.invertExtent=function(a){var l=e.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let l of a)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Va),s()},o.range=function(a){return arguments.length?(e=Array.from(a),s()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return I7().domain(t).range(e).unknown(r)},Fi.apply(o,arguments)}function O7(){var t=0,e=1,n=1,r=[.5],s=[0,1],o;function a(c){return c!=null&&c<=c?s[Vg(r,c,0,n)]:o}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},a.range=function(c){return arguments.length?(n=(s=Array.from(c)).length-1,l()):s.slice()},a.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(c){return arguments.length&&(o=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return O7().domain([t,e]).range(s).unknown(o)},Fi.apply(ll(a),arguments)}function k7(){var t=[.5],e=[0,1],n,r=1;function s(o){return o!=null&&o<=o?e[Vg(t,o,0,r)]:n}return s.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),s):t.slice()},s.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),s):e.slice()},s.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return k7().domain(t).range(e).unknown(n)},Fi.apply(s,arguments)}const Q1=new Date,Z1=new Date;function Nn(t,e,n,r){function s(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=o=>(t(o=new Date(+o)),o),s.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),s.round=o=>{const a=s(o),l=s.ceil(o);return o-a<l-o?a:l},s.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),s.range=(o,a,l)=>{const c=[];if(o=s.ceil(o),l=l==null?1:Math.floor(l),!(o<a)||!(l>0))return c;let u;do c.push(u=new Date(+o)),e(o,l),t(o);while(u<o&&o<a);return c},s.filter=o=>Nn(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!o(a););else for(;--l>=0;)for(;e(a,1),!o(a););}),n&&(s.count=(o,a)=>(Q1.setTime(+o),Z1.setTime(+a),t(Q1),t(Z1),Math.floor(n(Q1,Z1))),s.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(r?a=>r(a)%o===0:a=>s.count(0,a)%o===0):s)),s}const Ib=Nn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ib.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Nn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ib);Ib.range;const ho=1e3,Ai=ho*60,po=Ai*60,$o=po*24,vk=$o*7,Z$=$o*30,J1=$o*365,Hl=Nn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ho)},(t,e)=>(e-t)/ho,t=>t.getUTCSeconds());Hl.range;const yk=Nn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ho)},(t,e)=>{t.setTime(+t+e*Ai)},(t,e)=>(e-t)/Ai,t=>t.getMinutes());yk.range;const bk=Nn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ai)},(t,e)=>(e-t)/Ai,t=>t.getUTCMinutes());bk.range;const wk=Nn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ho-t.getMinutes()*Ai)},(t,e)=>{t.setTime(+t+e*po)},(t,e)=>(e-t)/po,t=>t.getHours());wk.range;const _k=Nn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*po)},(t,e)=>(e-t)/po,t=>t.getUTCHours());_k.range;const zg=Nn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ai)/$o,t=>t.getDate()-1);zg.range;const F_=Nn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$o,t=>t.getUTCDate()-1);F_.range;const N7=Nn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/$o,t=>Math.floor(t/$o));N7.range;function Hc(t){return Nn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ai)/vk)}const V_=Hc(0),Ob=Hc(1),NFe=Hc(2),DFe=Hc(3),Md=Hc(4),RFe=Hc(5),MFe=Hc(6);V_.range;Ob.range;NFe.range;DFe.range;Md.range;RFe.range;MFe.range;function qc(t){return Nn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/vk)}const B_=qc(0),kb=qc(1),jFe=qc(2),LFe=qc(3),jd=qc(4),$Fe=qc(5),FFe=qc(6);B_.range;kb.range;jFe.range;LFe.range;jd.range;$Fe.range;FFe.range;const xk=Nn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());xk.range;const Ek=Nn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Ek.range;const Fo=Nn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Fo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Nn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Fo.range;const Vo=Nn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Vo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Nn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Vo.range;function D7(t,e,n,r,s,o){const a=[[Hl,1,ho],[Hl,5,5*ho],[Hl,15,15*ho],[Hl,30,30*ho],[o,1,Ai],[o,5,5*Ai],[o,15,15*Ai],[o,30,30*Ai],[s,1,po],[s,3,3*po],[s,6,6*po],[s,12,12*po],[r,1,$o],[r,2,2*$o],[n,1,vk],[e,1,Z$],[e,3,3*Z$],[t,1,J1]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),v=p?p.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,p=sk(([,,b])=>b).right(a,h);if(p===a.length)return t.every(aC(u/J1,d/J1,f));if(p===0)return Ib.every(Math.max(aC(u,d,f),1));const[v,g]=a[h/a[p-1][2]<a[p][2]/h?p-1:p];return v.every(g)}return[l,c]}const[VFe,BFe]=D7(Vo,Ek,B_,N7,_k,bk),[UFe,zFe]=D7(Fo,xk,V_,zg,wk,yk);function eE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function tE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function hh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function WFe(t){var e=t.dateTime,n=t.date,r=t.time,s=t.periods,o=t.days,a=t.shortDays,l=t.months,c=t.shortMonths,u=ph(s),d=mh(s),f=ph(o),h=mh(o),p=ph(a),v=mh(a),g=ph(l),b=mh(l),y=ph(c),x=mh(c),E={a:q,A:Y,b:G,B:J,c:null,d:iF,e:iF,f:h4e,g:E4e,G:S4e,H:u4e,I:d4e,j:f4e,L:R7,m:p4e,M:m4e,p:H,q:V,Q:aF,s:lF,S:g4e,u:v4e,U:y4e,V:b4e,w:w4e,W:_4e,x:null,X:null,y:x4e,Y:T4e,Z:C4e,"%":oF},T={a:ee,A:se,b:oe,B:xe,c:null,d:sF,e:sF,f:O4e,g:V4e,G:U4e,H:P4e,I:A4e,j:I4e,L:j7,m:k4e,M:N4e,p:Se,q:ye,Q:aF,s:lF,S:D4e,u:R4e,U:M4e,V:j4e,w:L4e,W:$4e,x:null,X:null,y:F4e,Y:B4e,Z:z4e,"%":oF},S={a:R,A:j,b:O,B:D,c:N,d:nF,e:nF,f:o4e,g:tF,G:eF,H:rF,I:rF,j:n4e,L:s4e,m:t4e,M:r4e,p:I,q:e4e,Q:l4e,s:c4e,S:i4e,u:YFe,U:XFe,V:QFe,w:KFe,W:ZFe,x:U,X:K,y:tF,Y:eF,Z:JFe,"%":a4e};E.x=A(n,E),E.X=A(r,E),E.c=A(e,E),T.x=A(n,T),T.X=A(r,T),T.c=A(e,T);function A(ie,we){return function(pe){var X=[],ae=-1,M=0,te=ie.length,Z,z,W;for(pe instanceof Date||(pe=new Date(+pe));++ae<te;)ie.charCodeAt(ae)===37&&(X.push(ie.slice(M,ae)),(z=J$[Z=ie.charAt(++ae)])!=null?Z=ie.charAt(++ae):z=Z==="e"?" ":"0",(W=we[Z])&&(Z=W(pe,z)),X.push(Z),M=ae+1);return X.push(ie.slice(M,ae)),X.join("")}}function C(ie,we){return function(pe){var X=hh(1900,void 0,1),ae=P(X,ie,pe+="",0),M,te;if(ae!=pe.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(we&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(M=tE(hh(X.y,0,1)),te=M.getUTCDay(),M=te>4||te===0?kb.ceil(M):kb(M),M=F_.offset(M,(X.V-1)*7),X.y=M.getUTCFullYear(),X.m=M.getUTCMonth(),X.d=M.getUTCDate()+(X.w+6)%7):(M=eE(hh(X.y,0,1)),te=M.getDay(),M=te>4||te===0?Ob.ceil(M):Ob(M),M=zg.offset(M,(X.V-1)*7),X.y=M.getFullYear(),X.m=M.getMonth(),X.d=M.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),te="Z"in X?tE(hh(X.y,0,1)).getUTCDay():eE(hh(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(te+5)%7:X.w+X.U*7-(te+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,tE(X)):eE(X)}}function P(ie,we,pe,X){for(var ae=0,M=we.length,te=pe.length,Z,z;ae<M;){if(X>=te)return-1;if(Z=we.charCodeAt(ae++),Z===37){if(Z=we.charAt(ae++),z=S[Z in J$?we.charAt(ae++):Z],!z||(X=z(ie,pe,X))<0)return-1}else if(Z!=pe.charCodeAt(X++))return-1}return X}function I(ie,we,pe){var X=u.exec(we.slice(pe));return X?(ie.p=d.get(X[0].toLowerCase()),pe+X[0].length):-1}function R(ie,we,pe){var X=p.exec(we.slice(pe));return X?(ie.w=v.get(X[0].toLowerCase()),pe+X[0].length):-1}function j(ie,we,pe){var X=f.exec(we.slice(pe));return X?(ie.w=h.get(X[0].toLowerCase()),pe+X[0].length):-1}function O(ie,we,pe){var X=y.exec(we.slice(pe));return X?(ie.m=x.get(X[0].toLowerCase()),pe+X[0].length):-1}function D(ie,we,pe){var X=g.exec(we.slice(pe));return X?(ie.m=b.get(X[0].toLowerCase()),pe+X[0].length):-1}function N(ie,we,pe){return P(ie,e,we,pe)}function U(ie,we,pe){return P(ie,n,we,pe)}function K(ie,we,pe){return P(ie,r,we,pe)}function q(ie){return a[ie.getDay()]}function Y(ie){return o[ie.getDay()]}function G(ie){return c[ie.getMonth()]}function J(ie){return l[ie.getMonth()]}function H(ie){return s[+(ie.getHours()>=12)]}function V(ie){return 1+~~(ie.getMonth()/3)}function ee(ie){return a[ie.getUTCDay()]}function se(ie){return o[ie.getUTCDay()]}function oe(ie){return c[ie.getUTCMonth()]}function xe(ie){return l[ie.getUTCMonth()]}function Se(ie){return s[+(ie.getUTCHours()>=12)]}function ye(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var we=A(ie+="",E);return we.toString=function(){return ie},we},parse:function(ie){var we=C(ie+="",!1);return we.toString=function(){return ie},we},utcFormat:function(ie){var we=A(ie+="",T);return we.toString=function(){return ie},we},utcParse:function(ie){var we=C(ie+="",!0);return we.toString=function(){return ie},we}}}var J$={"-":"",_:" ",0:"0"},zn=/^\s*\d+/,HFe=/^%/,qFe=/[\\^$*+?|[\]().{}]/g;function lt(t,e,n){var r=t<0?"-":"",s=(r?-t:t)+"",o=s.length;return r+(o<n?new Array(n-o+1).join(e)+s:s)}function GFe(t){return t.replace(qFe,"\\$&")}function ph(t){return new RegExp("^(?:"+t.map(GFe).join("|")+")","i")}function mh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function KFe(t,e,n){var r=zn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function YFe(t,e,n){var r=zn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function XFe(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function QFe(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ZFe(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function eF(t,e,n){var r=zn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function tF(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function JFe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function e4e(t,e,n){var r=zn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function t4e(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function nF(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function n4e(t,e,n){var r=zn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function rF(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function r4e(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function i4e(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function s4e(t,e,n){var r=zn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function o4e(t,e,n){var r=zn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function a4e(t,e,n){var r=HFe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function l4e(t,e,n){var r=zn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function c4e(t,e,n){var r=zn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function iF(t,e){return lt(t.getDate(),e,2)}function u4e(t,e){return lt(t.getHours(),e,2)}function d4e(t,e){return lt(t.getHours()%12||12,e,2)}function f4e(t,e){return lt(1+zg.count(Fo(t),t),e,3)}function R7(t,e){return lt(t.getMilliseconds(),e,3)}function h4e(t,e){return R7(t,e)+"000"}function p4e(t,e){return lt(t.getMonth()+1,e,2)}function m4e(t,e){return lt(t.getMinutes(),e,2)}function g4e(t,e){return lt(t.getSeconds(),e,2)}function v4e(t){var e=t.getDay();return e===0?7:e}function y4e(t,e){return lt(V_.count(Fo(t)-1,t),e,2)}function M7(t){var e=t.getDay();return e>=4||e===0?Md(t):Md.ceil(t)}function b4e(t,e){return t=M7(t),lt(Md.count(Fo(t),t)+(Fo(t).getDay()===4),e,2)}function w4e(t){return t.getDay()}function _4e(t,e){return lt(Ob.count(Fo(t)-1,t),e,2)}function x4e(t,e){return lt(t.getFullYear()%100,e,2)}function E4e(t,e){return t=M7(t),lt(t.getFullYear()%100,e,2)}function T4e(t,e){return lt(t.getFullYear()%1e4,e,4)}function S4e(t,e){var n=t.getDay();return t=n>=4||n===0?Md(t):Md.ceil(t),lt(t.getFullYear()%1e4,e,4)}function C4e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+lt(e/60|0,"0",2)+lt(e%60,"0",2)}function sF(t,e){return lt(t.getUTCDate(),e,2)}function P4e(t,e){return lt(t.getUTCHours(),e,2)}function A4e(t,e){return lt(t.getUTCHours()%12||12,e,2)}function I4e(t,e){return lt(1+F_.count(Vo(t),t),e,3)}function j7(t,e){return lt(t.getUTCMilliseconds(),e,3)}function O4e(t,e){return j7(t,e)+"000"}function k4e(t,e){return lt(t.getUTCMonth()+1,e,2)}function N4e(t,e){return lt(t.getUTCMinutes(),e,2)}function D4e(t,e){return lt(t.getUTCSeconds(),e,2)}function R4e(t){var e=t.getUTCDay();return e===0?7:e}function M4e(t,e){return lt(B_.count(Vo(t)-1,t),e,2)}function L7(t){var e=t.getUTCDay();return e>=4||e===0?jd(t):jd.ceil(t)}function j4e(t,e){return t=L7(t),lt(jd.count(Vo(t),t)+(Vo(t).getUTCDay()===4),e,2)}function L4e(t){return t.getUTCDay()}function $4e(t,e){return lt(kb.count(Vo(t)-1,t),e,2)}function F4e(t,e){return lt(t.getUTCFullYear()%100,e,2)}function V4e(t,e){return t=L7(t),lt(t.getUTCFullYear()%100,e,2)}function B4e(t,e){return lt(t.getUTCFullYear()%1e4,e,4)}function U4e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?jd(t):jd.ceil(t),lt(t.getUTCFullYear()%1e4,e,4)}function z4e(){return"+0000"}function oF(){return"%"}function aF(t){return+t}function lF(t){return Math.floor(+t/1e3)}var su,$7,F7;W4e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function W4e(t){return su=WFe(t),$7=su.format,su.parse,F7=su.utcFormat,su.utcParse,su}function H4e(t){return new Date(t)}function q4e(t){return t instanceof Date?+t:+new Date(+t)}function Tk(t,e,n,r,s,o,a,l,c,u){var d=uk(),f=d.invert,h=d.domain,p=u(".%L"),v=u(":%S"),g=u("%I:%M"),b=u("%I %p"),y=u("%a %d"),x=u("%b %d"),E=u("%B"),T=u("%Y");function S(A){return(c(A)<A?p:l(A)<A?v:a(A)<A?g:o(A)<A?b:r(A)<A?s(A)<A?y:x:n(A)<A?E:T)(A)}return d.invert=function(A){return new Date(f(A))},d.domain=function(A){return arguments.length?h(Array.from(A,q4e)):h().map(H4e)},d.ticks=function(A){var C=h();return t(C[0],C[C.length-1],A??10)},d.tickFormat=function(A,C){return C==null?S:u(C)},d.nice=function(A){var C=h();return(!A||typeof A.range!="function")&&(A=e(C[0],C[C.length-1],A??10)),A?h(S7(C,A)):d},d.copy=function(){return Ug(d,Tk(t,e,n,r,s,o,a,l,c,u))},d}function G4e(){return Fi.apply(Tk(UFe,zFe,Fo,xk,V_,zg,wk,yk,Hl,$7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function K4e(){return Fi.apply(Tk(VFe,BFe,Vo,Ek,B_,F_,_k,bk,Hl,F7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function U_(){var t=0,e=1,n,r,s,o,a=Tr,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:a(s===0?.5:(f=(o(f)-n)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),s=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(h){var p,v;return arguments.length?([p,v]=h,a=f(p,v),u):[a(0),a(1)]}}return u.range=d(Cf),u.rangeRound=d(ck),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return o=f,n=f(t),r=f(e),s=n===r?0:1/(r-n),u}}function cl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function V7(){var t=ll(U_()(Tr));return t.copy=function(){return cl(t,V7())},Go.apply(t,arguments)}function B7(){var t=hk(U_()).domain([1,10]);return t.copy=function(){return cl(t,B7()).base(t.base())},Go.apply(t,arguments)}function U7(){var t=pk(U_());return t.copy=function(){return cl(t,U7()).constant(t.constant())},Go.apply(t,arguments)}function Sk(){var t=mk(U_());return t.copy=function(){return cl(t,Sk()).exponent(t.exponent())},Go.apply(t,arguments)}function Y4e(){return Sk.apply(null,arguments).exponent(.5)}function z7(){var t=[],e=Tr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Vg(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let s of r)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Va),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,s)=>e(s/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(s,o)=>M$e(t,o/r))},n.copy=function(){return z7(e).domain(t)},Go.apply(n,arguments)}function z_(){var t=0,e=.5,n=1,r=1,s,o,a,l,c,u=Tr,d,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-o)*(r*g<r*o?l:c),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,s=d(t=+t),o=d(e=+e),a=d(n=+n),l=s===o?0:.5/(o-s),c=o===a?0:.5/(a-o),r=o<s?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function v(g){return function(b){var y,x,E;return arguments.length?([y,x,E]=b,u=aFe(g,[y,x,E]),p):[u(0),u(.5),u(1)]}}return p.range=v(Cf),p.rangeRound=v(ck),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return d=g,s=g(t),o=g(e),a=g(n),l=s===o?0:.5/(o-s),c=o===a?0:.5/(a-o),r=o<s?-1:1,p}}function W7(){var t=ll(z_()(Tr));return t.copy=function(){return cl(t,W7())},Go.apply(t,arguments)}function H7(){var t=hk(z_()).domain([.1,1,10]);return t.copy=function(){return cl(t,H7()).base(t.base())},Go.apply(t,arguments)}function q7(){var t=pk(z_());return t.copy=function(){return cl(t,q7()).constant(t.constant())},Go.apply(t,arguments)}function Ck(){var t=mk(z_());return t.copy=function(){return cl(t,Ck()).exponent(t.exponent())},Go.apply(t,arguments)}function X4e(){return Ck.apply(null,arguments).exponent(.5)}const cF=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Tm,scaleDiverging:W7,scaleDivergingLog:H7,scaleDivergingPow:Ck,scaleDivergingSqrt:X4e,scaleDivergingSymlog:q7,scaleIdentity:T7,scaleImplicit:lC,scaleLinear:Ab,scaleLog:C7,scaleOrdinal:ok,scalePoint:sp,scalePow:gk,scaleQuantile:I7,scaleQuantize:O7,scaleRadial:A7,scaleSequential:V7,scaleSequentialLog:B7,scaleSequentialPow:Sk,scaleSequentialQuantile:z7,scaleSequentialSqrt:Y4e,scaleSequentialSymlog:U7,scaleSqrt:OFe,scaleSymlog:P7,scaleThreshold:k7,scaleTime:G4e,scaleUtc:K4e,tickFormat:E7},Symbol.toStringTag,{value:"Module"}));var Q4e=vf;function Z4e(t,e,n){for(var r=-1,s=t.length;++r<s;){var o=t[r],a=e(o);if(a!=null&&(l===void 0?a===a&&!Q4e(a):n(a,l)))var l=a,c=o}return c}var W_=Z4e;function J4e(t,e){return t>e}var G7=J4e,e3e=W_,t3e=G7,n3e=Ef;function r3e(t){return t&&t.length?e3e(t,n3e,t3e):void 0}var i3e=r3e;const H_=Ke(i3e);function s3e(t,e){return t<e}var K7=s3e,o3e=W_,a3e=K7,l3e=Ef;function c3e(t){return t&&t.length?o3e(t,l3e,a3e):void 0}var u3e=c3e;const q_=Ke(u3e);var d3e=u_,f3e=qs,h3e=AH,p3e=vr;function m3e(t,e){var n=p3e(t)?d3e:h3e;return n(t,f3e(e))}var g3e=m3e,v3e=RO,y3e=g3e;function b3e(t,e){return v3e(y3e(t,e),1)}var w3e=b3e;const _3e=Ke(w3e);var Pf=1e9,x3e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ak,zt=!0,ji="[DecimalError] ",nc=ji+"Invalid argument: ",Pk=ji+"Exponent out of range: ",Af=Math.floor,Dl=Math.pow,E3e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Jr,Ln=1e7,$t=7,Y7=9007199254740991,Nb=Af(Y7/$t),Ie={};Ie.absoluteValue=Ie.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ie.comparedTo=Ie.cmp=function(t){var e,n,r,s,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,s=t.d.length,e=0,n=r<s?r:s;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===s?0:r>s^o.s<0?1:-1};Ie.decimalPlaces=Ie.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*$t;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ie.dividedBy=Ie.div=function(t){return Eo(this,new this.constructor(t))};Ie.dividedToIntegerBy=Ie.idiv=function(t){var e=this,n=e.constructor;return Tt(Eo(e,new n(t),0,1),n.precision)};Ie.equals=Ie.eq=function(t){return!this.cmp(t)};Ie.exponent=function(){return bn(this)};Ie.greaterThan=Ie.gt=function(t){return this.cmp(t)>0};Ie.greaterThanOrEqualTo=Ie.gte=function(t){return this.cmp(t)>=0};Ie.isInteger=Ie.isint=function(){return this.e>this.d.length-2};Ie.isNegative=Ie.isneg=function(){return this.s<0};Ie.isPositive=Ie.ispos=function(){return this.s>0};Ie.isZero=function(){return this.s===0};Ie.lessThan=Ie.lt=function(t){return this.cmp(t)<0};Ie.lessThanOrEqualTo=Ie.lte=function(t){return this.cmp(t)<1};Ie.logarithm=Ie.log=function(t){var e,n=this,r=n.constructor,s=r.precision,o=s+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Jr))throw Error(ji+"NaN");if(n.s<1)throw Error(ji+(n.s?"NaN":"-Infinity"));return n.eq(Jr)?new r(0):(zt=!1,e=Eo(Im(n,o),Im(t,o),o),zt=!0,Tt(e,s))};Ie.minus=Ie.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Z7(e,t):X7(e,(t.s=-t.s,t))};Ie.modulo=Ie.mod=function(t){var e,n=this,r=n.constructor,s=r.precision;if(t=new r(t),!t.s)throw Error(ji+"NaN");return n.s?(zt=!1,e=Eo(n,t,0,1).times(t),zt=!0,n.minus(e)):Tt(new r(n),s)};Ie.naturalExponential=Ie.exp=function(){return Q7(this)};Ie.naturalLogarithm=Ie.ln=function(){return Im(this)};Ie.negated=Ie.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ie.plus=Ie.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?X7(e,t):Z7(e,(t.s=-t.s,t))};Ie.precision=Ie.sd=function(t){var e,n,r,s=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(nc+t);if(e=bn(s)+1,r=s.d.length-1,n=r*$t+1,r=s.d[r],r){for(;r%10==0;r/=10)n--;for(r=s.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ie.squareRoot=Ie.sqrt=function(){var t,e,n,r,s,o,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ji+"NaN")}for(t=bn(l),zt=!1,s=Math.sqrt(+l),s==0||s==1/0?(e=Is(l.d),(e.length+t)%2==0&&(e+="0"),s=Math.sqrt(e),t=Af((t+1)/2)-(t<0||t%2),s==1/0?e="5e"+t:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(s.toString()),n=c.precision,s=a=n+3;;)if(o=r,r=o.plus(Eo(l,o,a+2)).times(.5),Is(o.d).slice(0,a)===(e=Is(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),s==a&&e=="4999"){if(Tt(o,n+1,0),o.times(o).eq(l)){r=o;break}}else if(e!="9999")break;a+=4}return zt=!0,Tt(r,n)};Ie.times=Ie.mul=function(t){var e,n,r,s,o,a,l,c,u,d=this,f=d.constructor,h=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,c=h.length,u=p.length,c<u&&(o=h,h=p,p=o,a=c,c=u,u=a),o=[],a=c+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,s=c+r;s>r;)l=o[s]+p[r]*h[s-r-1]+e,o[s--]=l%Ln|0,e=l/Ln|0;o[s]=(o[s]+e)%Ln|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,zt?Tt(t,f.precision):t};Ie.toDecimalPlaces=Ie.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Hs(t,0,Pf),e===void 0?e=r.rounding:Hs(e,0,8),Tt(n,t+bn(n)+1,e))};Ie.toExponential=function(t,e){var n,r=this,s=r.constructor;return t===void 0?n=Ic(r,!0):(Hs(t,0,Pf),e===void 0?e=s.rounding:Hs(e,0,8),r=Tt(new s(r),t+1,e),n=Ic(r,!0,t+1)),n};Ie.toFixed=function(t,e){var n,r,s=this,o=s.constructor;return t===void 0?Ic(s):(Hs(t,0,Pf),e===void 0?e=o.rounding:Hs(e,0,8),r=Tt(new o(s),t+bn(s)+1,e),n=Ic(r.abs(),!1,t+bn(r)+1),s.isneg()&&!s.isZero()?"-"+n:n)};Ie.toInteger=Ie.toint=function(){var t=this,e=t.constructor;return Tt(new e(t),bn(t)+1,e.rounding)};Ie.toNumber=function(){return+this};Ie.toPower=Ie.pow=function(t){var e,n,r,s,o,a,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(Jr);if(l=new c(l),!l.s){if(t.s<1)throw Error(ji+"Infinity");return l}if(l.eq(Jr))return l;if(r=c.precision,t.eq(Jr))return Tt(l,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=l.s,a){if((n=d<0?-d:d)<=Y7){for(s=new c(Jr),e=Math.ceil(r/$t+4),zt=!1;n%2&&(s=s.times(l),dF(s.d,e)),n=Af(n/2),n!==0;)l=l.times(l),dF(l.d,e);return zt=!0,t.s<0?new c(Jr).div(s):Tt(s,r)}}else if(o<0)throw Error(ji+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,zt=!1,s=t.times(Im(l,r+u)),zt=!0,s=Q7(s),s.s=o,s};Ie.toPrecision=function(t,e){var n,r,s=this,o=s.constructor;return t===void 0?(n=bn(s),r=Ic(s,n<=o.toExpNeg||n>=o.toExpPos)):(Hs(t,1,Pf),e===void 0?e=o.rounding:Hs(e,0,8),s=Tt(new o(s),t,e),n=bn(s),r=Ic(s,t<=n||n<=o.toExpNeg,t)),r};Ie.toSignificantDigits=Ie.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Hs(t,1,Pf),e===void 0?e=r.rounding:Hs(e,0,8)),Tt(new r(n),t,e)};Ie.toString=Ie.valueOf=Ie.val=Ie.toJSON=Ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=bn(t),n=t.constructor;return Ic(t,e<=n.toExpNeg||e>=n.toExpPos)};function X7(t,e){var n,r,s,o,a,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),zt?Tt(e,f):e;if(c=t.d,u=e.d,a=t.e,s=e.e,c=c.slice(),o=a-s,o){for(o<0?(r=c,o=-o,l=u.length):(r=u,s=a,l=c.length),a=Math.ceil(f/$t),l=a>l?a+1:l+1,o>l&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(l=c.length,o=u.length,l-o<0&&(o=l,r=u,u=c,c=r),n=0;o;)n=(c[--o]=c[o]+u[o]+n)/Ln|0,c[o]%=Ln;for(n&&(c.unshift(n),++s),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=s,zt?Tt(e,f):e}function Hs(t,e,n){if(t!==~~t||t<e||t>n)throw Error(nc+t)}function Is(t){var e,n,r,s=t.length-1,o="",a=t[0];if(s>0){for(o+=a,e=1;e<s;e++)r=t[e]+"",n=$t-r.length,n&&(o+=ha(n)),o+=r;a=t[e],r=a+"",n=$t-r.length,n&&(o+=ha(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Eo=function(){function t(r,s){var o,a=0,l=r.length;for(r=r.slice();l--;)o=r[l]*s+a,r[l]=o%Ln|0,a=o/Ln|0;return a&&r.unshift(a),r}function e(r,s,o,a){var l,c;if(o!=a)c=o>a?1:-1;else for(l=c=0;l<o;l++)if(r[l]!=s[l]){c=r[l]>s[l]?1:-1;break}return c}function n(r,s,o){for(var a=0;o--;)r[o]-=a,a=r[o]<s[o]?1:0,r[o]=a*Ln+r[o]-s[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,o,a){var l,c,u,d,f,h,p,v,g,b,y,x,E,T,S,A,C,P,I=r.constructor,R=r.s==s.s?1:-1,j=r.d,O=s.d;if(!r.s)return new I(r);if(!s.s)throw Error(ji+"Division by zero");for(c=r.e-s.e,C=O.length,S=j.length,p=new I(R),v=p.d=[],u=0;O[u]==(j[u]||0);)++u;if(O[u]>(j[u]||0)&&--c,o==null?x=o=I.precision:a?x=o+(bn(r)-bn(s))+1:x=o,x<0)return new I(0);if(x=x/$t+2|0,u=0,C==1)for(d=0,O=O[0],x++;(u<S||d)&&x--;u++)E=d*Ln+(j[u]||0),v[u]=E/O|0,d=E%O|0;else{for(d=Ln/(O[0]+1)|0,d>1&&(O=t(O,d),j=t(j,d),C=O.length,S=j.length),T=C,g=j.slice(0,C),b=g.length;b<C;)g[b++]=0;P=O.slice(),P.unshift(0),A=O[0],O[1]>=Ln/2&&++A;do d=0,l=e(O,g,C,b),l<0?(y=g[0],C!=b&&(y=y*Ln+(g[1]||0)),d=y/A|0,d>1?(d>=Ln&&(d=Ln-1),f=t(O,d),h=f.length,b=g.length,l=e(f,g,h,b),l==1&&(d--,n(f,C<h?P:O,h))):(d==0&&(l=d=1),f=O.slice()),h=f.length,h<b&&f.unshift(0),n(g,f,b),l==-1&&(b=g.length,l=e(O,g,C,b),l<1&&(d++,n(g,C<b?P:O,b))),b=g.length):l===0&&(d++,g=[0]),v[u++]=d,l&&g[0]?g[b++]=j[T]||0:(g=[j[T]],b=1);while((T++<S||g[0]!==void 0)&&x--)}return v[0]||v.shift(),p.e=c,Tt(p,a?o+bn(p)+1:o)}}();function Q7(t,e){var n,r,s,o,a,l,c=0,u=0,d=t.constructor,f=d.precision;if(bn(t)>16)throw Error(Pk+bn(t));if(!t.s)return new d(Jr);for(e==null?(zt=!1,l=f):l=e,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(Dl(2,u))/Math.LN10*2+5|0,l+=r,n=s=o=new d(Jr),d.precision=l;;){if(s=Tt(s.times(t),l),n=n.times(++c),a=o.plus(Eo(s,n,l)),Is(a.d).slice(0,l)===Is(o.d).slice(0,l)){for(;u--;)o=Tt(o.times(o),l);return d.precision=f,e==null?(zt=!0,Tt(o,f)):o}o=a}}function bn(t){for(var e=t.e*$t,n=t.d[0];n>=10;n/=10)e++;return e}function nE(t,e,n){if(e>t.LN10.sd())throw zt=!0,n&&(t.precision=n),Error(ji+"LN10 precision limit exceeded");return Tt(new t(t.LN10),e)}function ha(t){for(var e="";t--;)e+="0";return e}function Im(t,e){var n,r,s,o,a,l,c,u,d,f=1,h=10,p=t,v=p.d,g=p.constructor,b=g.precision;if(p.s<1)throw Error(ji+(p.s?"NaN":"-Infinity"));if(p.eq(Jr))return new g(0);if(e==null?(zt=!1,u=b):u=e,p.eq(10))return e==null&&(zt=!0),nE(g,u);if(u+=h,g.precision=u,n=Is(v),r=n.charAt(0),o=bn(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Is(p.d),r=n.charAt(0),f++;o=bn(p),r>1?(p=new g("0."+n),o++):p=new g(r+"."+n.slice(1))}else return c=nE(g,u+2,b).times(o+""),p=Im(new g(r+"."+n.slice(1)),u-h).plus(c),g.precision=b,e==null?(zt=!0,Tt(p,b)):p;for(l=a=p=Eo(p.minus(Jr),p.plus(Jr),u),d=Tt(p.times(p),u),s=3;;){if(a=Tt(a.times(d),u),c=l.plus(Eo(a,new g(s),u)),Is(c.d).slice(0,u)===Is(l.d).slice(0,u))return l=l.times(2),o!==0&&(l=l.plus(nE(g,u+2,b).times(o+""))),l=Eo(l,new g(f),u),g.precision=b,e==null?(zt=!0,Tt(l,b)):l;l=c,s+=2}}function uF(t,e){var n,r,s;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(s=e.length;e.charCodeAt(s-1)===48;)--s;if(e=e.slice(r,s),e){if(s-=r,n=n-r-1,t.e=Af(n/$t),t.d=[],r=(n+1)%$t,n<0&&(r+=$t),r<s){for(r&&t.d.push(+e.slice(0,r)),s-=$t;r<s;)t.d.push(+e.slice(r,r+=$t));e=e.slice(r),r=$t-e.length}else r-=s;for(;r--;)e+="0";if(t.d.push(+e),zt&&(t.e>Nb||t.e<-Nb))throw Error(Pk+n)}else t.s=0,t.e=0,t.d=[0];return t}function Tt(t,e,n){var r,s,o,a,l,c,u,d,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=$t,s=e,u=f[d=0];else{if(d=Math.ceil((r+1)/$t),o=f.length,d>=o)return t;for(u=o=f[d],a=1;o>=10;o/=10)a++;r%=$t,s=r-$t+a}if(n!==void 0&&(o=Dl(10,a-s-1),l=u/o%10|0,c=e<0||f[d+1]!==void 0||u%o,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?s>0?u/Dl(10,a-s):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return c?(o=bn(t),f.length=1,e=e-o-1,f[0]=Dl(10,($t-e%$t)%$t),t.e=Af(-e/$t)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,o=1,d--):(f.length=d+1,o=Dl(10,$t-r),f[d]=s>0?(u/Dl(10,a-s)%Dl(10,s)|0)*o:0),c)for(;;)if(d==0){(f[0]+=o)==Ln&&(f[0]=1,++t.e);break}else{if(f[d]+=o,f[d]!=Ln)break;f[d--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(zt&&(t.e>Nb||t.e<-Nb))throw Error(Pk+bn(t));return t}function Z7(t,e){var n,r,s,o,a,l,c,u,d,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),zt?Tt(e,p):e;if(c=t.d,f=e.d,r=e.e,u=t.e,c=c.slice(),a=u-r,a){for(d=a<0,d?(n=c,a=-a,l=f.length):(n=f,r=u,l=c.length),s=Math.max(Math.ceil(p/$t),l)+2,a>s&&(a=s,n.length=1),n.reverse(),s=a;s--;)n.push(0);n.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}a=0}for(d&&(n=c,c=f,f=n,e.s=-e.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>a;){if(c[--s]<f[s]){for(o=s;o&&c[--o]===0;)c[o]=Ln-1;--c[o],c[s]+=Ln}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,zt?Tt(e,p):e):new h(0)}function Ic(t,e,n){var r,s=bn(t),o=Is(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+ha(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(s<0?"e":"e+")+s):s<0?(o="0."+ha(-s-1)+o,n&&(r=n-a)>0&&(o+=ha(r))):s>=a?(o+=ha(s+1-a),n&&(r=n-s-1)>0&&(o=o+"."+ha(r))):((r=s+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(s+1===a&&(o+="."),o+=ha(r))),t.s<0?"-"+o:o}function dF(t,e){if(t.length>e)return t.length=e,!0}function J7(t){var e,n,r;function s(o){var a=this;if(!(a instanceof s))return new s(o);if(a.constructor=s,o instanceof s){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(nc+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return uF(a,o.toString())}else if(typeof o!="string")throw Error(nc+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,E3e.test(o))uF(a,o);else throw Error(nc+o)}if(s.prototype=Ie,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=J7,s.config=s.set=T3e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return s.config(t),s}function T3e(t){if(!t||typeof t!="object")throw Error(ji+"Object expected");var e,n,r,s=["precision",1,Pf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<s.length;e+=3)if((r=t[n=s[e]])!==void 0)if(Af(r)===r&&r>=s[e+1]&&r<=s[e+2])this[n]=r;else throw Error(nc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(nc+n+": "+r);return this}var Ak=J7(x3e);Jr=new Ak(1);const wt=Ak;function S3e(t){return I3e(t)||A3e(t)||P3e(t)||C3e()}function C3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P3e(t,e){if(t){if(typeof t=="string")return fC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fC(t,e)}}function A3e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function I3e(t){if(Array.isArray(t))return fC(t)}function fC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var O3e=function(e){return e},eq={"@@functional/placeholder":!0},tq=function(e){return e===eq},fF=function(e){return function n(){return arguments.length===0||arguments.length===1&&tq(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},k3e=function t(e,n){return e===1?n:fF(function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var a=s.filter(function(l){return l!==eq}).length;return a>=e?n.apply(void 0,s):t(e-a,fF(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return tq(f)?c.shift():f});return n.apply(void 0,S3e(d).concat(c))}))})},G_=function(e){return k3e(e.length,e)},hC=function(e,n){for(var r=[],s=e;s<n;++s)r[s-e]=s;return r},N3e=G_(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),D3e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return O3e;var s=n.reverse(),o=s[0],a=s.slice(1);return function(){return a.reduce(function(l,c){return c(l)},o.apply(void 0,arguments))}},pC=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},nq=function(e){var n=null,r=null;return function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return n&&o.every(function(l,c){return l===n[c]})||(n=o,r=e.apply(void 0,o)),r}};function R3e(t){var e;return t===0?e=1:e=Math.floor(new wt(t).abs().log(10).toNumber())+1,e}function M3e(t,e,n){for(var r=new wt(t),s=0,o=[];r.lt(e)&&s<1e5;)o.push(r.toNumber()),r=r.add(n),s++;return o}var j3e=G_(function(t,e,n){var r=+t,s=+e;return r+n*(s-r)}),L3e=G_(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),$3e=G_(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const K_={rangeStep:M3e,getDigitCount:R3e,interpolateNumber:j3e,uninterpolateNumber:L3e,uninterpolateTruncation:$3e};function mC(t){return B3e(t)||V3e(t)||rq(t)||F3e()}function F3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V3e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function B3e(t){if(Array.isArray(t))return gC(t)}function Om(t,e){return W3e(t)||z3e(t,e)||rq(t,e)||U3e()}function U3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rq(t,e){if(t){if(typeof t=="string")return gC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gC(t,e)}}function gC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function z3e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,s=!1,o=void 0;try{for(var a=t[Symbol.iterator](),l;!(r=(l=a.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){s=!0,o=c}finally{try{!r&&a.return!=null&&a.return()}finally{if(s)throw o}}return n}}function W3e(t){if(Array.isArray(t))return t}function iq(t){var e=Om(t,2),n=e[0],r=e[1],s=n,o=r;return n>r&&(s=r,o=n),[s,o]}function sq(t,e,n){if(t.lte(0))return new wt(0);var r=K_.getDigitCount(t.toNumber()),s=new wt(10).pow(r),o=t.div(s),a=r!==1?.05:.1,l=new wt(Math.ceil(o.div(a).toNumber())).add(n).mul(a),c=l.mul(s);return e?c:new wt(Math.ceil(c))}function H3e(t,e,n){var r=1,s=new wt(t);if(!s.isint()&&n){var o=Math.abs(t);o<1?(r=new wt(10).pow(K_.getDigitCount(t)-1),s=new wt(Math.floor(s.div(r).toNumber())).mul(r)):o>1&&(s=new wt(Math.floor(t)))}else t===0?s=new wt(Math.floor((e-1)/2)):n||(s=new wt(Math.floor(t)));var a=Math.floor((e-1)/2),l=D3e(N3e(function(c){return s.add(new wt(c-a).mul(r)).toNumber()}),hC);return l(0,e)}function oq(t,e,n,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new wt(0),tickMin:new wt(0),tickMax:new wt(0)};var o=sq(new wt(e).sub(t).div(n-1),r,s),a;t<=0&&e>=0?a=new wt(0):(a=new wt(t).add(e).div(2),a=a.sub(new wt(a).mod(o)));var l=Math.ceil(a.sub(t).div(o).toNumber()),c=Math.ceil(new wt(e).sub(a).div(o).toNumber()),u=l+c+1;return u>n?oq(t,e,n,r,s+1):(u<n&&(c=e>0?c+(n-u):c,l=e>0?l:l+(n-u)),{step:o,tickMin:a.sub(new wt(l).mul(o)),tickMax:a.add(new wt(c).mul(o))})}function q3e(t){var e=Om(t,2),n=e[0],r=e[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(s,2),l=iq([n,r]),c=Om(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(mC(hC(0,s-1).map(function(){return 1/0}))):[].concat(mC(hC(0,s-1).map(function(){return-1/0})),[d]);return n>r?pC(f):f}if(u===d)return H3e(u,s,o);var h=oq(u,d,a,o),p=h.step,v=h.tickMin,g=h.tickMax,b=K_.rangeStep(v,g.add(new wt(.1).mul(p)),p);return n>r?pC(b):b}function G3e(t,e){var n=Om(t,2),r=n[0],s=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=iq([r,s]),l=Om(a,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,s];if(c===u)return[c];var d=Math.max(e,2),f=sq(new wt(u).sub(c).div(d-1),o,0),h=[].concat(mC(K_.rangeStep(new wt(c),new wt(u).sub(new wt(.99).mul(f)),f)),[u]);return r>s?pC(h):h}var K3e=nq(q3e),Y3e=nq(G3e),X3e="Invariant failed";function Ld(t,e){if(!t)throw new Error(X3e)}var Q3e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function $d(t){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(t)}function Db(){return Db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Db.apply(this,arguments)}function Z3e(t,e){return nVe(t)||tVe(t,e)||eVe(t,e)||J3e()}function J3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eVe(t,e){if(t){if(typeof t=="string")return hF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hF(t,e)}}function hF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tVe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function nVe(t){if(Array.isArray(t))return t}function rVe(t,e){if(t==null)return{};var n=iVe(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iVe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cq(r.key),r)}}function oVe(t,e,n){return e&&pF(t.prototype,e),n&&pF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function aVe(t,e,n){return e=Rb(e),lVe(t,aq()?Reflect.construct(e,n||[],Rb(t).constructor):e.apply(t,n))}function lVe(t,e){if(e&&($d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cVe(t)}function cVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aq=function(){return!!t})()}function Rb(t){return Rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rb(t)}function uVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vC(t,e)}function vC(t,e){return vC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},vC(t,e)}function lq(t,e,n){return e=cq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cq(t){var e=dVe(t,"string");return $d(e)=="symbol"?e:e+""}function dVe(t,e){if($d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ik=function(t){function e(){return sVe(this,e),aVe(this,e,arguments)}return uVe(e,t),oVe(e,[{key:"render",value:function(){var r=this.props,s=r.offset,o=r.layout,a=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=rVe(r,Q3e),p=We(h,!1);this.props.direction==="x"&&d.type!=="number"&&Ld(!1);var v=c.map(function(g){var b=u(g,l),y=b.x,x=b.y,E=b.value,T=b.errorVal;if(!T)return null;var S=[],A,C;if(Array.isArray(T)){var P=Z3e(T,2);A=P[0],C=P[1]}else A=C=T;if(o==="vertical"){var I=d.scale,R=x+s,j=R+a,O=R-a,D=I(E-A),N=I(E+C);S.push({x1:N,y1:j,x2:N,y2:O}),S.push({x1:D,y1:R,x2:N,y2:R}),S.push({x1:D,y1:j,x2:D,y2:O})}else if(o==="horizontal"){var U=f.scale,K=y+s,q=K-a,Y=K+a,G=U(E-A),J=U(E+C);S.push({x1:q,y1:J,x2:Y,y2:J}),S.push({x1:K,y1:G,x2:K,y2:J}),S.push({x1:q,y1:G,x2:Y,y2:G})}return L.createElement(nn,Db({className:"recharts-errorBar",key:"bar-".concat(S.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},p),S.map(function(H){return L.createElement("line",Db({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return L.createElement(nn,{className:"recharts-errorBars"},v)}}])}(L.Component);lq(Ik,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});lq(Ik,"displayName","ErrorBar");function km(t){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(t)}function mF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function wl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mF(Object(n),!0).forEach(function(r){fVe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fVe(t,e,n){return e=hVe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hVe(t){var e=pVe(t,"string");return km(e)=="symbol"?e:e+""}function pVe(t,e){if(km(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uq=function(e){var n=e.children,r=e.formattedGraphicalItems,s=e.legendWidth,o=e.legendContent,a=bi(n,Jl);if(!a)return null;var l=Jl.defaultProps,c=l!==void 0?wl(wl({},l),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,p=f.props,v=p.sectors||p.data||[];return d.concat(v.map(function(g){return{type:a.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?wl(wl({},h),f.props):{},v=p.dataKey,g=p.name,b=p.legendType,y=p.hide;return{inactive:y,dataKey:v,type:c.iconType||b||"square",color:Ok(f),value:g||v,payload:p}}),wl(wl(wl({},c),Jl.getWithHeight(a,s)),{},{payload:u,item:a})};function Nm(t){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(t)}function gF(t){return yVe(t)||vVe(t)||gVe(t)||mVe()}function mVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gVe(t,e){if(t){if(typeof t=="string")return yC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yC(t,e)}}function vVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yVe(t){if(Array.isArray(t))return yC(t)}function yC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vF(Object(n),!0).forEach(function(r){Zu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zu(t,e,n){return e=bVe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bVe(t){var e=wVe(t,"string");return Nm(e)=="symbol"?e:e+""}function wVe(t,e){if(Nm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ei(t,e,n){return nt(t)||nt(e)?n:An(e)?ns(t,e,n):He(e)?e(t):n}function op(t,e,n,r){var s=_3e(t,function(l){return ei(l,e)});if(n==="number"){var o=s.filter(function(l){return Ce(l)||parseFloat(l)});return o.length?[q_(o),H_(o)]:[1/0,-1/0]}var a=r?s.filter(function(l){return!nt(l)}):s;return a.map(function(l){return An(l)||l instanceof Date?l:""})}var _Ve=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var c=o.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,p=void 0;if(Pi(f-d)!==Pi(h-f)){var v=[];if(Pi(h-f)===Pi(c[1]-c[0])){p=h;var g=f+c[1]-c[0];v[0]=Math.min(g,(g+d)/2),v[1]=Math.max(g,(g+d)/2)}else{p=d;var b=h+c[1]-c[0];v[0]=Math.min(f,(b+f)/2),v[1]=Math.max(f,(b+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>y[0]&&e<=y[1]||e>=v[0]&&e<=v[1]){a=s[u].index;break}}else{var x=Math.min(d,h),E=Math.max(d,h);if(e>(x+f)/2&&e<=(E+f)/2){a=s[u].index;break}}}else for(var T=0;T<l;T++)if(T===0&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<l-1&&e>(r[T].coordinate+r[T-1].coordinate)/2&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T===l-1&&e>(r[T].coordinate+r[T-1].coordinate)/2){a=r[T].index;break}return a},Ok=function(e){var n,r=e,s=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Jt(Jt({},e.type.defaultProps),e.props):e.props,a=o.stroke,l=o.fill,c;switch(s){case"Line":c=a;break;case"Area":case"Radar":c=a&&a!=="none"?a:l;break;default:c=l;break}return c},xVe=function(e){var n=e.barSize,r=e.totalSize,s=e.stackGroups,o=s===void 0?{}:s;if(!o)return{};for(var a={},l=Object.keys(o),c=0,u=l.length;c<u;c++)for(var d=o[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var v=d[f[h]],g=v.items,b=v.cateAxisId,y=g.filter(function(C){return _o(C.type).indexOf("Bar")>=0});if(y&&y.length){var x=y[0].type.defaultProps,E=x!==void 0?Jt(Jt({},x),y[0].props):y[0].props,T=E.barSize,S=E[b];a[S]||(a[S]=[]);var A=nt(T)?n:T;a[S].push({item:y[0],stackList:y.slice(1),barSize:nt(A)?void 0:Mr(A,r,0)})}}return a},EVe=function(e){var n=e.barGap,r=e.barCategoryGap,s=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,l=e.maxBarSize,c=a.length;if(c<1)return null;var u=Mr(n,s,0,!0),d,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,p=s/c,v=a.reduce(function(T,S){return T+S.barSize||0},0);v+=(c-1)*u,v>=s&&(v-=(c-1)*u,u=0),v>=s&&p>0&&(h=!0,p*=.9,v=c*p);var g=(s-v)/2>>0,b={offset:g-u,size:0};d=a.reduce(function(T,S){var A={item:S.item,position:{offset:b.offset+b.size+u,size:h?p:S.barSize}},C=[].concat(gF(T),[A]);return b=C[C.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(P){C.push({item:P,position:b})}),C},f)}else{var y=Mr(r,s,0,!0);s-2*y-(c-1)*u<=0&&(u=0);var x=(s-2*y-(c-1)*u)/c;x>1&&(x>>=0);var E=l===+l?Math.min(x,l):x;d=a.reduce(function(T,S,A){var C=[].concat(gF(T),[{item:S.item,position:{offset:y+(x+u)*A+(x-E)/2,size:E}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(P){C.push({item:P,position:C[C.length-1].position})}),C},f)}return d},TVe=function(e,n,r,s){var o=r.children,a=r.width,l=r.margin,c=a-(l.left||0)-(l.right||0),u=uq({children:o,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,p=u.align,v=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&v==="middle")&&p!=="center"&&Ce(e[p]))return Jt(Jt({},e),{},Zu({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&v!=="middle"&&Ce(e[v]))return Jt(Jt({},e),{},Zu({},v,e[v]+(h||0)))}return e},SVe=function(e,n,r){return nt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},dq=function(e,n,r,s,o){var a=n.props.children,l=Fs(a,Ik).filter(function(u){return SVe(s,o,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=ei(d,r);if(nt(f))return u;var h=Array.isArray(f)?[q_(f),H_(f)]:[f,f],p=c.reduce(function(v,g){var b=ei(d,g,0),y=h[0]-Math.abs(Array.isArray(b)?b[0]:b),x=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(y,v[0]),Math.max(x,v[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},CVe=function(e,n,r,s,o){var a=n.map(function(l){return dq(e,l,r,o,s)}).filter(function(l){return!nt(l)});return a&&a.length?a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},fq=function(e,n,r,s,o){var a=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&dq(e,c,u,s)||op(e,u,r,o)});if(r==="number")return a.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return a.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},hq=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},kh=function(e,n,r){if(!e)return null;var s=e.scale,o=e.duplicateDomain,a=e.type,l=e.range,c=e.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(n||r)&&a==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Pi(l[0]-l[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!Fg(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!r?s.ticks(e.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:o?o[f]:f,index:h,offset:u}})},rE=new WeakMap,Xv=function(e,n){if(typeof n!="function")return e;rE.has(e)||rE.set(e,new WeakMap);var r=rE.get(e);if(r.has(n))return r.get(n);var s=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,s),s},PVe=function(e,n,r){var s=e.scale,o=e.type,a=e.layout,l=e.axisType;if(s==="auto")return a==="radial"&&l==="radiusAxis"?{scale:Tm(),realScaleType:"band"}:a==="radial"&&l==="angleAxis"?{scale:Ab(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:sp(),realScaleType:"point"}:o==="category"?{scale:Tm(),realScaleType:"band"}:{scale:Ab(),realScaleType:"linear"};if($g(s)){var c="scale".concat(D_(s));return{scale:(cF[c]||sp)(),realScaleType:cF[c]?c:"point"}}return He(s)?{scale:s}:{scale:sp(),realScaleType:"point"}},yF=1e-4,AVe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,s=e.range(),o=Math.min(s[0],s[1])-yF,a=Math.max(s[0],s[1])+yF,l=e(n[0]),c=e(n[r-1]);(l<o||l>a||c<o||c>a)&&e.domain([n[0],n[r-1]])}},IVe=function(e){var n=e.length;if(!(n<=0))for(var r=0,s=e[0].length;r<s;++r)for(var o=0,a=0,l=0;l<n;++l){var c=Fg(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1]):(e[l][r][0]=a,e[l][r][1]=a+c,a=e[l][r][1])}},OVe=function(e){var n=e.length;if(!(n<=0))for(var r=0,s=e[0].length;r<s;++r)for(var o=0,a=0;a<n;++a){var l=Fg(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},kVe={sign:IVe,expand:OMe,none:Ad,silhouette:kMe,wiggle:NMe,positive:OVe},NVe=function(e,n,r){var s=n.map(function(l){return l.props.dataKey}),o=kVe[r],a=IMe().keys(s).value(function(l,c){return+ei(l,c,0)}).order(KS).offset(o);return a(e)},DVe=function(e,n,r,s,o,a){if(!e)return null;var l=a?n.reverse():n,c={},u=l.reduce(function(f,h){var p,v=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Jt(Jt({},h.type.defaultProps),h.props):h.props,g=v.stackId,b=v.hide;if(b)return f;var y=v[r],x=f[y]||{hasStack:!1,stackGroups:{}};if(An(g)){var E=x.stackGroups[g]||{numericAxisId:r,cateAxisId:s,items:[]};E.items.push(h),x.hasStack=!0,x.stackGroups[g]=E}else x.stackGroups[k_("_stackId_")]={numericAxisId:r,cateAxisId:s,items:[h]};return Jt(Jt({},f),{},Zu({},y,x))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,b){var y=p.stackGroups[b];return Jt(Jt({},g),{},Zu({},b,{numericAxisId:r,cateAxisId:s,items:y.items,stackedData:NVe(e,y.items,o)}))},v)}return Jt(Jt({},f),{},Zu({},h,p))},d)},RVe=function(e,n){var r=n.realScaleType,s=n.type,o=n.tickCount,a=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(o&&s==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=K3e(u,o,l);return e.domain([q_(d),H_(d)]),{niceTicks:d}}if(o&&s==="number"){var f=e.domain(),h=Y3e(f,o,l);return{niceTicks:h}}return null},MVe=function(e,n){var r,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Jt(Jt({},e.type.defaultProps),e.props):e.props,o=s.stackId;if(An(o)){var a=n[o];if(a){var l=a.items.indexOf(e);return l>=0?a.stackedData[l]:null}}return null},jVe=function(e){return e.reduce(function(n,r){return[q_(r.concat([n[0]]).filter(Ce)),H_(r.concat([n[1]]).filter(Ce))]},[1/0,-1/0])},pq=function(e,n,r){return Object.keys(e).reduce(function(s,o){var a=e[o],l=a.stackedData,c=l.reduce(function(u,d){var f=jVe(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},bF=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wF=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bC=function(e,n,r){if(He(e))return e(n,r);if(!Array.isArray(e))return n;var s=[];if(Ce(e[0]))s[0]=r?e[0]:Math.min(e[0],n[0]);else if(bF.test(e[0])){var o=+bF.exec(e[0])[1];s[0]=n[0]-o}else He(e[0])?s[0]=e[0](n[0]):s[0]=n[0];if(Ce(e[1]))s[1]=r?e[1]:Math.max(e[1],n[1]);else if(wF.test(e[1])){var a=+wF.exec(e[1])[1];s[1]=n[1]+a}else He(e[1])?s[1]=e[1](n[1]):s[1]=n[1];return s},wC=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();if(!r||s>0)return s}if(e&&n&&n.length>=2){for(var o=h_(n,function(f){return f.coordinate}),a=1/0,l=1,c=o.length;l<c;l++){var u=o[l],d=o[l-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},_F=function(e,n,r){return!e||!e.length||c_(e,ns(r,"type.defaultProps.domain"))?n:e},LVe=function(e,n){var r=e.type.defaultProps?Jt(Jt({},e.type.defaultProps),e.props):e.props,s=r.dataKey,o=r.name,a=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return Jt(Jt({},We(e,!1)),{},{dataKey:s,unit:a,formatter:l,name:o||s,color:Ok(e),value:ei(n,s),type:c,payload:n,chartType:u,hide:d})};function Dm(t){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dm(t)}function xF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ro(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xF(Object(n),!0).forEach(function(r){mq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mq(t,e,n){return e=$Ve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Ve(t){var e=FVe(t,"string");return Dm(e)=="symbol"?e:e+""}function FVe(t,e){if(Dm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VVe(t,e){return WVe(t)||zVe(t,e)||UVe(t,e)||BVe()}function BVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UVe(t,e){if(t){if(typeof t=="string")return EF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EF(t,e)}}function EF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zVe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function WVe(t){if(Array.isArray(t))return t}var Mb=Math.PI/180,HVe=function(e){return e*180/Math.PI},Dt=function(e,n,r,s){return{x:e+Math.cos(-Mb*s)*r,y:n+Math.sin(-Mb*s)*r}},gq=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},qVe=function(e,n,r,s,o){var a=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=Mr(e.cx,a,a/2),f=Mr(e.cy,l,l/2),h=gq(a,l,r),p=Mr(e.innerRadius,h,0),v=Mr(e.outerRadius,h,h*.8),g=Object.keys(n);return g.reduce(function(b,y){var x=n[y],E=x.domain,T=x.reversed,S;if(nt(x.range))s==="angleAxis"?S=[c,u]:s==="radiusAxis"&&(S=[p,v]),T&&(S=[S[1],S[0]]);else{S=x.range;var A=S,C=VVe(A,2);c=C[0],u=C[1]}var P=PVe(x,o),I=P.realScaleType,R=P.scale;R.domain(E).range(S),AVe(R);var j=RVe(R,ro(ro({},x),{},{realScaleType:I})),O=ro(ro(ro({},x),j),{},{range:S,radius:v,realScaleType:I,scale:R,cx:d,cy:f,innerRadius:p,outerRadius:v,startAngle:c,endAngle:u});return ro(ro({},b),{},mq({},y,O))},{})},GVe=function(e,n){var r=e.x,s=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(s-a,2))},KVe=function(e,n){var r=e.x,s=e.y,o=n.cx,a=n.cy,l=GVe({x:r,y:s},{x:o,y:a});if(l<=0)return{radius:l};var c=(r-o)/l,u=Math.acos(c);return s>a&&(u=2*Math.PI-u),{radius:l,angle:HVe(u),angleInRadian:u}},YVe=function(e){var n=e.startAngle,r=e.endAngle,s=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(s,o);return{startAngle:n-a*360,endAngle:r-a*360}},XVe=function(e,n){var r=n.startAngle,s=n.endAngle,o=Math.floor(r/360),a=Math.floor(s/360),l=Math.min(o,a);return e+l*360},TF=function(e,n){var r=e.x,s=e.y,o=KVe({x:r,y:s},n),a=o.radius,l=o.angle,c=n.innerRadius,u=n.outerRadius;if(a<c||a>u)return!1;if(a===0)return!0;var d=YVe(n),f=d.startAngle,h=d.endAngle,p=l,v;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}return v?ro(ro({},n),{},{radius:a,angle:XVe(p,n)}):null},vq=function(e){return!F.isValidElement(e)&&!He(e)&&typeof e!="boolean"?e.className:""};function Rm(t){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rm(t)}var QVe=["offset"];function ZVe(t){return n5e(t)||t5e(t)||e5e(t)||JVe()}function JVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e5e(t,e){if(t){if(typeof t=="string")return _C(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _C(t,e)}}function t5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function n5e(t){if(Array.isArray(t))return _C(t)}function _C(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r5e(t,e){if(t==null)return{};var n=i5e(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function i5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function SF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SF(Object(n),!0).forEach(function(r){s5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s5e(t,e,n){return e=o5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o5e(t){var e=a5e(t,"string");return Rm(e)=="symbol"?e:e+""}function a5e(t,e){if(Rm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mm(){return Mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mm.apply(this,arguments)}var l5e=function(e){var n=e.value,r=e.formatter,s=nt(e.children)?n:e.children;return He(r)?r(s):s},c5e=function(e,n){var r=Pi(n-e),s=Math.min(Math.abs(n-e),360);return r*s},u5e=function(e,n,r){var s=e.position,o=e.viewBox,a=e.offset,l=e.className,c=o,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,v=c.endAngle,g=c.clockWise,b=(f+h)/2,y=c5e(p,v),x=y>=0?1:-1,E,T;s==="insideStart"?(E=p+x*a,T=g):s==="insideEnd"?(E=v-x*a,T=!g):s==="end"&&(E=v+x*a,T=g),T=y<=0?T:!T;var S=Dt(u,d,b,E),A=Dt(u,d,b,E+(T?1:-1)*359),C="M".concat(S.x,",").concat(S.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(T?0:1,`,
    `).concat(A.x,",").concat(A.y),P=nt(e.id)?k_("recharts-radial-line-"):e.id;return L.createElement("text",Mm({},r,{dominantBaseline:"central",className:qe("recharts-radial-bar-label",l)}),L.createElement("defs",null,L.createElement("path",{id:P,d:C})),L.createElement("textPath",{xlinkHref:"#".concat(P)},n))},d5e=function(e){var n=e.viewBox,r=e.offset,s=e.position,o=n,a=o.cx,l=o.cy,c=o.innerRadius,u=o.outerRadius,d=o.startAngle,f=o.endAngle,h=(d+f)/2;if(s==="outside"){var p=Dt(a,l,u+r,h),v=p.x,g=p.y;return{x:v,y:g,textAnchor:v>=a?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:a,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(c+u)/2,y=Dt(a,l,b,h),x=y.x,E=y.y;return{x,y:E,textAnchor:"middle",verticalAnchor:"middle"}},f5e=function(e){var n=e.viewBox,r=e.parentViewBox,s=e.offset,o=e.position,a=n,l=a.x,c=a.y,u=a.width,d=a.height,f=d>=0?1:-1,h=f*s,p=f>0?"end":"start",v=f>0?"start":"end",g=u>=0?1:-1,b=g*s,y=g>0?"end":"start",x=g>0?"start":"end";if(o==="top"){var E={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:p};return xn(xn({},E),r?{height:Math.max(c-r.y,0),width:u}:{})}if(o==="bottom"){var T={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:v};return xn(xn({},T),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(o==="left"){var S={x:l-b,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return xn(xn({},S),r?{width:Math.max(S.x-r.x,0),height:d}:{})}if(o==="right"){var A={x:l+u+b,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return xn(xn({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:d}:{})}var C=r?{width:u,height:d}:{};return o==="insideLeft"?xn({x:l+b,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},C):o==="insideRight"?xn({x:l+u-b,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},C):o==="insideTop"?xn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:v},C):o==="insideBottom"?xn({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},C):o==="insideTopLeft"?xn({x:l+b,y:c+h,textAnchor:x,verticalAnchor:v},C):o==="insideTopRight"?xn({x:l+u-b,y:c+h,textAnchor:y,verticalAnchor:v},C):o==="insideBottomLeft"?xn({x:l+b,y:c+d-h,textAnchor:x,verticalAnchor:p},C):o==="insideBottomRight"?xn({x:l+u-b,y:c+d-h,textAnchor:y,verticalAnchor:p},C):mf(o)&&(Ce(o.x)||zl(o.x))&&(Ce(o.y)||zl(o.y))?xn({x:l+Mr(o.x,u),y:c+Mr(o.y,d),textAnchor:"end",verticalAnchor:"end"},C):xn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},h5e=function(e){return"cx"in e&&Ce(e.cx)};function Kn(t){var e=t.offset,n=e===void 0?5:e,r=r5e(t,QVe),s=xn({offset:n},r),o=s.viewBox,a=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!o||nt(l)&&nt(c)&&!F.isValidElement(u)&&!He(u))return null;if(F.isValidElement(u))return F.cloneElement(u,s);var p;if(He(u)){if(p=F.createElement(u,s),F.isValidElement(p))return p}else p=l5e(s);var v=h5e(o),g=We(s,!0);if(v&&(a==="insideStart"||a==="insideEnd"||a==="end"))return u5e(s,p,g);var b=v?d5e(s):f5e(s);return L.createElement(Dd,Mm({className:qe("recharts-label",f)},g,b,{breakAll:h}),p)}Kn.displayName="Label";var yq=function(e){var n=e.cx,r=e.cy,s=e.angle,o=e.startAngle,a=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,p=e.top,v=e.left,g=e.width,b=e.height,y=e.clockWise,x=e.labelViewBox;if(x)return x;if(Ce(g)&&Ce(b)){if(Ce(f)&&Ce(h))return{x:f,y:h,width:g,height:b};if(Ce(p)&&Ce(v))return{x:p,y:v,width:g,height:b}}return Ce(f)&&Ce(h)?{x:f,y:h,width:0,height:0}:Ce(n)&&Ce(r)?{cx:n,cy:r,startAngle:o||s||0,endAngle:a||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:y}:e.viewBox?e.viewBox:{}},p5e=function(e,n){return e?e===!0?L.createElement(Kn,{key:"label-implicit",viewBox:n}):An(e)?L.createElement(Kn,{key:"label-implicit",viewBox:n,value:e}):F.isValidElement(e)?e.type===Kn?F.cloneElement(e,{key:"label-implicit",viewBox:n}):L.createElement(Kn,{key:"label-implicit",content:e,viewBox:n}):He(e)?L.createElement(Kn,{key:"label-implicit",content:e,viewBox:n}):mf(e)?L.createElement(Kn,Mm({viewBox:n},e,{key:"label-implicit"})):null:null},m5e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var s=e.children,o=yq(e),a=Fs(s,Kn).map(function(c,u){return F.cloneElement(c,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var l=p5e(e.label,n||o);return[l].concat(ZVe(a))};Kn.parseViewBox=yq;Kn.renderCallByParent=m5e;function jm(t){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(t)}var g5e=["valueAccessor"],v5e=["data","dataKey","clockWise","id","textBreakAll"];function y5e(t){return x5e(t)||_5e(t)||w5e(t)||b5e()}function b5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w5e(t,e){if(t){if(typeof t=="string")return xC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xC(t,e)}}function _5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function x5e(t){if(Array.isArray(t))return xC(t)}function xC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jb(){return jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jb.apply(this,arguments)}function CF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function PF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CF(Object(n),!0).forEach(function(r){E5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E5e(t,e,n){return e=T5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T5e(t){var e=S5e(t,"string");return jm(e)=="symbol"?e:e+""}function S5e(t,e){if(jm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AF(t,e){if(t==null)return{};var n=C5e(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function C5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var P5e=function(e){return Array.isArray(e.value)?oIe(e.value):e.value};function rc(t){var e=t.valueAccessor,n=e===void 0?P5e:e,r=AF(t,g5e),s=r.data,o=r.dataKey,a=r.clockWise,l=r.id,c=r.textBreakAll,u=AF(r,v5e);return!s||!s.length?null:L.createElement(nn,{className:"recharts-label-list"},s.map(function(d,f){var h=nt(o)?n(d,f):ei(d&&d.payload,o),p=nt(l)?{}:{id:"".concat(l,"-").concat(f)};return L.createElement(Kn,jb({},We(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Kn.parseViewBox(nt(a)?d:PF(PF({},d),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}rc.displayName="LabelList";function A5e(t,e){return t?t===!0?L.createElement(rc,{key:"labelList-implicit",data:e}):L.isValidElement(t)||He(t)?L.createElement(rc,{key:"labelList-implicit",data:e,content:t}):mf(t)?L.createElement(rc,jb({data:e},t,{key:"labelList-implicit"})):null:null}function I5e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,s=Fs(r,rc).map(function(a,l){return F.cloneElement(a,{data:e,key:"labelList-".concat(l)})});if(!n)return s;var o=A5e(t.label,e);return[o].concat(y5e(s))}rc.renderCallByParent=I5e;function Lm(t){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lm(t)}function EC(){return EC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EC.apply(this,arguments)}function IF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function OF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IF(Object(n),!0).forEach(function(r){O5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O5e(t,e,n){return e=k5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k5e(t){var e=N5e(t,"string");return Lm(e)=="symbol"?e:e+""}function N5e(t,e){if(Lm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var D5e=function(e,n){var r=Pi(n-e),s=Math.min(Math.abs(n-e),359.999);return r*s},Qv=function(e){var n=e.cx,r=e.cy,s=e.radius,o=e.angle,a=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/Mb,h=u?o:o+a*f,p=Dt(n,r,d,h),v=Dt(n,r,s,h),g=u?o-a*f:o,b=Dt(n,r,d*Math.cos(f*Mb),g);return{center:p,circleTangency:v,lineTangency:b,theta:f}},bq=function(e){var n=e.cx,r=e.cy,s=e.innerRadius,o=e.outerRadius,a=e.startAngle,l=e.endAngle,c=D5e(a,l),u=a+c,d=Dt(n,r,o,a),f=Dt(n,r,o,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var p=Dt(n,r,s,a),v=Dt(n,r,s,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},R5e=function(e){var n=e.cx,r=e.cy,s=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Pi(d-u),h=Qv({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:c}),p=h.circleTangency,v=h.lineTangency,g=h.theta,b=Qv({cx:n,cy:r,radius:o,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:c}),y=b.circleTangency,x=b.lineTangency,E=b.theta,T=c?Math.abs(u-d):Math.abs(u-d)-g-E;if(T<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):bq({cx:n,cy:r,innerRadius:s,outerRadius:o,startAngle:u,endAngle:d});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(T>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(s>0){var A=Qv({cx:n,cy:r,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),C=A.circleTangency,P=A.lineTangency,I=A.theta,R=Qv({cx:n,cy:r,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),j=R.circleTangency,O=R.lineTangency,D=R.theta,N=c?Math.abs(u-d):Math.abs(u-d)-I-D;if(N<0&&a===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(N>180),",").concat(+(f>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},M5e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},wq=function(e){var n=OF(OF({},M5e),e),r=n.cx,s=n.cy,o=n.innerRadius,a=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(a<o||d===f)return null;var p=qe("recharts-sector",h),v=a-o,g=Mr(l,v,0,!0),b;return g>0&&Math.abs(d-f)<360?b=R5e({cx:r,cy:s,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):b=bq({cx:r,cy:s,innerRadius:o,outerRadius:a,startAngle:d,endAngle:f}),L.createElement("path",EC({},We(n,!0),{className:p,d:b,role:"img"}))};function $m(t){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$m(t)}function TC(){return TC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TC.apply(this,arguments)}function kF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function NF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kF(Object(n),!0).forEach(function(r){j5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j5e(t,e,n){return e=L5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L5e(t){var e=$5e(t,"string");return $m(e)=="symbol"?e:e+""}function $5e(t,e){if($m(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DF={curveBasisClosed:yMe,curveBasisOpen:bMe,curveBasis:vMe,curveBumpX:rMe,curveBumpY:iMe,curveLinearClosed:wMe,curveLinear:M_,curveMonotoneX:_Me,curveMonotoneY:xMe,curveNatural:EMe,curveStep:TMe,curveStepAfter:CMe,curveStepBefore:SMe},Zv=function(e){return e.x===+e.x&&e.y===+e.y},gh=function(e){return e.x},vh=function(e){return e.y},F5e=function(e,n){if(He(e))return e;var r="curve".concat(D_(e));return(r==="curveMonotone"||r==="curveBump")&&n?DF["".concat(r).concat(n==="vertical"?"Y":"X")]:DF[r]||M_},V5e=function(e){var n=e.type,r=n===void 0?"linear":n,s=e.points,o=s===void 0?[]:s,a=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=F5e(r,l),f=u?o.filter(function(g){return Zv(g)}):o,h;if(Array.isArray(a)){var p=u?a.filter(function(g){return Zv(g)}):a,v=f.map(function(g,b){return NF(NF({},g),{},{base:p[b]})});return l==="vertical"?h=zv().y(vh).x1(gh).x0(function(g){return g.base.x}):h=zv().x(gh).y1(vh).y0(function(g){return g.base.y}),h.defined(Zv).curve(d),h(v)}return l==="vertical"&&Ce(a)?h=zv().y(vh).x1(gh).x0(a):Ce(a)?h=zv().x(gh).y1(vh).y0(a):h=U9().x(gh).y(vh),h.defined(Zv).curve(d),h(f)},SC=function(e){var n=e.className,r=e.points,s=e.path,o=e.pathRef;if((!r||!r.length)&&!s)return null;var a=r&&r.length?V5e(e):s;return F.createElement("path",TC({},We(e,!1),db(e),{className:qe("recharts-curve",n),d:a,ref:o}))},B5e=Object.getOwnPropertyNames,U5e=Object.getOwnPropertySymbols,z5e=Object.prototype.hasOwnProperty;function RF(t,e){return function(r,s,o){return t(r,s,o)&&e(r,s,o)}}function Jv(t){return function(n,r,s){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,s);var o=s.cache,a=o.get(n),l=o.get(r);if(a&&l)return a===r&&l===n;o.set(n,r),o.set(r,n);var c=t(n,r,s);return o.delete(n),o.delete(r),c}}function MF(t){return B5e(t).concat(U5e(t))}var W5e=Object.hasOwn||function(t,e){return z5e.call(t,e)};function Gc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var H5e="__v",q5e="__o",G5e="_owner",jF=Object.getOwnPropertyDescriptor,LF=Object.keys;function K5e(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Y5e(t,e){return Gc(t.getTime(),e.getTime())}function X5e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Q5e(t,e){return t===e}function $F(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var s=new Array(r),o=t.entries(),a,l,c=0;(a=o.next())&&!a.done;){for(var u=e.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(s[f]){f++;continue}var h=a.value,p=l.value;if(n.equals(h[0],p[0],c,f,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}var Z5e=Gc;function J5e(t,e,n){var r=LF(t),s=r.length;if(LF(e).length!==s)return!1;for(;s-- >0;)if(!_q(t,e,n,r[s]))return!1;return!0}function yh(t,e,n){var r=MF(t),s=r.length;if(MF(e).length!==s)return!1;for(var o,a,l;s-- >0;)if(o=r[s],!_q(t,e,n,o)||(a=jF(t,o),l=jF(e,o),(a||l)&&(!a||!l||a.configurable!==l.configurable||a.enumerable!==l.enumerable||a.writable!==l.writable)))return!1;return!0}function eBe(t,e){return Gc(t.valueOf(),e.valueOf())}function tBe(t,e){return t.source===e.source&&t.flags===e.flags}function FF(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var s=new Array(r),o=t.values(),a,l;(a=o.next())&&!a.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!s[d]&&n.equals(a.value,l.value,a.value,l.value,t,e,n)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function nBe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function rBe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function _q(t,e,n,r){return(r===G5e||r===q5e||r===H5e)&&(t.$$typeof||e.$$typeof)?!0:W5e(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var iBe="[object Arguments]",sBe="[object Boolean]",oBe="[object Date]",aBe="[object Error]",lBe="[object Map]",cBe="[object Number]",uBe="[object Object]",dBe="[object RegExp]",fBe="[object Set]",hBe="[object String]",pBe="[object URL]",mBe=Array.isArray,VF=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,BF=Object.assign,gBe=Object.prototype.toString.call.bind(Object.prototype.toString);function vBe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,s=t.areFunctionsEqual,o=t.areMapsEqual,a=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(v,g,b){if(v===g)return!0;if(v==null||g==null)return!1;var y=typeof v;if(y!==typeof g)return!1;if(y!=="object")return y==="number"?a(v,g,b):y==="function"?s(v,g,b):!1;var x=v.constructor;if(x!==g.constructor)return!1;if(x===Object)return l(v,g,b);if(mBe(v))return e(v,g,b);if(VF!=null&&VF(v))return f(v,g,b);if(x===Date)return n(v,g,b);if(x===RegExp)return u(v,g,b);if(x===Map)return o(v,g,b);if(x===Set)return d(v,g,b);var E=gBe(v);return E===oBe?n(v,g,b):E===dBe?u(v,g,b):E===lBe?o(v,g,b):E===fBe?d(v,g,b):E===uBe?typeof v.then!="function"&&typeof g.then!="function"&&l(v,g,b):E===pBe?h(v,g,b):E===aBe?r(v,g,b):E===iBe?l(v,g,b):E===sBe||E===cBe||E===hBe?c(v,g,b):!1}}function yBe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,s={areArraysEqual:r?yh:K5e,areDatesEqual:Y5e,areErrorsEqual:X5e,areFunctionsEqual:Q5e,areMapsEqual:r?RF($F,yh):$F,areNumbersEqual:Z5e,areObjectsEqual:r?yh:J5e,arePrimitiveWrappersEqual:eBe,areRegExpsEqual:tBe,areSetsEqual:r?RF(FF,yh):FF,areTypedArraysEqual:r?yh:nBe,areUrlsEqual:rBe};if(n&&(s=BF({},s,n(s))),e){var o=Jv(s.areArraysEqual),a=Jv(s.areMapsEqual),l=Jv(s.areObjectsEqual),c=Jv(s.areSetsEqual);s=BF({},s,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:l,areSetsEqual:c})}return s}function bBe(t){return function(e,n,r,s,o,a,l){return t(e,n,l)}}function wBe(t){var e=t.circular,n=t.comparator,r=t.createState,s=t.equals,o=t.strict;if(r)return function(c,u){var d=r(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,p=d.meta;return n(c,u,{cache:h,equals:s,meta:p,strict:o})};if(e)return function(c,u){return n(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:o})};var a={cache:void 0,equals:s,meta:void 0,strict:o};return function(c,u){return n(c,u,a)}}var _Be=ul();ul({strict:!0});ul({circular:!0});ul({circular:!0,strict:!0});ul({createInternalComparator:function(){return Gc}});ul({strict:!0,createInternalComparator:function(){return Gc}});ul({circular:!0,createInternalComparator:function(){return Gc}});ul({circular:!0,createInternalComparator:function(){return Gc},strict:!0});function ul(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,s=t.createState,o=t.strict,a=o===void 0?!1:o,l=yBe(t),c=vBe(l),u=r?r(c):bBe(c);return wBe({circular:n,comparator:c,createState:s,equals:u,strict:a})}function xBe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function UF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function s(o){n<0&&(n=o),o-n>e?(t(o),n=-1):xBe(s)};requestAnimationFrame(r)}function CC(t){"@babel/helpers - typeof";return CC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CC(t)}function EBe(t){return PBe(t)||CBe(t)||SBe(t)||TBe()}function TBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SBe(t,e){if(t){if(typeof t=="string")return zF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zF(t,e)}}function zF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PBe(t){if(Array.isArray(t))return t}function ABe(){var t={},e=function(){return null},n=!1,r=function s(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,l=EBe(a),c=l[0],u=l.slice(1);if(typeof c=="number"){UF(s.bind(null,u),c);return}s(c),UF(s.bind(null,u));return}CC(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Fm(t){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fm(t)}function WF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function HF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WF(Object(n),!0).forEach(function(r){xq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xq(t,e,n){return e=IBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IBe(t){var e=OBe(t,"string");return Fm(e)==="symbol"?e:String(e)}function OBe(t,e){if(Fm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kBe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,s){return r.filter(function(o){return s.includes(o)})})},NBe=function(e){return e},DBe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},ap=function(e,n){return Object.keys(n).reduce(function(r,s){return HF(HF({},r),{},xq({},s,e(s,n[s])))},{})},qF=function(e,n,r){return e.map(function(s){return"".concat(DBe(s)," ").concat(n,"ms ").concat(r)}).join(",")};function RBe(t,e){return LBe(t)||jBe(t,e)||Eq(t,e)||MBe()}function MBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jBe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function LBe(t){if(Array.isArray(t))return t}function $Be(t){return BBe(t)||VBe(t)||Eq(t)||FBe()}function FBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eq(t,e){if(t){if(typeof t=="string")return PC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PC(t,e)}}function VBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BBe(t){if(Array.isArray(t))return PC(t)}function PC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Lb=1e-4,Tq=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},Sq=function(e,n){return e.map(function(r,s){return r*Math.pow(n,s)}).reduce(function(r,s){return r+s})},GF=function(e,n){return function(r){var s=Tq(e,n);return Sq(s,r)}},UBe=function(e,n){return function(r){var s=Tq(e,n),o=[].concat($Be(s.map(function(a,l){return a*l}).slice(1)),[0]);return Sq(o,r)}},KF=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var s=n[0],o=n[1],a=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,o=0,a=1,l=1;break;case"ease":s=.25,o=.1,a=.25,l=1;break;case"ease-in":s=.42,o=0,a=1,l=1;break;case"ease-out":s=.42,o=0,a=.58,l=1;break;case"ease-in-out":s=0,o=0,a=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),d=RBe(u,4);s=d[0],o=d[1],a=d[2],l=d[3]}}}var f=GF(s,a),h=GF(o,l),p=UBe(s,a),v=function(y){return y>1?1:y<0?0:y},g=function(y){for(var x=y>1?1:y,E=x,T=0;T<8;++T){var S=f(E)-x,A=p(E);if(Math.abs(S-x)<Lb||A<Lb)return h(E);E=v(E-S/A)}return h(E)};return g.isStepper=!1,g},zBe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,s=e.damping,o=s===void 0?8:s,a=e.dt,l=a===void 0?17:a,c=function(d,f,h){var p=-(d-f)*r,v=h*o,g=h+(p-v)*l/1e3,b=h*l/1e3+d;return Math.abs(b-f)<Lb&&Math.abs(g)<Lb?[f,0]:[b,g]};return c.isStepper=!0,c.dt=l,c},WBe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return KF(s);case"spring":return zBe();default:if(s.split("(")[0]==="cubic-bezier")return KF(s)}return typeof s=="function"?s:null};function Vm(t){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(t)}function YF(t){return GBe(t)||qBe(t)||Cq(t)||HBe()}function HBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GBe(t){if(Array.isArray(t))return IC(t)}function XF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XF(Object(n),!0).forEach(function(r){AC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AC(t,e,n){return e=KBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KBe(t){var e=YBe(t,"string");return Vm(e)==="symbol"?e:String(e)}function YBe(t,e){if(Vm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XBe(t,e){return JBe(t)||ZBe(t,e)||Cq(t,e)||QBe()}function QBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cq(t,e){if(t){if(typeof t=="string")return IC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IC(t,e)}}function IC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZBe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function JBe(t){if(Array.isArray(t))return t}var $b=function(e,n,r){return e+(n-e)*r},OC=function(e){var n=e.from,r=e.to;return n!==r},e6e=function t(e,n,r){var s=ap(function(o,a){if(OC(a)){var l=e(a.from,a.to,a.velocity),c=XBe(l,2),u=c[0],d=c[1];return Hn(Hn({},a),{},{from:u,velocity:d})}return a},n);return r<1?ap(function(o,a){return OC(a)?Hn(Hn({},a),{},{velocity:$b(a.velocity,s[o].velocity,r),from:$b(a.from,s[o].from,r)}):a},n):t(e,s,r-1)};const t6e=function(t,e,n,r,s){var o=kBe(t,e),a=o.reduce(function(b,y){return Hn(Hn({},b),{},AC({},y,[t[y],e[y]]))},{}),l=o.reduce(function(b,y){return Hn(Hn({},b),{},AC({},y,{from:t[y],velocity:0,to:e[y]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return ap(function(y,x){return x.from},l)},p=function(){return!Object.values(l).filter(OC).length},v=function(y){u||(u=y);var x=y-u,E=x/n.dt;l=e6e(n,l,E),s(Hn(Hn(Hn({},t),e),h())),u=y,p()||(c=requestAnimationFrame(f))},g=function(y){d||(d=y);var x=(y-d)/r,E=ap(function(S,A){return $b.apply(void 0,YF(A).concat([n(x)]))},a);if(s(Hn(Hn(Hn({},t),e),E)),x<1)c=requestAnimationFrame(f);else{var T=ap(function(S,A){return $b.apply(void 0,YF(A).concat([n(1)]))},a);s(Hn(Hn(Hn({},t),e),T))}};return f=n.isStepper?v:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}var n6e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function r6e(t,e){if(t==null)return{};var n=i6e(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function i6e(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function iE(t){return l6e(t)||a6e(t)||o6e(t)||s6e()}function s6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o6e(t,e){if(t){if(typeof t=="string")return kC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kC(t,e)}}function a6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function l6e(t){if(Array.isArray(t))return kC(t)}function kC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QF(Object(n),!0).forEach(function(r){Nh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nh(t,e,n){return e=Pq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pq(r.key),r)}}function u6e(t,e,n){return e&&ZF(t.prototype,e),n&&ZF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pq(t){var e=d6e(t,"string");return Fd(e)==="symbol"?e:String(e)}function d6e(t,e){if(Fd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NC(t,e)}function NC(t,e){return NC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},NC(t,e)}function h6e(t){var e=p6e();return function(){var r=Fb(t),s;if(e){var o=Fb(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return DC(this,s)}}function DC(t,e){if(e&&(Fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RC(t)}function RC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p6e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fb(t){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fb(t)}var Y_=function(t){f6e(n,t);var e=h6e(n);function n(r,s){var o;c6e(this,n),o=e.call(this,r,s);var a=o.props,l=a.isActive,c=a.attributeName,u=a.from,d=a.to,f=a.steps,h=a.children,p=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(RC(o)),o.changeStyle=o.changeStyle.bind(RC(o)),!l||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:d}),DC(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},DC(o);o.state={style:c?Nh({},c,u):u}}else o.state={style:{}};return o}return u6e(n,[{key:"componentDidMount",value:function(){var s=this.props,o=s.isActive,a=s.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var o=this.props,a=o.isActive,l=o.canBegin,c=o.attributeName,u=o.shouldReAnimate,d=o.to,f=o.from,h=this.state.style;if(l){if(!a){var p={style:c?Nh({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(_Be(s.to,d)&&s.canBegin&&s.isActive)){var v=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=v||u?f:s.to;if(this.state&&h){var b={style:c?Nh({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(b)}this.runAnimation(Wi(Wi({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var o=this,a=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,p=t6e(a,l,WBe(u),c,this.changeStyle),v=function(){o.stopJSAnimation=p()};this.manager.start([h,d,v,c,f])}},{key:"runStepAnimation",value:function(s){var o=this,a=s.steps,l=s.begin,c=s.onAnimationStart,u=a[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(g,b,y){if(y===0)return g;var x=b.duration,E=b.easing,T=E===void 0?"ease":E,S=b.style,A=b.properties,C=b.onAnimationEnd,P=y>0?a[y-1]:b,I=A||Object.keys(S);if(typeof T=="function"||T==="spring")return[].concat(iE(g),[o.runJSAnimation.bind(o,{from:P.style,to:S,duration:x,easing:T}),x]);var R=qF(I,x,T),j=Wi(Wi(Wi({},P.style),S),{},{transition:R});return[].concat(iE(g),[j,x,C]).filter(NBe)};return this.manager.start([c].concat(iE(a.reduce(p,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=ABe());var o=s.begin,a=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,p=s.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var g=l?Nh({},l,c):c,b=qF(Object.keys(g),a,u);v.start([d,o,Wi(Wi({},g),{},{transition:b}),a,f])}},{key:"render",value:function(){var s=this.props,o=s.children;s.begin;var a=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=r6e(s,n6e),u=F.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!l||u===0||a<=0)return o;var f=function(p){var v=p.props,g=v.style,b=g===void 0?{}:g,y=v.className,x=F.cloneElement(p,Wi(Wi({},c),{},{style:Wi(Wi({},b),d),className:y}));return x};return u===1?f(F.Children.only(o)):L.createElement("div",null,F.Children.map(o,function(h){return f(h)}))}}]),n}(F.PureComponent);Y_.displayName="Animate";Y_.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Y_.propTypes={from:fe.oneOfType([fe.object,fe.string]),to:fe.oneOfType([fe.object,fe.string]),attributeName:fe.string,duration:fe.number,begin:fe.number,easing:fe.oneOfType([fe.string,fe.func]),steps:fe.arrayOf(fe.shape({duration:fe.number.isRequired,style:fe.object.isRequired,easing:fe.oneOfType([fe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),fe.func]),properties:fe.arrayOf("string"),onAnimationEnd:fe.func})),children:fe.oneOfType([fe.node,fe.func]),isActive:fe.bool,canBegin:fe.bool,onAnimationEnd:fe.func,shouldReAnimate:fe.bool,onAnimationStart:fe.func,onAnimationReStart:fe.func};const Bm=Y_;function Um(t){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Um(t)}function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vb.apply(this,arguments)}function m6e(t,e){return b6e(t)||y6e(t,e)||v6e(t,e)||g6e()}function g6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v6e(t,e){if(t){if(typeof t=="string")return JF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JF(t,e)}}function JF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y6e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function b6e(t){if(Array.isArray(t))return t}function e4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function t4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e4(Object(n),!0).forEach(function(r){w6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w6e(t,e,n){return e=_6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _6e(t){var e=x6e(t,"string");return Um(e)=="symbol"?e:e+""}function x6e(t,e){if(Um(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n4=function(e,n,r,s,o){var a=Math.min(Math.abs(r)/2,Math.abs(s)/2),l=s>=0?1:-1,c=r>=0?1:-1,u=s>=0&&r>=0||s<0&&r<0?1:0,d;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=o[h]>a?a:o[h];d="M".concat(e,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(n)),d+="L ".concat(e+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+l*f[1])),d+="L ".concat(e+r,",").concat(n+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-c*f[2],",").concat(n+s)),d+="L ".concat(e+c*f[3],",").concat(n+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+s-l*f[3])),d+="Z"}else if(a>0&&o===+o&&o>0){var v=Math.min(a,o);d="M ".concat(e,",").concat(n+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+c*v,",").concat(n,`
            L `).concat(e+r-c*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+l*v,`
            L `).concat(e+r,",").concat(n+s-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-c*v,",").concat(n+s,`
            L `).concat(e+c*v,",").concat(n+s,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+s-l*v," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(s," h ").concat(-r," Z");return d},E6e=function(e,n){if(!e||!n)return!1;var r=e.x,s=e.y,o=n.x,a=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(o,o+l),d=Math.max(o,o+l),f=Math.min(a,a+c),h=Math.max(a,a+c);return r>=u&&r<=d&&s>=f&&s<=h}return!1},T6e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kk=function(e){var n=t4(t4({},T6e),e),r=F.useRef(),s=F.useState(-1),o=m6e(s,2),a=o[0],l=o[1];F.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&l(T)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,p=n.className,v=n.animationEasing,g=n.animationDuration,b=n.animationBegin,y=n.isAnimationActive,x=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var E=qe("recharts-rectangle",p);return x?L.createElement(Bm,{canBegin:a>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:v,isActive:x},function(T){var S=T.width,A=T.height,C=T.x,P=T.y;return L.createElement(Bm,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,isActive:y,easing:v},L.createElement("path",Vb({},We(n,!0),{className:E,d:n4(C,P,S,A,h),ref:r})))}):L.createElement("path",Vb({},We(n,!0),{className:E,d:n4(c,u,d,f,h)}))},S6e=["points","className","baseLinePoints","connectNulls"];function Nu(){return Nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nu.apply(this,arguments)}function C6e(t,e){if(t==null)return{};var n=P6e(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function P6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function r4(t){return k6e(t)||O6e(t)||I6e(t)||A6e()}function A6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I6e(t,e){if(t){if(typeof t=="string")return MC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MC(t,e)}}function O6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function k6e(t){if(Array.isArray(t))return MC(t)}function MC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var i4=function(e){return e&&e.x===+e.x&&e.y===+e.y},N6e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){i4(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),i4(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},lp=function(e,n){var r=N6e(e);n&&(r=[r.reduce(function(o,a){return[].concat(r4(o),r4(a))},[])]);var s=r.map(function(o){return o.reduce(function(a,l,c){return"".concat(a).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(s,"Z"):s},D6e=function(e,n,r){var s=lp(e,r);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(lp(n.reverse(),r).slice(1))},R6e=function(e){var n=e.points,r=e.className,s=e.baseLinePoints,o=e.connectNulls,a=C6e(e,S6e);if(!n||!n.length)return null;var l=qe("recharts-polygon",r);if(s&&s.length){var c=a.stroke&&a.stroke!=="none",u=D6e(n,s,o);return L.createElement("g",{className:l},L.createElement("path",Nu({},We(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),c?L.createElement("path",Nu({},We(a,!0),{fill:"none",d:lp(n,o)})):null,c?L.createElement("path",Nu({},We(a,!0),{fill:"none",d:lp(s,o)})):null)}var d=lp(n,o);return L.createElement("path",Nu({},We(a,!0),{fill:d.slice(-1)==="Z"?a.fill:"none",className:l,d}))};function jC(){return jC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jC.apply(this,arguments)}var Nk=function(e){var n=e.cx,r=e.cy,s=e.r,o=e.className,a=qe("recharts-dot",o);return n===+n&&r===+r&&s===+s?F.createElement("circle",jC({},We(e,!1),db(e),{className:a,cx:n,cy:r,r:s})):null};function zm(t){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zm(t)}var M6e=["x","y","top","left","width","height","className"];function LC(){return LC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LC.apply(this,arguments)}function s4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function j6e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s4(Object(n),!0).forEach(function(r){L6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L6e(t,e,n){return e=$6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $6e(t){var e=F6e(t,"string");return zm(e)=="symbol"?e:e+""}function F6e(t,e){if(zm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V6e(t,e){if(t==null)return{};var n=B6e(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function B6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var U6e=function(e,n,r,s,o,a){return"M".concat(e,",").concat(o,"v").concat(s,"M").concat(a,",").concat(n,"h").concat(r)},z6e=function(e){var n=e.x,r=n===void 0?0:n,s=e.y,o=s===void 0?0:s,a=e.top,l=a===void 0?0:a,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,h=e.height,p=h===void 0?0:h,v=e.className,g=V6e(e,M6e),b=j6e({x:r,y:o,top:l,left:u,width:f,height:p},g);return!Ce(r)||!Ce(o)||!Ce(f)||!Ce(p)||!Ce(l)||!Ce(u)?null:L.createElement("path",LC({},We(b,!0),{className:qe("recharts-cross",v),d:U6e(r,o,f,p,l,u)}))},W6e=W_,H6e=G7,q6e=qs;function G6e(t,e){return t&&t.length?W6e(t,q6e(e),H6e):void 0}var K6e=G6e;const Y6e=Ke(K6e);var X6e=W_,Q6e=qs,Z6e=K7;function J6e(t,e){return t&&t.length?X6e(t,Q6e(e),Z6e):void 0}var eUe=J6e;const tUe=Ke(eUe);var nUe=["cx","cy","angle","ticks","axisLine"],rUe=["ticks","tick","angle","tickFormatter","stroke"];function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function cp(){return cp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cp.apply(this,arguments)}function o4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function _l(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o4(Object(n),!0).forEach(function(r){X_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a4(t,e){if(t==null)return{};var n=iUe(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Iq(r.key),r)}}function oUe(t,e,n){return e&&l4(t.prototype,e),n&&l4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function aUe(t,e,n){return e=Bb(e),lUe(t,Aq()?Reflect.construct(e,n||[],Bb(t).constructor):e.apply(t,n))}function lUe(t,e){if(e&&(Vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cUe(t)}function cUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Aq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Aq=function(){return!!t})()}function Bb(t){return Bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bb(t)}function uUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$C(t,e)}function $C(t,e){return $C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},$C(t,e)}function X_(t,e,n){return e=Iq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iq(t){var e=dUe(t,"string");return Vd(e)=="symbol"?e:e+""}function dUe(t,e){if(Vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q_=function(t){function e(){return sUe(this,e),aUe(this,e,arguments)}return uUe(e,t),oUe(e,[{key:"getTickValueCoord",value:function(r){var s=r.coordinate,o=this.props,a=o.angle,l=o.cx,c=o.cy;return Dt(l,c,s,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,s;switch(r){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var r=this.props,s=r.cx,o=r.cy,a=r.angle,l=r.ticks,c=Y6e(l,function(d){return d.coordinate||0}),u=tUe(l,function(d){return d.coordinate||0});return{cx:s,cy:o,startAngle:a,endAngle:a,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.cx,o=r.cy,a=r.angle,l=r.ticks,c=r.axisLine,u=a4(r,nUe),d=l.reduce(function(v,g){return[Math.min(v[0],g.coordinate),Math.max(v[1],g.coordinate)]},[1/0,-1/0]),f=Dt(s,o,d[0],a),h=Dt(s,o,d[1],a),p=_l(_l(_l({},We(u,!1)),{},{fill:"none"},We(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return L.createElement("line",cp({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,s=this.props,o=s.ticks,a=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,d=a4(s,rUe),f=this.getTickTextAnchor(),h=We(d,!1),p=We(a,!1),v=o.map(function(g,b){var y=r.getTickValueCoord(g),x=_l(_l(_l(_l({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:b},y),{},{payload:g});return L.createElement(nn,cp({className:qe("recharts-polar-radius-axis-tick",vq(a)),key:"tick-".concat(g.coordinate)},N_(r.props,g,b)),e.renderTickItem(a,x,c?c(g.value,b):g.value))});return L.createElement(nn,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,s=r.ticks,o=r.axisLine,a=r.tick;return!s||!s.length?null:L.createElement(nn,{className:qe("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),Kn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,s,o){var a;return L.isValidElement(r)?a=L.cloneElement(r,s):He(r)?a=r(s):a=L.createElement(Dd,cp({},s,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(F.PureComponent);X_(Q_,"displayName","PolarRadiusAxis");X_(Q_,"axisType","radiusAxis");X_(Q_,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Bd(t){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function Ml(){return Ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ml.apply(this,arguments)}function c4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function xl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c4(Object(n),!0).forEach(function(r){Z_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kq(r.key),r)}}function hUe(t,e,n){return e&&u4(t.prototype,e),n&&u4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pUe(t,e,n){return e=Ub(e),mUe(t,Oq()?Reflect.construct(e,n||[],Ub(t).constructor):e.apply(t,n))}function mUe(t,e){if(e&&(Bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gUe(t)}function gUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oq=function(){return!!t})()}function Ub(t){return Ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ub(t)}function vUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FC(t,e)}function FC(t,e){return FC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},FC(t,e)}function Z_(t,e,n){return e=kq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kq(t){var e=yUe(t,"string");return Bd(e)=="symbol"?e:e+""}function yUe(t,e){if(Bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bUe=Math.PI/180,d4=1e-5,J_=function(t){function e(){return fUe(this,e),pUe(this,e,arguments)}return vUe(e,t),hUe(e,[{key:"getTickLineCoord",value:function(r){var s=this.props,o=s.cx,a=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,d=u||8,f=Dt(o,a,l,r.coordinate),h=Dt(o,a,l+(c==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var s=this.props.orientation,o=Math.cos(-r.coordinate*bUe),a;return o>d4?a=s==="outer"?"start":"end":o<-d4?a=s==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.cx,o=r.cy,a=r.radius,l=r.axisLine,c=r.axisLineType,u=xl(xl({},We(this.props,!1)),{},{fill:"none"},We(l,!1));if(c==="circle")return L.createElement(Nk,Ml({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:o,r:a}));var d=this.props.ticks,f=d.map(function(h){return Dt(s,o,a,h.coordinate)});return L.createElement(R6e,Ml({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,s=this.props,o=s.ticks,a=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,d=We(this.props,!1),f=We(a,!1),h=xl(xl({},d),{},{fill:"none"},We(l,!1)),p=o.map(function(v,g){var b=r.getTickLineCoord(v),y=r.getTickTextAnchor(v),x=xl(xl(xl({textAnchor:y},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:v,x:b.x2,y:b.y2});return L.createElement(nn,Ml({className:qe("recharts-polar-angle-axis-tick",vq(a)),key:"tick-".concat(v.coordinate)},N_(r.props,v,g)),l&&L.createElement("line",Ml({className:"recharts-polar-angle-axis-tick-line"},h,b)),a&&e.renderTickItem(a,x,c?c(v.value,g):v.value))});return L.createElement(nn,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,s=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!s||!s.length?null:L.createElement(nn,{className:qe("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,s,o){var a;return L.isValidElement(r)?a=L.cloneElement(r,s):He(r)?a=r(s):a=L.createElement(Dd,Ml({},s,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(F.PureComponent);Z_(J_,"displayName","PolarAngleAxis");Z_(J_,"axisType","angleAxis");Z_(J_,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var wUe=qo,_Ue=us,xUe="[object Boolean]";function EUe(t){return t===!0||t===!1||_Ue(t)&&wUe(t)==xUe}var TUe=EUe;const SUe=Ke(TUe);function Wm(t){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wm(t)}function zb(){return zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zb.apply(this,arguments)}function CUe(t,e){return OUe(t)||IUe(t,e)||AUe(t,e)||PUe()}function PUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AUe(t,e){if(t){if(typeof t=="string")return f4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f4(t,e)}}function f4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IUe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function OUe(t){if(Array.isArray(t))return t}function h4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function p4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h4(Object(n),!0).forEach(function(r){kUe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kUe(t,e,n){return e=NUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NUe(t){var e=DUe(t,"string");return Wm(e)=="symbol"?e:e+""}function DUe(t,e){if(Wm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var m4=function(e,n,r,s,o){var a=r-s,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-a/2,",").concat(n+o),l+="L ".concat(e+r-a/2-s,",").concat(n+o),l+="L ".concat(e,",").concat(n," Z"),l},RUe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},MUe=function(e){var n=p4(p4({},RUe),e),r=F.useRef(),s=F.useState(-1),o=CUe(s,2),a=o[0],l=o[1];F.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&l(E)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,v=n.animationEasing,g=n.animationDuration,b=n.animationBegin,y=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=qe("recharts-trapezoid",p);return y?L.createElement(Bm,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:g,animationEasing:v,isActive:y},function(E){var T=E.upperWidth,S=E.lowerWidth,A=E.height,C=E.x,P=E.y;return L.createElement(Bm,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,easing:v},L.createElement("path",zb({},We(n,!0),{className:x,d:m4(C,P,T,S,A),ref:r})))}):L.createElement("g",null,L.createElement("path",zb({},We(n,!0),{className:x,d:m4(c,u,d,f,h)})))},jUe=["option","shapeType","propTransformer","activeClassName","isActive"];function Hm(t){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hm(t)}function LUe(t,e){if(t==null)return{};var n=$Ue(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $Ue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function g4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Wb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g4(Object(n),!0).forEach(function(r){FUe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FUe(t,e,n){return e=VUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VUe(t){var e=BUe(t,"string");return Hm(e)=="symbol"?e:e+""}function BUe(t,e){if(Hm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UUe(t,e){return Wb(Wb({},e),t)}function zUe(t,e){return t==="symbols"}function v4(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return L.createElement(kk,n);case"trapezoid":return L.createElement(MUe,n);case"sector":return L.createElement(wq,n);case"symbols":if(zUe(e))return L.createElement(tk,n);break;default:return null}}function WUe(t){return F.isValidElement(t)?t.props:t}function HUe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,s=r===void 0?UUe:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,l=t.isActive,c=LUe(t,jUe),u;if(F.isValidElement(e))u=F.cloneElement(e,Wb(Wb({},c),WUe(e)));else if(He(e))u=e(c);else if(CIe(e)&&!SUe(e)){var d=s(e,c);u=L.createElement(v4,{shapeType:n,elementProps:d})}else{var f=c;u=L.createElement(v4,{shapeType:n,elementProps:f})}return l?L.createElement(nn,{className:a},u):u}function ex(t,e){return e!=null&&"trapezoids"in t.props}function tx(t,e){return e!=null&&"sectors"in t.props}function qm(t,e){return e!=null&&"points"in t.props}function qUe(t,e){var n,r,s=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return s&&o}function GUe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function KUe(t,e){var n=t.x===e.x,r=t.y===e.y,s=t.z===e.z;return n&&r&&s}function YUe(t,e){var n;return ex(t,e)?n=qUe:tx(t,e)?n=GUe:qm(t,e)&&(n=KUe),n}function XUe(t,e){var n;return ex(t,e)?n="trapezoids":tx(t,e)?n="sectors":qm(t,e)&&(n="points"),n}function QUe(t,e){if(ex(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(tx(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return qm(t,e)?e.payload:{}}function ZUe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,s=XUe(n,e),o=QUe(n,e),a=r.filter(function(c,u){var d=c_(o,c),f=n.props[s].filter(function(v){var g=YUe(n,e);return g(v,e)}),h=n.props[s].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=r.indexOf(a[a.length-1]);return l}var Ny;function Ud(t){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(t)}function Du(){return Du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Du.apply(this,arguments)}function y4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function At(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y4(Object(n),!0).forEach(function(r){Si(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dq(r.key),r)}}function eze(t,e,n){return e&&b4(t.prototype,e),n&&b4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tze(t,e,n){return e=Hb(e),nze(t,Nq()?Reflect.construct(e,n||[],Hb(t).constructor):e.apply(t,n))}function nze(t,e){if(e&&(Ud(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rze(t)}function rze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nq=function(){return!!t})()}function Hb(t){return Hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hb(t)}function ize(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VC(t,e)}function VC(t,e){return VC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},VC(t,e)}function Si(t,e,n){return e=Dq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dq(t){var e=sze(t,"string");return Ud(e)=="symbol"?e:e+""}function sze(t,e){if(Ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ko=function(t){function e(n){var r;return JUe(this,e),r=tze(this,e,[n]),Si(r,"pieRef",null),Si(r,"sectorRefs",[]),Si(r,"id",k_("recharts-pie-")),Si(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),He(s)&&s()}),Si(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),He(s)&&s()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return ize(e,t),eze(e,[{key:"isActiveIndex",value:function(r){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(r)!==-1:r===s}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,l=o.labelLine,c=o.dataKey,u=o.valueKey,d=We(this.props,!1),f=We(a,!1),h=We(l,!1),p=a&&a.offsetRadius||20,v=r.map(function(g,b){var y=(g.startAngle+g.endAngle)/2,x=Dt(g.cx,g.cy,g.outerRadius+p,y),E=At(At(At(At({},d),g),{},{stroke:"none"},f),{},{index:b,textAnchor:e.getTextAnchor(x.x,g.cx)},x),T=At(At(At(At({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:b,points:[Dt(g.cx,g.cy,g.outerRadius,y),x]}),S=c;return nt(c)&&nt(u)?S="value":nt(c)&&(S=u),L.createElement(nn,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(b)},l&&e.renderLabelLineItem(l,T,"line"),e.renderLabelItem(a,E,ei(g,S)))});return L.createElement(nn,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var s=this,o=this.props,a=o.activeShape,l=o.blendStroke,c=o.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=s.isActiveIndex(d),h=c&&s.hasActiveIndex()?c:null,p=f?a:h,v=At(At({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return L.createElement(nn,Du({ref:function(b){b&&!s.sectorRefs.includes(b)&&s.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},N_(s.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),L.createElement(HUe,Du({option:p,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,s=this.props,o=s.sectors,a=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,d=s.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return L.createElement(Bm,{begin:l,duration:c,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var g=v.t,b=[],y=o&&o[0],x=y.startAngle;return o.forEach(function(E,T){var S=h&&h[T],A=T>0?ns(E,"paddingAngle",0):0;if(S){var C=RL(S.endAngle-S.startAngle,E.endAngle-E.startAngle),P=At(At({},E),{},{startAngle:x+A,endAngle:x+C(g)+A});b.push(P),x=P.endAngle}else{var I=E.endAngle,R=E.startAngle,j=RL(0,I-R),O=j(g),D=At(At({},E),{},{startAngle:x+A,endAngle:x+O+A});b.push(D),x=D.endAngle}}),L.createElement(nn,null,r.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(r){var s=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[a].focus(),s.setState({sectorToFocus:a});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,s=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&s&&s.length&&(!a||!c_(a,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,s=this.props,o=s.hide,a=s.sectors,l=s.className,c=s.label,u=s.cx,d=s.cy,f=s.innerRadius,h=s.outerRadius,p=s.isAnimationActive,v=this.state.isAnimationFinished;if(o||!a||!a.length||!Ce(u)||!Ce(d)||!Ce(f)||!Ce(h))return null;var g=qe("recharts-pie",l);return L.createElement(nn,{tabIndex:this.props.rootTabIndex,className:g,ref:function(y){r.pieRef=y}},this.renderSectors(),c&&this.renderLabels(a),Kn.renderCallByParent(this.props,null,!1),(!p||v)&&rc.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return s.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:r.sectors!==s.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,s){return r>s?"start":r<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,s,o){if(L.isValidElement(r))return L.cloneElement(r,s);if(He(r))return r(s);var a=qe("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return L.createElement(SC,Du({},s,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,s,o){if(L.isValidElement(r))return L.cloneElement(r,s);var a=o;if(He(r)&&(a=r(s),L.isValidElement(a)))return a;var l=qe("recharts-pie-label-text",typeof r!="boolean"&&!He(r)?r.className:"");return L.createElement(Dd,Du({},s,{alignmentBaseline:"middle",className:l}),a)}}])}(F.PureComponent);Ny=Ko;Si(Ko,"displayName","Pie");Si(Ko,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ec.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Si(Ko,"parseDeltaAngle",function(t,e){var n=Pi(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Si(Ko,"getRealPieData",function(t){var e=t.data,n=t.children,r=We(t,!1),s=Fs(n,ik);return e&&e.length?e.map(function(o,a){return At(At(At({payload:o},r),o),s&&s[a]&&s[a].props)}):s&&s.length?s.map(function(o){return At(At({},r),o.props)}):[]});Si(Ko,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,s=e.width,o=e.height,a=gq(s,o),l=r+Mr(t.cx,s,s/2),c=n+Mr(t.cy,o,o/2),u=Mr(t.innerRadius,a,0),d=Mr(t.outerRadius,a,a*.8),f=t.maxRadius||Math.sqrt(s*s+o*o)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Si(Ko,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?At(At({},e.type.defaultProps),e.props):e.props,s=Ny.getRealPieData(r);if(!s||!s.length)return null;var o=r.cornerRadius,a=r.startAngle,l=r.endAngle,c=r.paddingAngle,u=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,p=Math.abs(r.minAngle),v=Ny.parseCoordinateOfPie(r,n),g=Ny.parseDeltaAngle(a,l),b=Math.abs(g),y=u;nt(u)&&nt(f)?(xo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):nt(u)&&(xo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var x=s.filter(function(P){return ei(P,y,0)!==0}).length,E=(b>=360?x:x-1)*c,T=b-x*p-E,S=s.reduce(function(P,I){var R=ei(I,y,0);return P+(Ce(R)?R:0)},0),A;if(S>0){var C;A=s.map(function(P,I){var R=ei(P,y,0),j=ei(P,d,I),O=(Ce(R)?R:0)/S,D;I?D=C.endAngle+Pi(g)*c*(R!==0?1:0):D=a;var N=D+Pi(g)*((R!==0?p:0)+O*T),U=(D+N)/2,K=(v.innerRadius+v.outerRadius)/2,q=[{name:j,value:R,payload:P,dataKey:y,type:h}],Y=Dt(v.cx,v.cy,K,U);return C=At(At(At({percent:O,cornerRadius:o,name:j,tooltipPayload:q,midAngle:U,middleRadius:K,tooltipPosition:Y},P),v),{},{value:ei(P,y),startAngle:D,endAngle:N,payload:P,paddingAngle:Pi(g)*c}),C})}return At(At({},v),{},{sectors:A,data:s})});function Gm(t){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gm(t)}function w4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function _4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w4(Object(n),!0).forEach(function(r){Rq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rq(t,e,n){return e=oze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oze(t){var e=aze(t,"string");return Gm(e)=="symbol"?e:e+""}function aze(t,e){if(Gm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lze=["Webkit","Moz","O","ms"],cze=function(e,n){if(!e)return null;var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),s=lze.reduce(function(o,a){return _4(_4({},o),{},Rq({},a+r,n))},{});return s[e]=n,s};function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function qb(){return qb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qb.apply(this,arguments)}function x4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function sE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x4(Object(n),!0).forEach(function(r){Qr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jq(r.key),r)}}function dze(t,e,n){return e&&E4(t.prototype,e),n&&E4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fze(t,e,n){return e=Gb(e),hze(t,Mq()?Reflect.construct(e,n||[],Gb(t).constructor):e.apply(t,n))}function hze(t,e){if(e&&(zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pze(t)}function pze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mq=function(){return!!t})()}function Gb(t){return Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gb(t)}function mze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BC(t,e)}function BC(t,e){return BC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},BC(t,e)}function Qr(t,e,n){return e=jq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jq(t){var e=gze(t,"string");return zd(e)=="symbol"?e:e+""}function gze(t,e){if(zd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vze=function(e){var n=e.data,r=e.startIndex,s=e.endIndex,o=e.x,a=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=sp().domain(pm(0,c)).range([o,o+a-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(s),scale:u,scaleValues:d}},T4=function(e){return e.changedTouches&&!!e.changedTouches.length},Wd=function(t){function e(n){var r;return uze(this,e),r=fze(this,e,[n]),Qr(r,"handleDrag",function(s){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(s):r.state.isSlideMoving&&r.handleSlideDrag(s)}),Qr(r,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&r.handleDrag(s.changedTouches[0])}),Qr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=r.props,o=s.endIndex,a=s.onDragEnd,l=s.startIndex;a==null||a({endIndex:o,startIndex:l})}),r.detachDragEndListener()}),Qr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Qr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Qr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Qr(r,"handleSlideDragStart",function(s){var o=T4(s)?s.changedTouches[0]:s;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return mze(e,t),dze(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var s=r.startX,o=r.endX,a=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,o),h=Math.max(s,o),p=e.getIndexInRange(a,f),v=e.getIndexInRange(a,h);return{startIndex:p-p%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(r){var s=this.props,o=s.data,a=s.tickFormatter,l=s.dataKey,c=ei(o[r],l,r);return He(a)?a(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var s=this.state,o=s.slideMoveStartX,a=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,v=c.onChange,g=r.pageX-o;g>0?g=Math.min(g,u+d-f-l,u+d-f-a):g<0&&(g=Math.max(g,u-a,u-l));var b=this.getIndex({startX:a+g,endX:l+g});(b.startIndex!==h||b.endIndex!==p)&&v&&v(b),this.setState({startX:a+g,endX:l+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,s){var o=T4(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var s=this.state,o=s.brushMoveStartX,a=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[a],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,v=d.onChange,g=d.gap,b=d.data,y={startX:this.state.startX,endX:this.state.endX},x=r.pageX-o;x>0?x=Math.min(x,f+h-p-u):x<0&&(x=Math.max(x,f-u)),y[a]=u+x;var E=this.getIndex(y),T=E.startIndex,S=E.endIndex,A=function(){var P=b.length-1;return a==="startX"&&(l>c?T%g===0:S%g===0)||l<c&&S===P||a==="endX"&&(l>c?S%g===0:T%g===0)||l>c&&S===P};this.setState(Qr(Qr({},a,u+x),"brushMoveStartX",r.pageX),function(){v&&A()&&v(E)})}},{key:"handleTravellerMoveKeyboard",value:function(r,s){var o=this,a=this.state,l=a.scaleValues,c=a.startX,u=a.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=l.length)){var p=l[h];s==="startX"&&p>=u||s==="endX"&&p<=c||this.setState(Qr({},s,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,s=r.x,o=r.y,a=r.width,l=r.height,c=r.fill,u=r.stroke;return L.createElement("rect",{stroke:u,fill:c,x:s,y:o,width:a,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,s=r.x,o=r.y,a=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,f=F.Children.only(u);return f?L.cloneElement(f,{x:s,y:o,width:a,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,s){var o,a,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,v=c.data,g=c.startIndex,b=c.endIndex,y=Math.max(r,this.props.x),x=sE(sE({},We(this.props,!1)),{},{x:y,y:u,width:d,height:f}),E=p||"Min value: ".concat((o=v[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=v[b])===null||a===void 0?void 0:a.name);return L.createElement(nn,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,x))}},{key:"renderSlide",value:function(r,s){var o=this.props,a=o.y,l=o.height,c=o.stroke,u=o.travellerWidth,d=Math.min(r,s)+u,f=Math.max(Math.abs(s-r)-u,0);return L.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:a,width:f,height:l})}},{key:"renderText",value:function(){var r=this.props,s=r.startIndex,o=r.endIndex,a=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,p=5,v={pointerEvents:"none",fill:u};return L.createElement(nn,{className:"recharts-brush-texts"},L.createElement(Dd,qb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:a+l/2},v),this.getTextOfTick(s)),L.createElement(Dd,qb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:a+l/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,s=r.data,o=r.className,a=r.children,l=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,v=h.endX,g=h.isTextActive,b=h.isSlideMoving,y=h.isTravellerMoving,x=h.isTravellerFocused;if(!s||!s.length||!Ce(l)||!Ce(c)||!Ce(u)||!Ce(d)||u<=0||d<=0)return null;var E=qe("recharts-brush",o),T=L.Children.count(a)===1,S=cze("userSelect","none");return L.createElement(nn,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(g||b||y||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var s=r.x,o=r.y,a=r.width,l=r.height,c=r.stroke,u=Math.floor(o+l/2)-1;return L.createElement(L.Fragment,null,L.createElement("rect",{x:s,y:o,width:a,height:l,fill:c,stroke:"none"}),L.createElement("line",{x1:s+1,y1:u,x2:s+a-1,y2:u,fill:"none",stroke:"#fff"}),L.createElement("line",{x1:s+1,y1:u+2,x2:s+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,s){var o;return L.isValidElement(r)?o=L.cloneElement(r,s):He(r)?o=r(s):o=e.renderDefaultTraveller(s),o}},{key:"getDerivedStateFromProps",value:function(r,s){var o=r.data,a=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(o!==s.prevData||u!==s.prevUpdateId)return sE({prevData:o,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:a},o&&o.length?vze({data:o,width:a,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(a!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+a-c]);var h=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:o,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:a,startX:s.scale(r.startIndex),endX:s.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,s){for(var o=r.length,a=0,l=o-1;l-a>1;){var c=Math.floor((a+l)/2);r[c]>s?l=c:a=c}return s>=r[l]?l:a}}])}(F.PureComponent);Qr(Wd,"displayName","Brush");Qr(Wd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var yze=jO;function bze(t,e){var n;return yze(t,function(r,s,o){return n=e(r,s,o),!n}),!!n}var wze=bze,_ze=iH,xze=qs,Eze=wze,Tze=vr,Sze=gf;function Cze(t,e,n){var r=Tze(t)?_ze:Eze;return n&&Sze(t,e,n)&&(e=void 0),r(t,xze(e))}var Pze=Cze;const Aze=Ke(Pze);var Bs=function(e,n){var r=e.alwaysShow,s=e.ifOverflow;return r&&(s="extendDomain"),s===n};function Ize(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Oze=Ize,kze=jO;function Nze(t,e){var n=!0;return kze(t,function(r,s,o){return n=!!e(r,s,o),n}),n}var Dze=Nze,Rze=Oze,Mze=Dze,jze=qs,Lze=vr,$ze=gf;function Fze(t,e,n){var r=Lze(t)?Rze:Mze;return n&&$ze(t,e,n)&&(e=void 0),r(t,jze(e))}var Vze=Fze;const Bze=Ke(Vze);function Km(t){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Km(t)}function Uze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lq(r.key),r)}}function zze(t,e,n){return e&&S4(t.prototype,e),n&&S4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function C4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ey(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C4(Object(n),!0).forEach(function(r){Dk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dk(t,e,n){return e=Lq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lq(t){var e=Wze(t,"string");return Km(e)=="symbol"?e:e+""}function Wze(t,e){if(Km(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $q=function(e,n){var r=e.x,s=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(s,a),width:Math.abs(o-r),height:Math.abs(a-s)}},Hze=function(e){var n=e.x1,r=e.y1,s=e.x2,o=e.y2;return $q({x:n,y:r},{x:s,y:o})},Fq=function(){function t(e){Uze(this,t),this.scale=e}return zze(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),s=r[0],o=r[r.length-1];return s<=o?n>=s&&n<=o:n>=o&&n<=s}}],[{key:"create",value:function(n){return new t(n)}}])}();Dk(Fq,"EPS",1e-4);var Rk=function(e){var n=Object.keys(e).reduce(function(r,s){return ey(ey({},r),{},Dk({},s,Fq.create(e[s])))},{});return ey(ey({},n),{},{apply:function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,l=o.position;return MH(s,function(c,u){return n[u].apply(c,{bandAware:a,position:l})})},isInRange:function(s){return Bze(s,function(o,a){return n[a].isInRange(o)})}})},qze=L1e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Vq=F.createContext(void 0),Bq=F.createContext(void 0),Uq=F.createContext(void 0),Gze=F.createContext({}),zq=F.createContext(void 0),Kze=F.createContext(0),Yze=F.createContext(0),P4=function(e){var n=e.state,r=n.xAxisMap,s=n.yAxisMap,o=n.offset,a=e.clipPathId,l=e.children,c=e.width,u=e.height,d=qze(o);return L.createElement(Vq.Provider,{value:r},L.createElement(Bq.Provider,{value:s},L.createElement(Gze.Provider,{value:o},L.createElement(Uq.Provider,{value:d},L.createElement(zq.Provider,{value:a},L.createElement(Kze.Provider,{value:u},L.createElement(Yze.Provider,{value:c},l)))))))},Xze=function(){return F.useContext(zq)},Qze=function(e){var n=F.useContext(Vq);n==null&&Ld(!1);var r=n[e];return r==null&&Ld(!1),r},Zze=function(e){var n=F.useContext(Bq);n==null&&Ld(!1);var r=n[e];return r==null&&Ld(!1),r},Jze=function(){var e=F.useContext(Uq);return e};function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function eWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hq(r.key),r)}}function tWe(t,e,n){return e&&A4(t.prototype,e),n&&A4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nWe(t,e,n){return e=Kb(e),rWe(t,Wq()?Reflect.construct(e,n||[],Kb(t).constructor):e.apply(t,n))}function rWe(t,e){if(e&&(Hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iWe(t)}function iWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wq=function(){return!!t})()}function Kb(t){return Kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kb(t)}function sWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UC(t,e)}function UC(t,e){return UC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},UC(t,e)}function I4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function O4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I4(Object(n),!0).forEach(function(r){Mk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mk(t,e,n){return e=Hq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hq(t){var e=oWe(t,"string");return Hd(e)=="symbol"?e:e+""}function oWe(t,e){if(Hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aWe(t,e){return dWe(t)||uWe(t,e)||cWe(t,e)||lWe()}function lWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cWe(t,e){if(t){if(typeof t=="string")return k4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k4(t,e)}}function k4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uWe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function dWe(t){if(Array.isArray(t))return t}function zC(){return zC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zC.apply(this,arguments)}var fWe=function(e,n){var r;return L.isValidElement(e)?r=L.cloneElement(e,n):He(e)?r=e(n):r=L.createElement("line",zC({},n,{className:"recharts-reference-line-line"})),r},hWe=function(e,n,r,s,o,a,l,c,u){var d=o.x,f=o.y,h=o.width,p=o.height;if(r){var v=u.y,g=e.y.apply(v,{position:a});if(Bs(u,"discard")&&!e.y.isInRange(g))return null;var b=[{x:d+h,y:g},{x:d,y:g}];return c==="left"?b.reverse():b}if(n){var y=u.x,x=e.x.apply(y,{position:a});if(Bs(u,"discard")&&!e.x.isInRange(x))return null;var E=[{x,y:f+p},{x,y:f}];return l==="top"?E.reverse():E}if(s){var T=u.segment,S=T.map(function(A){return e.apply(A,{position:a})});return Bs(u,"discard")&&Aze(S,function(A){return!e.isInRange(A)})?null:S}return null};function pWe(t){var e=t.x,n=t.y,r=t.segment,s=t.xAxisId,o=t.yAxisId,a=t.shape,l=t.className,c=t.alwaysShow,u=Xze(),d=Qze(s),f=Zze(o),h=Jze();if(!u||!h)return null;xo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Rk({x:d.scale,y:f.scale}),v=An(e),g=An(n),b=r&&r.length===2,y=hWe(p,v,g,b,h,t.position,d.orientation,f.orientation,t);if(!y)return null;var x=aWe(y,2),E=x[0],T=E.x,S=E.y,A=x[1],C=A.x,P=A.y,I=Bs(t,"hidden")?"url(#".concat(u,")"):void 0,R=O4(O4({clipPath:I},We(t,!0)),{},{x1:T,y1:S,x2:C,y2:P});return L.createElement(nn,{className:qe("recharts-reference-line",l)},fWe(a,R),Kn.renderCallByParent(t,Hze({x1:T,y1:S,x2:C,y2:P})))}var jk=function(t){function e(){return eWe(this,e),nWe(this,e,arguments)}return sWe(e,t),tWe(e,[{key:"render",value:function(){return L.createElement(pWe,this.props)}}])}(L.Component);Mk(jk,"displayName","ReferenceLine");Mk(jk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function WC(){return WC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WC.apply(this,arguments)}function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function N4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function D4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N4(Object(n),!0).forEach(function(r){nx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gq(r.key),r)}}function gWe(t,e,n){return e&&R4(t.prototype,e),n&&R4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vWe(t,e,n){return e=Yb(e),yWe(t,qq()?Reflect.construct(e,n||[],Yb(t).constructor):e.apply(t,n))}function yWe(t,e){if(e&&(qd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bWe(t)}function bWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qq=function(){return!!t})()}function Yb(t){return Yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yb(t)}function wWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HC(t,e)}function HC(t,e){return HC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},HC(t,e)}function nx(t,e,n){return e=Gq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gq(t){var e=_We(t,"string");return qd(e)=="symbol"?e:e+""}function _We(t,e){if(qd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xWe=function(e){var n=e.x,r=e.y,s=e.xAxis,o=e.yAxis,a=Rk({x:s.scale,y:o.scale}),l=a.apply({x:n,y:r},{bandAware:!0});return Bs(e,"discard")&&!a.isInRange(l)?null:l},rx=function(t){function e(){return mWe(this,e),vWe(this,e,arguments)}return wWe(e,t),gWe(e,[{key:"render",value:function(){var r=this.props,s=r.x,o=r.y,a=r.r,l=r.alwaysShow,c=r.clipPathId,u=An(s),d=An(o);if(xo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=xWe(this.props);if(!f)return null;var h=f.x,p=f.y,v=this.props,g=v.shape,b=v.className,y=Bs(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=D4(D4({clipPath:y},We(this.props,!0)),{},{cx:h,cy:p});return L.createElement(nn,{className:qe("recharts-reference-dot",b)},e.renderDot(g,x),Kn.renderCallByParent(this.props,{x:h-a,y:p-a,width:2*a,height:2*a}))}}])}(L.Component);nx(rx,"displayName","ReferenceDot");nx(rx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});nx(rx,"renderDot",function(t,e){var n;return L.isValidElement(t)?n=L.cloneElement(t,e):He(t)?n=t(e):n=L.createElement(Nk,WC({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function qC(){return qC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qC.apply(this,arguments)}function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}function M4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function j4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M4(Object(n),!0).forEach(function(r){ix(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yq(r.key),r)}}function TWe(t,e,n){return e&&L4(t.prototype,e),n&&L4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function SWe(t,e,n){return e=Xb(e),CWe(t,Kq()?Reflect.construct(e,n||[],Xb(t).constructor):e.apply(t,n))}function CWe(t,e){if(e&&(Gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PWe(t)}function PWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kq=function(){return!!t})()}function Xb(t){return Xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xb(t)}function AWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GC(t,e)}function GC(t,e){return GC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},GC(t,e)}function ix(t,e,n){return e=Yq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yq(t){var e=IWe(t,"string");return Gd(e)=="symbol"?e:e+""}function IWe(t,e){if(Gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OWe=function(e,n,r,s,o){var a=o.x1,l=o.x2,c=o.y1,u=o.y2,d=o.xAxis,f=o.yAxis;if(!d||!f)return null;var h=Rk({x:d.scale,y:f.scale}),p={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(c,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Bs(o,"discard")&&(!h.isInRange(p)||!h.isInRange(v))?null:$q(p,v)},sx=function(t){function e(){return EWe(this,e),SWe(this,e,arguments)}return AWe(e,t),TWe(e,[{key:"render",value:function(){var r=this.props,s=r.x1,o=r.x2,a=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;xo(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=An(s),h=An(o),p=An(a),v=An(l),g=this.props.shape;if(!f&&!h&&!p&&!v&&!g)return null;var b=OWe(f,h,p,v,this.props);if(!b&&!g)return null;var y=Bs(this.props,"hidden")?"url(#".concat(d,")"):void 0;return L.createElement(nn,{className:qe("recharts-reference-area",c)},e.renderRect(g,j4(j4({clipPath:y},We(this.props,!0)),b)),Kn.renderCallByParent(this.props,b))}}])}(L.Component);ix(sx,"displayName","ReferenceArea");ix(sx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ix(sx,"renderRect",function(t,e){var n;return L.isValidElement(t)?n=L.cloneElement(t,e):He(t)?n=t(e):n=L.createElement(kk,qC({},e,{className:"recharts-reference-area-rect"})),n});function $4(t){return RWe(t)||DWe(t)||NWe(t)||kWe()}function kWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NWe(t,e){if(t){if(typeof t=="string")return KC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KC(t,e)}}function DWe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RWe(t){if(Array.isArray(t))return KC(t)}function KC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var YC=function(e,n,r,s,o){var a=Fs(e,jk),l=Fs(e,rx),c=[].concat($4(a),$4(l)),u=Fs(e,sx),d="".concat(s,"Id"),f=s[0],h=n;if(c.length&&(h=c.reduce(function(g,b){if(b.props[d]===r&&Bs(b.props,"extendDomain")&&Ce(b.props[f])){var y=b.props[f];return[Math.min(g[0],y),Math.max(g[1],y)]}return g},h)),u.length){var p="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(g,b){if(b.props[d]===r&&Bs(b.props,"extendDomain")&&Ce(b.props[p])&&Ce(b.props[v])){var y=b.props[p],x=b.props[v];return[Math.min(g[0],y,x),Math.max(g[1],y,x)]}return g},h)}return o&&o.length&&(h=o.reduce(function(g,b){return Ce(b)?[Math.min(g[0],b),Math.max(g[1],b)]:g},h)),h},Xq={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function o(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,f||c,h),v=n?n+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],p]:c._events[v].push(p):(c._events[v]=p,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,v=new Array(p);h<p;h++)v[h]=f[h].fn;return v},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,v){var g=n?n+u:u;if(!this._events[g])return!1;var b=this._events[g],y=arguments.length,x,E;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),y){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,h),!0;case 5:return b.fn.call(b.context,d,f,h,p),!0;case 6:return b.fn.call(b.context,d,f,h,p,v),!0}for(E=1,x=new Array(y-1);E<y;E++)x[E-1]=arguments[E];b.fn.apply(b.context,x)}else{var T=b.length,S;for(E=0;E<T;E++)switch(b[E].once&&this.removeListener(u,b[E].fn,void 0,!0),y){case 1:b[E].fn.call(b[E].context);break;case 2:b[E].fn.call(b[E].context,d);break;case 3:b[E].fn.call(b[E].context,d,f);break;case 4:b[E].fn.call(b[E].context,d,f,h);break;default:if(!x)for(S=1,x=new Array(y-1);S<y;S++)x[S-1]=arguments[S];b[E].fn.apply(b[E].context,x)}}return!0},l.prototype.on=function(u,d,f){return o(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return o(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!d)return a(this,p),this;var v=this._events[p];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&a(this,p);else{for(var g=0,b=[],y=v.length;g<y;g++)(v[g].fn!==d||h&&!v[g].once||f&&v[g].context!==f)&&b.push(v[g]);b.length?this._events[p]=b.length===1?b[0]:b:a(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(Xq);var MWe=Xq.exports;const jWe=Ke(MWe);var oE=new jWe,aE="recharts.syncMouseEvents";function Ym(t){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ym(t)}function LWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qq(r.key),r)}}function $We(t,e,n){return e&&F4(t.prototype,e),n&&F4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lE(t,e,n){return e=Qq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qq(t){var e=FWe(t,"string");return Ym(e)=="symbol"?e:e+""}function FWe(t,e){if(Ym(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VWe=function(){function t(){LWe(this,t),lE(this,"activeIndex",0),lE(this,"coordinateList",[]),lE(this,"layout","horizontal")}return $We(t,[{key:"setDetails",value:function(n){var r,s=n.coordinateList,o=s===void 0?null:s,a=n.container,l=a===void 0?null:a,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),o=s.x,a=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+c+u,h=a+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function BWe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],s=t==null?void 0:t[1];if(r&&s&&Ce(r)&&Ce(s))return!0}return!1}function UWe(t,e,n,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-s:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-s,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function Zq(t){var e=t.cx,n=t.cy,r=t.radius,s=t.startAngle,o=t.endAngle,a=Dt(e,n,r,s),l=Dt(e,n,r,o);return{points:[a,l],cx:e,cy:n,radius:r,startAngle:s,endAngle:o}}function zWe(t,e,n){var r,s,o,a;if(t==="horizontal")r=e.x,o=r,s=n.top,a=n.top+n.height;else if(t==="vertical")s=e.y,a=s,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=Dt(l,c,u,f),p=Dt(l,c,d,f);r=h.x,s=h.y,o=p.x,a=p.y}else return Zq(e);return[{x:r,y:s},{x:o,y:a}]}function Xm(t){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xm(t)}function V4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ty(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V4(Object(n),!0).forEach(function(r){WWe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WWe(t,e,n){return e=HWe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HWe(t){var e=qWe(t,"string");return Xm(e)=="symbol"?e:e+""}function qWe(t,e){if(Xm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GWe(t){var e,n,r=t.element,s=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!a||h!=="ScatterChart"&&s!=="axis")return null;var v,g=SC;if(h==="ScatterChart")v=a,g=z6e;else if(h==="BarChart")v=UWe(f,a,c,d),g=kk;else if(f==="radial"){var b=Zq(a),y=b.cx,x=b.cy,E=b.radius,T=b.startAngle,S=b.endAngle;v={cx:y,cy:x,startAngle:T,endAngle:S,innerRadius:E,outerRadius:E},g=wq}else v={points:zWe(f,a,c)},g=SC;var A=ty(ty(ty(ty({stroke:"#ccc",pointerEvents:"none"},c),v),We(p,!1)),{},{payload:l,payloadIndex:u,className:qe("recharts-tooltip-cursor",p.className)});return F.isValidElement(p)?F.cloneElement(p,A):F.createElement(g,A)}var KWe=["item"],YWe=["children","className","width","height","style","compact","title","desc"];function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function Ru(){return Ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ru.apply(this,arguments)}function B4(t,e){return ZWe(t)||QWe(t,e)||eG(t,e)||XWe()}function XWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QWe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,o,a,l=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return l}}function ZWe(t){if(Array.isArray(t))return t}function U4(t,e){if(t==null)return{};var n=JWe(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JWe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function e8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tG(r.key),r)}}function t8e(t,e,n){return e&&z4(t.prototype,e),n&&z4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function n8e(t,e,n){return e=Qb(e),r8e(t,Jq()?Reflect.construct(e,n||[],Qb(t).constructor):e.apply(t,n))}function r8e(t,e){if(e&&(Kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i8e(t)}function i8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jq=function(){return!!t})()}function Qb(t){return Qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qb(t)}function s8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XC(t,e)}function XC(t,e){return XC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},XC(t,e)}function Yd(t){return l8e(t)||a8e(t)||eG(t)||o8e()}function o8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eG(t,e){if(t){if(typeof t=="string")return QC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QC(t,e)}}function a8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function l8e(t){if(Array.isArray(t))return QC(t)}function QC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function W4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W4(Object(n),!0).forEach(function(r){Me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Me(t,e,n){return e=tG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tG(t){var e=c8e(t,"string");return Kd(e)=="symbol"?e:e+""}function c8e(t,e){if(Kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u8e={xAxis:["bottom","top"],yAxis:["left","right"]},d8e={width:"100%",height:"100%"},nG={x:0,y:0};function ny(t){return t}var f8e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},h8e=function(e,n,r,s){var o=n.find(function(d){return d&&d.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:s.y};if(e==="vertical")return{x:s.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,l=s.radius;return ce(ce(ce({},s),Dt(s.cx,s.cy,l,a)),{},{angle:a,radius:l})}var c=o.coordinate,u=s.angle;return ce(ce(ce({},s),Dt(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return nG},ox=function(e,n){var r=n.graphicalItems,s=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Yd(l),Yd(u)):l},[]);return a.length>0?a:e&&e.length&&Ce(s)&&Ce(o)?e.slice(s,o+1):[]};function rG(t){return t==="number"?[0,"auto"]:void 0}var ZC=function(e,n,r,s){var o=e.graphicalItems,a=e.tooltipAxis,l=ox(n,e);return r<0||!o||!o.length||r>=l.length?null:o.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var p=f===void 0?l:f;h=jS(p,a.dataKey,s)}else h=f&&f[r]||l[r];return h?[].concat(Yd(c),[LVe(u,h)]):c},[])},H4=function(e,n,r,s){var o=s||{x:e.chartX,y:e.chartY},a=f8e(o,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=_Ve(a,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=ZC(e,n,d,f),p=h8e(r,l,d,o);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},p8e=function(e,n){var r=n.axes,s=n.graphicalItems,o=n.axisType,a=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,p=hq(d,o);return r.reduce(function(v,g){var b,y=g.type.defaultProps!==void 0?ce(ce({},g.type.defaultProps),g.props):g.props,x=y.type,E=y.dataKey,T=y.allowDataOverflow,S=y.allowDuplicatedCategory,A=y.scale,C=y.ticks,P=y.includeHidden,I=y[a];if(v[I])return v;var R=ox(e.data,{graphicalItems:s.filter(function(V){var ee,se=a in V.props?V.props[a]:(ee=V.type.defaultProps)===null||ee===void 0?void 0:ee[a];return se===I}),dataStartIndex:c,dataEndIndex:u}),j=R.length,O,D,N;BWe(y.domain,T,x)&&(O=bC(y.domain,null,T),p&&(x==="number"||A!=="auto")&&(N=op(R,E,"category")));var U=rG(x);if(!O||O.length===0){var K,q=(K=y.domain)!==null&&K!==void 0?K:U;if(E){if(O=op(R,E,x),x==="category"&&p){var Y=KDe(O);S&&Y?(D=O,O=pm(0,j)):S||(O=_F(q,O,g).reduce(function(V,ee){return V.indexOf(ee)>=0?V:[].concat(Yd(V),[ee])},[]))}else if(x==="category")S?O=O.filter(function(V){return V!==""&&!nt(V)}):O=_F(q,O,g).reduce(function(V,ee){return V.indexOf(ee)>=0||ee===""||nt(ee)?V:[].concat(Yd(V),[ee])},[]);else if(x==="number"){var G=CVe(R,s.filter(function(V){var ee,se,oe=a in V.props?V.props[a]:(ee=V.type.defaultProps)===null||ee===void 0?void 0:ee[a],xe="hide"in V.props?V.props.hide:(se=V.type.defaultProps)===null||se===void 0?void 0:se.hide;return oe===I&&(P||!xe)}),E,o,d);G&&(O=G)}p&&(x==="number"||A!=="auto")&&(N=op(R,E,"category"))}else p?O=pm(0,j):l&&l[I]&&l[I].hasStack&&x==="number"?O=h==="expand"?[0,1]:pq(l[I].stackGroups,c,u):O=fq(R,s.filter(function(V){var ee=a in V.props?V.props[a]:V.type.defaultProps[a],se="hide"in V.props?V.props.hide:V.type.defaultProps.hide;return ee===I&&(P||!se)}),x,d,!0);if(x==="number")O=YC(f,O,I,o,C),q&&(O=bC(q,O,T));else if(x==="category"&&q){var J=q,H=O.every(function(V){return J.indexOf(V)>=0});H&&(O=J)}}return ce(ce({},v),{},Me({},I,ce(ce({},y),{},{axisType:o,domain:O,categoricalDomain:N,duplicateDomain:D,originalDomain:(b=y.domain)!==null&&b!==void 0?b:U,isCategorical:p,layout:d})))},{})},m8e=function(e,n){var r=n.graphicalItems,s=n.Axis,o=n.axisType,a=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=ox(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),p=h.length,v=hq(d,o),g=-1;return r.reduce(function(b,y){var x=y.type.defaultProps!==void 0?ce(ce({},y.type.defaultProps),y.props):y.props,E=x[a],T=rG("number");if(!b[E]){g++;var S;return v?S=pm(0,p):l&&l[E]&&l[E].hasStack?(S=pq(l[E].stackGroups,c,u),S=YC(f,S,E,o)):(S=bC(T,fq(h,r.filter(function(A){var C,P,I=a in A.props?A.props[a]:(C=A.type.defaultProps)===null||C===void 0?void 0:C[a],R="hide"in A.props?A.props.hide:(P=A.type.defaultProps)===null||P===void 0?void 0:P.hide;return I===E&&!R}),"number",d),s.defaultProps.allowDataOverflow),S=YC(f,S,E,o)),ce(ce({},b),{},Me({},E,ce(ce({axisType:o},s.defaultProps),{},{hide:!0,orientation:ns(u8e,"".concat(o,".").concat(g%2),null),domain:S,originalDomain:T,isCategorical:v,layout:d})))}return b},{})},g8e=function(e,n){var r=n.axisType,s=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(s,"Id"),h=Fs(d,o),p={};return h&&h.length?p=p8e(e,{axes:h,graphicalItems:a,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):a&&a.length&&(p=m8e(e,{Axis:o,graphicalItems:a,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},v8e=function(e){var n=du(e),r=kh(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:h_(r,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:wC(n,r)}},q4=function(e){var n=e.children,r=e.defaultShowTooltip,s=bi(n,Wd),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(o=s.props.startIndex),s.props.endIndex>=0&&(a=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},y8e=function(e){return!e||!e.length?!1:e.some(function(n){var r=_o(n&&n.type);return r&&r.indexOf("Bar")>=0})},G4=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},b8e=function(e,n){var r=e.props,s=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,l=e.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,f=r.children,h=r.margin||{},p=bi(f,Wd),v=bi(f,Jl),g=Object.keys(c).reduce(function(S,A){var C=c[A],P=C.orientation;return!C.mirror&&!C.hide?ce(ce({},S),{},Me({},P,S[P]+C.width)):S},{left:h.left||0,right:h.right||0}),b=Object.keys(a).reduce(function(S,A){var C=a[A],P=C.orientation;return!C.mirror&&!C.hide?ce(ce({},S),{},Me({},P,ns(S,"".concat(P))+C.height)):S},{top:h.top||0,bottom:h.bottom||0}),y=ce(ce({},b),g),x=y.bottom;p&&(y.bottom+=p.props.height||Wd.defaultProps.height),v&&n&&(y=TVe(y,s,r,n));var E=u-y.left-y.right,T=d-y.top-y.bottom;return ce(ce({brushBottom:x},y),{},{width:Math.max(E,0),height:Math.max(T,0)})},w8e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},_8e=function(e){var n=e.chartName,r=e.GraphicalChild,s=e.defaultTooltipEventType,o=s===void 0?"axis":s,a=e.validateTooltipEventTypes,l=a===void 0?["axis"]:a,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(y,x){var E=x.graphicalItems,T=x.stackGroups,S=x.offset,A=x.updateId,C=x.dataStartIndex,P=x.dataEndIndex,I=y.barSize,R=y.layout,j=y.barGap,O=y.barCategoryGap,D=y.maxBarSize,N=G4(R),U=N.numericAxisName,K=N.cateAxisName,q=y8e(E),Y=[];return E.forEach(function(G,J){var H=ox(y.data,{graphicalItems:[G],dataStartIndex:C,dataEndIndex:P}),V=G.type.defaultProps!==void 0?ce(ce({},G.type.defaultProps),G.props):G.props,ee=V.dataKey,se=V.maxBarSize,oe=V["".concat(U,"Id")],xe=V["".concat(K,"Id")],Se={},ye=c.reduce(function(de,re){var he=x["".concat(re.axisType,"Map")],Te=V["".concat(re.axisType,"Id")];he&&he[Te]||re.axisType==="zAxis"||Ld(!1);var ve=he[Te];return ce(ce({},de),{},Me(Me({},re.axisType,ve),"".concat(re.axisType,"Ticks"),kh(ve)))},Se),ie=ye[K],we=ye["".concat(K,"Ticks")],pe=T&&T[oe]&&T[oe].hasStack&&MVe(G,T[oe].stackGroups),X=_o(G.type).indexOf("Bar")>=0,ae=wC(ie,we),M=[],te=q&&xVe({barSize:I,stackGroups:T,totalSize:w8e(ye,K)});if(X){var Z,z,W=nt(se)?D:se,Q=(Z=(z=wC(ie,we,!0))!==null&&z!==void 0?z:W)!==null&&Z!==void 0?Z:0;M=EVe({barGap:j,barCategoryGap:O,bandSize:Q!==ae?Q:ae,sizeList:te[xe],maxBarSize:W}),Q!==ae&&(M=M.map(function(de){return ce(ce({},de),{},{position:ce(ce({},de.position),{},{offset:de.position.offset-Q/2})})}))}var ue=G&&G.type&&G.type.getComposedData;ue&&Y.push({props:ce(ce({},ue(ce(ce({},ye),{},{displayedData:H,props:y,dataKey:ee,item:G,bandSize:ae,barPosition:M,offset:S,stackedData:pe,layout:R,dataStartIndex:C,dataEndIndex:P}))),{},Me(Me(Me({key:G.key||"item-".concat(J)},U,ye[U]),K,ye[K]),"animationId",A)),childIndex:sRe(G,y.children),item:G})}),Y},p=function(y,x){var E=y.props,T=y.dataStartIndex,S=y.dataEndIndex,A=y.updateId;if(!FL({props:E}))return null;var C=E.children,P=E.layout,I=E.stackOffset,R=E.data,j=E.reverseStackOrder,O=G4(P),D=O.numericAxisName,N=O.cateAxisName,U=Fs(C,r),K=DVe(R,U,"".concat(D,"Id"),"".concat(N,"Id"),I,j),q=c.reduce(function(V,ee){var se="".concat(ee.axisType,"Map");return ce(ce({},V),{},Me({},se,g8e(E,ce(ce({},ee),{},{graphicalItems:U,stackGroups:ee.axisType===D&&K,dataStartIndex:T,dataEndIndex:S}))))},{}),Y=b8e(ce(ce({},q),{},{props:E,graphicalItems:U}),x==null?void 0:x.legendBBox);Object.keys(q).forEach(function(V){q[V]=d(E,q[V],Y,V.replace("Map",""),n)});var G=q["".concat(N,"Map")],J=v8e(G),H=h(E,ce(ce({},q),{},{dataStartIndex:T,dataEndIndex:S,updateId:A,graphicalItems:U,stackGroups:K,offset:Y}));return ce(ce({formattedGraphicalItems:H,graphicalItems:U,offset:Y,stackGroups:K},J),q)},v=function(b){function y(x){var E,T,S;return e8e(this,y),S=n8e(this,y,[x]),Me(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Me(S,"accessibilityManager",new VWe),Me(S,"handleLegendBBoxUpdate",function(A){if(A){var C=S.state,P=C.dataStartIndex,I=C.dataEndIndex,R=C.updateId;S.setState(ce({legendBBox:A},p({props:S.props,dataStartIndex:P,dataEndIndex:I,updateId:R},ce(ce({},S.state),{},{legendBBox:A}))))}}),Me(S,"handleReceiveSyncEvent",function(A,C,P){if(S.props.syncId===A){if(P===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(C)}}),Me(S,"handleBrushChange",function(A){var C=A.startIndex,P=A.endIndex;if(C!==S.state.dataStartIndex||P!==S.state.dataEndIndex){var I=S.state.updateId;S.setState(function(){return ce({dataStartIndex:C,dataEndIndex:P},p({props:S.props,dataStartIndex:C,dataEndIndex:P,updateId:I},S.state))}),S.triggerSyncEvent({dataStartIndex:C,dataEndIndex:P})}}),Me(S,"handleMouseEnter",function(A){var C=S.getMouseInfo(A);if(C){var P=ce(ce({},C),{},{isTooltipActive:!0});S.setState(P),S.triggerSyncEvent(P);var I=S.props.onMouseEnter;He(I)&&I(P,A)}}),Me(S,"triggeredAfterMouseMove",function(A){var C=S.getMouseInfo(A),P=C?ce(ce({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(P),S.triggerSyncEvent(P);var I=S.props.onMouseMove;He(I)&&I(P,A)}),Me(S,"handleItemMouseEnter",function(A){S.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),Me(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Me(S,"handleMouseMove",function(A){A.persist(),S.throttleTriggeredAfterMouseMove(A)}),Me(S,"handleMouseLeave",function(A){S.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};S.setState(C),S.triggerSyncEvent(C);var P=S.props.onMouseLeave;He(P)&&P(C,A)}),Me(S,"handleOuterEvent",function(A){var C=iRe(A),P=ns(S.props,"".concat(C));if(C&&He(P)){var I,R;/.*touch.*/i.test(C)?R=S.getMouseInfo(A.changedTouches[0]):R=S.getMouseInfo(A),P((I=R)!==null&&I!==void 0?I:{},A)}}),Me(S,"handleClick",function(A){var C=S.getMouseInfo(A);if(C){var P=ce(ce({},C),{},{isTooltipActive:!0});S.setState(P),S.triggerSyncEvent(P);var I=S.props.onClick;He(I)&&I(P,A)}}),Me(S,"handleMouseDown",function(A){var C=S.props.onMouseDown;if(He(C)){var P=S.getMouseInfo(A);C(P,A)}}),Me(S,"handleMouseUp",function(A){var C=S.props.onMouseUp;if(He(C)){var P=S.getMouseInfo(A);C(P,A)}}),Me(S,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),Me(S,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.handleMouseDown(A.changedTouches[0])}),Me(S,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.handleMouseUp(A.changedTouches[0])}),Me(S,"handleDoubleClick",function(A){var C=S.props.onDoubleClick;if(He(C)){var P=S.getMouseInfo(A);C(P,A)}}),Me(S,"handleContextMenu",function(A){var C=S.props.onContextMenu;if(He(C)){var P=S.getMouseInfo(A);C(P,A)}}),Me(S,"triggerSyncEvent",function(A){S.props.syncId!==void 0&&oE.emit(aE,S.props.syncId,A,S.eventEmitterSymbol)}),Me(S,"applySyncEvent",function(A){var C=S.props,P=C.layout,I=C.syncMethod,R=S.state.updateId,j=A.dataStartIndex,O=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)S.setState(ce({dataStartIndex:j,dataEndIndex:O},p({props:S.props,dataStartIndex:j,dataEndIndex:O,updateId:R},S.state)));else if(A.activeTooltipIndex!==void 0){var D=A.chartX,N=A.chartY,U=A.activeTooltipIndex,K=S.state,q=K.offset,Y=K.tooltipTicks;if(!q)return;if(typeof I=="function")U=I(Y,A);else if(I==="value"){U=-1;for(var G=0;G<Y.length;G++)if(Y[G].value===A.activeLabel){U=G;break}}var J=ce(ce({},q),{},{x:q.left,y:q.top}),H=Math.min(D,J.x+J.width),V=Math.min(N,J.y+J.height),ee=Y[U]&&Y[U].value,se=ZC(S.state,S.props.data,U),oe=Y[U]?{x:P==="horizontal"?Y[U].coordinate:H,y:P==="horizontal"?V:Y[U].coordinate}:nG;S.setState(ce(ce({},A),{},{activeLabel:ee,activeCoordinate:oe,activePayload:se,activeTooltipIndex:U}))}else S.setState(A)}),Me(S,"renderCursor",function(A){var C,P=S.state,I=P.isTooltipActive,R=P.activeCoordinate,j=P.activePayload,O=P.offset,D=P.activeTooltipIndex,N=P.tooltipAxisBandSize,U=S.getTooltipEventType(),K=(C=A.props.active)!==null&&C!==void 0?C:I,q=S.props.layout,Y=A.key||"_recharts-cursor";return L.createElement(GWe,{key:Y,activeCoordinate:R,activePayload:j,activeTooltipIndex:D,chartName:n,element:A,isActive:K,layout:q,offset:O,tooltipAxisBandSize:N,tooltipEventType:U})}),Me(S,"renderPolarAxis",function(A,C,P){var I=ns(A,"type.axisType"),R=ns(S.state,"".concat(I,"Map")),j=A.type.defaultProps,O=j!==void 0?ce(ce({},j),A.props):A.props,D=R&&R[O["".concat(I,"Id")]];return F.cloneElement(A,ce(ce({},D),{},{className:qe(I,D.className),key:A.key||"".concat(C,"-").concat(P),ticks:kh(D,!0)}))}),Me(S,"renderPolarGrid",function(A){var C=A.props,P=C.radialLines,I=C.polarAngles,R=C.polarRadius,j=S.state,O=j.radiusAxisMap,D=j.angleAxisMap,N=du(O),U=du(D),K=U.cx,q=U.cy,Y=U.innerRadius,G=U.outerRadius;return F.cloneElement(A,{polarAngles:Array.isArray(I)?I:kh(U,!0).map(function(J){return J.coordinate}),polarRadius:Array.isArray(R)?R:kh(N,!0).map(function(J){return J.coordinate}),cx:K,cy:q,innerRadius:Y,outerRadius:G,key:A.key||"polar-grid",radialLines:P})}),Me(S,"renderLegend",function(){var A=S.state.formattedGraphicalItems,C=S.props,P=C.children,I=C.width,R=C.height,j=S.props.margin||{},O=I-(j.left||0)-(j.right||0),D=uq({children:P,formattedGraphicalItems:A,legendWidth:O,legendContent:u});if(!D)return null;var N=D.item,U=U4(D,KWe);return F.cloneElement(N,ce(ce({},U),{},{chartWidth:I,chartHeight:R,margin:j,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Me(S,"renderTooltip",function(){var A,C=S.props,P=C.children,I=C.accessibilityLayer,R=bi(P,xs);if(!R)return null;var j=S.state,O=j.isTooltipActive,D=j.activeCoordinate,N=j.activePayload,U=j.activeLabel,K=j.offset,q=(A=R.props.active)!==null&&A!==void 0?A:O;return F.cloneElement(R,{viewBox:ce(ce({},K),{},{x:K.left,y:K.top}),active:q,label:U,payload:q?N:[],coordinate:D,accessibilityLayer:I})}),Me(S,"renderBrush",function(A){var C=S.props,P=C.margin,I=C.data,R=S.state,j=R.offset,O=R.dataStartIndex,D=R.dataEndIndex,N=R.updateId;return F.cloneElement(A,{key:A.key||"_recharts-brush",onChange:Xv(S.handleBrushChange,A.props.onChange),data:I,x:Ce(A.props.x)?A.props.x:j.left,y:Ce(A.props.y)?A.props.y:j.top+j.height+j.brushBottom-(P.bottom||0),width:Ce(A.props.width)?A.props.width:j.width,startIndex:O,endIndex:D,updateId:"brush-".concat(N)})}),Me(S,"renderReferenceElement",function(A,C,P){if(!A)return null;var I=S,R=I.clipPathId,j=S.state,O=j.xAxisMap,D=j.yAxisMap,N=j.offset,U=A.type.defaultProps||{},K=A.props,q=K.xAxisId,Y=q===void 0?U.xAxisId:q,G=K.yAxisId,J=G===void 0?U.yAxisId:G;return F.cloneElement(A,{key:A.key||"".concat(C,"-").concat(P),xAxis:O[Y],yAxis:D[J],viewBox:{x:N.left,y:N.top,width:N.width,height:N.height},clipPathId:R})}),Me(S,"renderActivePoints",function(A){var C=A.item,P=A.activePoint,I=A.basePoint,R=A.childIndex,j=A.isRange,O=[],D=C.props.key,N=C.item.type.defaultProps!==void 0?ce(ce({},C.item.type.defaultProps),C.item.props):C.item.props,U=N.activeDot,K=N.dataKey,q=ce(ce({index:R,dataKey:K,cx:P.x,cy:P.y,r:4,fill:Ok(C.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},We(U,!1)),db(U));return O.push(y.renderActiveDot(U,q,"".concat(D,"-activePoint-").concat(R))),I?O.push(y.renderActiveDot(U,ce(ce({},q),{},{cx:I.x,cy:I.y}),"".concat(D,"-basePoint-").concat(R))):j&&O.push(null),O}),Me(S,"renderGraphicChild",function(A,C,P){var I=S.filterFormatItem(A,C,P);if(!I)return null;var R=S.getTooltipEventType(),j=S.state,O=j.isTooltipActive,D=j.tooltipAxis,N=j.activeTooltipIndex,U=j.activeLabel,K=S.props.children,q=bi(K,xs),Y=I.props,G=Y.points,J=Y.isRange,H=Y.baseLine,V=I.item.type.defaultProps!==void 0?ce(ce({},I.item.type.defaultProps),I.item.props):I.item.props,ee=V.activeDot,se=V.hide,oe=V.activeBar,xe=V.activeShape,Se=!!(!se&&O&&q&&(ee||oe||xe)),ye={};R!=="axis"&&q&&q.props.trigger==="click"?ye={onClick:Xv(S.handleItemMouseEnter,A.props.onClick)}:R!=="axis"&&(ye={onMouseLeave:Xv(S.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:Xv(S.handleItemMouseEnter,A.props.onMouseEnter)});var ie=F.cloneElement(A,ce(ce({},I.props),ye));function we(re){return typeof D.dataKey=="function"?D.dataKey(re.payload):null}if(Se)if(N>=0){var pe,X;if(D.dataKey&&!D.allowDuplicatedCategory){var ae=typeof D.dataKey=="function"?we:"payload.".concat(D.dataKey.toString());pe=jS(G,ae,U),X=J&&H&&jS(H,ae,U)}else pe=G==null?void 0:G[N],X=J&&H&&H[N];if(xe||oe){var M=A.props.activeIndex!==void 0?A.props.activeIndex:N;return[F.cloneElement(A,ce(ce(ce({},I.props),ye),{},{activeIndex:M})),null,null]}if(!nt(pe))return[ie].concat(Yd(S.renderActivePoints({item:I,activePoint:pe,basePoint:X,childIndex:N,isRange:J})))}else{var te,Z=(te=S.getItemByXY(S.state.activeCoordinate))!==null&&te!==void 0?te:{graphicalItem:ie},z=Z.graphicalItem,W=z.item,Q=W===void 0?A:W,ue=z.childIndex,de=ce(ce(ce({},I.props),ye),{},{activeIndex:ue});return[F.cloneElement(Q,de),null,null]}return J?[ie,null,null]:[ie,null]}),Me(S,"renderCustomized",function(A,C,P){return F.cloneElement(A,ce(ce({key:"recharts-customized-".concat(P)},S.props),S.state))}),Me(S,"renderMap",{CartesianGrid:{handler:ny,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:ny},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:ny},YAxis:{handler:ny},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((E=x.id)!==null&&E!==void 0?E:k_("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=c7(S.triggeredAfterMouseMove,(T=x.throttleDelay)!==null&&T!==void 0?T:1e3/60),S.state={},S}return s8e(y,b),t8e(y,[{key:"componentDidMount",value:function(){var E,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,T=E.children,S=E.data,A=E.height,C=E.layout,P=bi(T,xs);if(P){var I=P.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,j=ZC(this.state,S,I,R),O=this.state.tooltipTicks[I].coordinate,D=(this.state.offset.top+A)/2,N=C==="horizontal",U=N?{x:O,y:D}:{y:O,x:D},K=this.state.formattedGraphicalItems.find(function(Y){var G=Y.item;return G.type.name==="Scatter"});K&&(U=ce(ce({},U),K.props.points[I].tooltipPosition),j=K.props.points[I].tooltipPayload);var q={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:R,activePayload:j,activeCoordinate:U};this.setState(q),this.renderCursor(P),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var S,A;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(E){FS([bi(E.children,xs)],[bi(this.props.children,xs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=bi(this.props.children,xs);if(E&&typeof E.props.shared=="boolean"){var T=E.props.shared?"axis":"item";return l.indexOf(T)>=0?T:o}return o}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var T=this.container,S=T.getBoundingClientRect(),A=ZLe(S),C={chartX:Math.round(E.pageX-A.left),chartY:Math.round(E.pageY-A.top)},P=S.width/T.offsetWidth||1,I=this.inRange(C.chartX,C.chartY,P);if(!I)return null;var R=this.state,j=R.xAxisMap,O=R.yAxisMap,D=this.getTooltipEventType(),N=H4(this.state,this.props.data,this.props.layout,I);if(D!=="axis"&&j&&O){var U=du(j).scale,K=du(O).scale,q=U&&U.invert?U.invert(C.chartX):null,Y=K&&K.invert?K.invert(C.chartY):null;return ce(ce({},C),{},{xValue:q,yValue:Y},N)}return N?ce(ce({},C),N):null}},{key:"inRange",value:function(E,T){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,C=E/S,P=T/S;if(A==="horizontal"||A==="vertical"){var I=this.state.offset,R=C>=I.left&&C<=I.left+I.width&&P>=I.top&&P<=I.top+I.height;return R?{x:C,y:P}:null}var j=this.state,O=j.angleAxisMap,D=j.radiusAxisMap;if(O&&D){var N=du(O);return TF({x:C,y:P},N)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,T=this.getTooltipEventType(),S=bi(E,xs),A={};S&&T==="axis"&&(S.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=db(this.props,this.handleOuterEvent);return ce(ce({},C),A)}},{key:"addListener",value:function(){oE.on(aE,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){oE.removeListener(aE,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,T,S){for(var A=this.state.formattedGraphicalItems,C=0,P=A.length;C<P;C++){var I=A[C];if(I.item===E||I.props.key===E.key||T===_o(I.item.type)&&S===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,T=this.state.offset,S=T.left,A=T.top,C=T.height,P=T.width;return L.createElement("defs",null,L.createElement("clipPath",{id:E},L.createElement("rect",{x:S,y:A,height:C,width:P})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(T,S){var A=B4(S,2),C=A[0],P=A[1];return ce(ce({},T),{},Me({},C,P.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(T,S){var A=B4(S,2),C=A[0],P=A[1];return ce(ce({},T),{},Me({},C,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[E])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(E){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[E])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(E){var T=this.state,S=T.formattedGraphicalItems,A=T.activeItem;if(S&&S.length)for(var C=0,P=S.length;C<P;C++){var I=S[C],R=I.props,j=I.item,O=j.type.defaultProps!==void 0?ce(ce({},j.type.defaultProps),j.props):j.props,D=_o(j.type);if(D==="Bar"){var N=(R.data||[]).find(function(Y){return E6e(E,Y)});if(N)return{graphicalItem:I,payload:N}}else if(D==="RadialBar"){var U=(R.data||[]).find(function(Y){return TF(E,Y)});if(U)return{graphicalItem:I,payload:U}}else if(ex(I,A)||tx(I,A)||qm(I,A)){var K=ZUe({graphicalItem:I,activeTooltipItem:A,itemData:O.data}),q=O.activeIndex===void 0?K:O.activeIndex;return{graphicalItem:ce(ce({},I),{},{childIndex:q}),payload:qm(I,A)?O.data[K]:I.props.data[K]}}}return null}},{key:"render",value:function(){var E=this;if(!FL(this))return null;var T=this.props,S=T.children,A=T.className,C=T.width,P=T.height,I=T.style,R=T.compact,j=T.title,O=T.desc,D=U4(T,YWe),N=We(D,!1);if(R)return L.createElement(P4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement(BS,Ru({},N,{width:C,height:P,title:j,desc:O}),this.renderClipPath(),BL(S,this.renderMap)));if(this.props.accessibilityLayer){var U,K;N.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,N.role=(K=this.props.role)!==null&&K!==void 0?K:"application",N.onKeyDown=function(Y){E.accessibilityManager.keyboardEvent(Y)},N.onFocus=function(){E.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return L.createElement(P4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement("div",Ru({className:qe("recharts-wrapper",A),style:ce({position:"relative",cursor:"default",width:C,height:P},I)},q,{ref:function(G){E.container=G}}),L.createElement(BS,Ru({},N,{width:C,height:P,title:j,desc:O,style:d8e}),this.renderClipPath(),BL(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(F.Component);Me(v,"displayName",n),Me(v,"defaultProps",ce({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Me(v,"getDerivedStateFromProps",function(b,y){var x=b.dataKey,E=b.data,T=b.children,S=b.width,A=b.height,C=b.layout,P=b.stackOffset,I=b.margin,R=y.dataStartIndex,j=y.dataEndIndex;if(y.updateId===void 0){var O=q4(b);return ce(ce(ce({},O),{},{updateId:0},p(ce(ce({props:b},O),{},{updateId:0}),y)),{},{prevDataKey:x,prevData:E,prevWidth:S,prevHeight:A,prevLayout:C,prevStackOffset:P,prevMargin:I,prevChildren:T})}if(x!==y.prevDataKey||E!==y.prevData||S!==y.prevWidth||A!==y.prevHeight||C!==y.prevLayout||P!==y.prevStackOffset||!LS(I,y.prevMargin)){var D=q4(b),N={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},U=ce(ce({},H4(y,E,C)),{},{updateId:y.updateId+1}),K=ce(ce(ce({},D),N),U);return ce(ce(ce({},K),p(ce({props:b},K),y)),{},{prevDataKey:x,prevData:E,prevWidth:S,prevHeight:A,prevLayout:C,prevStackOffset:P,prevMargin:I,prevChildren:T})}if(!FS(T,y.prevChildren)){var q,Y,G,J,H=bi(T,Wd),V=H&&(q=(Y=H.props)===null||Y===void 0?void 0:Y.startIndex)!==null&&q!==void 0?q:R,ee=H&&(G=(J=H.props)===null||J===void 0?void 0:J.endIndex)!==null&&G!==void 0?G:j,se=V!==R||ee!==j,oe=!nt(E),xe=oe&&!se?y.updateId:y.updateId+1;return ce(ce({updateId:xe},p(ce(ce({props:b},y),{},{updateId:xe,dataStartIndex:V,dataEndIndex:ee}),y)),{},{prevChildren:T,dataStartIndex:V,dataEndIndex:ee})}return null}),Me(v,"renderActiveDot",function(b,y,x){var E;return F.isValidElement(b)?E=F.cloneElement(b,y):He(b)?E=b(y):E=L.createElement(Nk,y),L.createElement(nn,{className:"recharts-active-dot",key:x},E)});var g=F.forwardRef(function(y,x){return L.createElement(v,Ru({},y,{ref:x}))});return g.displayName=v.displayName,g},x8e=_8e({chartName:"PieChart",GraphicalChild:Ko,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:J_},{axisType:"radiusAxis",AxisComp:Q_}],formatAxisMap:qVe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function xt({children:t,className:e=""}){return w.jsxs("div",{className:`bg-white shadow rounded-lg p-4 transition-colors duration-300 ${e}`,children:["      ",t]})}function Tn({variant:t="primary",children:e,className:n="",...r}){const s="px-4 py-2 rounded transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",o={primary:"bg-blue-600 text-white hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600",secondary:"bg-gray-300 text-gray-800 hover:bg-gray-400 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600",success:"bg-green-500 text-white hover:bg-green-600",danger:"bg-red-600 text-white hover:bg-red-700"},a=`${s} ${o[t]||o.primary} ${n}`;return w.jsx("button",{className:a,...r,children:e})}const K4=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"],Y4=({transactions:t,type:e="expense"})=>{const n=L.useMemo(()=>{const s=t.filter(o=>o.type===e).reduce((o,a)=>(o[a.category]||(o[a.category]=0),o[a.category]+=parseFloat(a.realCost||0),o),{});return Object.entries(s).map(([o,a])=>({name:o,value:parseFloat(a.toFixed(2))})).sort((o,a)=>a.value-o.value)},[t,e]);return n.length===0?w.jsxs(xt,{className:"p-4 h-full",children:[w.jsx("h3",{className:"text-lg font-semibold mb-4",children:e==="expense"?"Gastos por Categora":"Ingresos por Categora"}),w.jsx("p",{className:"text-gray-500 text-center my-8",children:"No hay datos disponibles"})]}):w.jsxs(xt,{className:"p-4 h-full",children:[w.jsx("h3",{className:"text-lg font-semibold mb-4",children:e==="expense"?"Gastos por Categora":"Ingresos por Categora"}),w.jsx("div",{className:"h-64",children:w.jsx(HLe,{width:"100%",height:"100%",children:w.jsxs(x8e,{children:[w.jsx(Ko,{data:n,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:r,percent:s})=>`${r}: ${(s*100).toFixed(0)}%`,children:n.map((r,s)=>w.jsx(ik,{fill:K4[s%K4.length]},`cell-${s}`))}),w.jsx(xs,{formatter:r=>[`${r.toFixed(2)}`,"Total"]}),w.jsx(Jl,{})]})})})]})},E8e=({transactions:t,budgetLimits:e={}})=>{const n=L.useMemo(()=>t.reduce((s,o)=>(s[o.category]||(s[o.category]={expense:0,income:0}),s[o.category][o.type]+=parseFloat(o.realCost||0),s),{}),[t]),r=L.useMemo(()=>{const s=[],o=new Date;Object.entries(n).forEach(([l,{expense:c}])=>{const u=e[l]||0;if(u>0){const d=c/u*100;c>u?s.push({type:"error",message:`Presupuesto excedido en ${l}! (${d.toFixed(0)}%)`,icon:w.jsx(K0,{className:"text-red-500"})}):d>=90&&s.push({type:"warning",message:`Cuidado: ${l} al ${d.toFixed(0)}% del presupuesto`,icon:w.jsx(o8,{className:"text-yellow-500"})})}});const a=t.filter(l=>l.status==="pending"&&new Date(l.paymentDate)<o);return a.length>0&&s.push({type:"warning",message:`${a.length} pagos pendientes de vencimiento`,icon:w.jsx(nO,{className:"text-yellow-500"}),items:a.map(l=>({name:l.item,amount:l.realCost,dueDate:l.paymentDate}))}),s.length===0&&s.push({type:"success",message:"Todo en orden! No hay alertas importantes."}),s},[n,t,e]);return w.jsxs(xt,{className:"p-4 h-full",children:[w.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[w.jsx(K0,{className:"text-blue-500"}),"Alertas de Presupuesto"]}),w.jsx("div",{className:"space-y-3",children:r.map((s,o)=>w.jsx("div",{className:`p-3 rounded-lg ${s.type==="error"?"bg-red-50 border border-red-200":s.type==="warning"?"bg-yellow-50 border border-yellow-200":"bg-green-50 border border-green-200"}`,children:w.jsxs("div",{className:"flex items-start gap-2",children:[s.icon||w.jsx(a8,{className:"text-green-500 mt-0.5 flex-shrink-0"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm font-medium",children:s.message}),s.items&&w.jsx("div",{className:"mt-2 space-y-1",children:s.items.map((a,l)=>w.jsxs("div",{className:"text-xs text-gray-600 flex justify-between",children:[w.jsx("span",{children:a.name}),w.jsxs("span",{className:"font-medium",children:["",a.amount.toFixed(2)]})]},l))})]})]})},o))})]})},T8e=({transactions:t})=>{const e=new Date,n=new Date;n.setDate(e.getDate()+7);const r=L.useMemo(()=>t.reduce((c,u)=>{if(u.type!=="expense")return c;const d=new Date(u.paymentDate),f=u.status==="paid",h=!f&&d<e,p=!f&&d>e&&d<=n,v=!f&&d>n;return f?c.paid.push(u):h?c.overdue.push(u):p?c.upcoming.push(u):v&&c.future.push(u),c},{paid:[],overdue:[],upcoming:[],future:[]}),[t]),s=c=>c.reduce((u,d)=>u+parseFloat(d.realCost||0),0),o={paid:s(r.paid),overdue:s(r.overdue),upcoming:s(r.upcoming),future:s(r.future)},a=c=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(c),l=({title:c,items:u,total:d,icon:f,color:h})=>w.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[w.jsxs("div",{className:`p-3 ${h.bg} ${h.text} font-medium flex justify-between items-center`,children:[w.jsxs("div",{className:"flex items-center gap-2",children:[f,w.jsx("span",{children:c})]}),w.jsx("span",{className:"font-bold",children:u.length})]}),w.jsxs("div",{className:"p-3",children:[w.jsx("p",{className:"text-2xl font-bold mb-2",children:a(d)}),u.length>0&&w.jsx("div",{className:"space-y-2 mt-2 max-h-40 overflow-y-auto",children:u.map((p,v)=>w.jsxs("div",{className:"text-sm border-b pb-2 last:border-0",children:[w.jsxs("div",{className:"flex justify-between",children:[w.jsx("span",{className:"font-medium",children:p.provider}),w.jsx("span",{children:a(p.realCost)})]}),w.jsxs("div",{className:"text-xs text-gray-500",children:[p.item,"  ",new Date(p.paymentDate).toLocaleDateString()]})]},v))})]})]});return w.jsxs(xt,{className:"p-4 space-y-4",children:[w.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[w.jsx(K0,{className:"text-blue-500"}),"Seguimiento de Pagos a Proveedores"]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[w.jsx(l,{title:"Pagos Vencidos",items:r.overdue,total:o.overdue,icon:w.jsx(K0,{className:"w-4 h-4"}),color:{bg:"bg-red-50",text:"text-red-700"}}),w.jsx(l,{title:"Prximos Pagos",items:r.upcoming,total:o.upcoming,icon:w.jsx(nO,{className:"w-4 h-4"}),color:{bg:"bg-yellow-50",text:"text-yellow-700"}}),w.jsx(l,{title:"Pagos Futuros",items:r.future,total:o.future,icon:w.jsx(o8,{className:"w-4 h-4"}),color:{bg:"bg-blue-50",text:"text-blue-700"}}),w.jsx(l,{title:"Pagos Realizados",items:r.paid,total:o.paid,icon:w.jsx(a8,{className:"w-4 h-4"}),color:{bg:"bg-green-50",text:"text-green-700"}})]})]})};function S8e(){const[t,e]=F.useState([]),[n,r]=F.useState({income:0,expense:0}),[s,o]=F.useState(""),[a,l]=F.useState(""),[c,u]=F.useState(""),[d,f]=F.useState(""),[h,p]=F.useState(""),[v,g]=F.useState(!1),b={item:"",category:"",provider:"",estimatedCost:"",realCost:"",paymentDate:"",status:"",type:""},[y,x]=F.useState(b),[E,T]=F.useState(!1),[S,A]=F.useState(null),[C,P]=F.useState(1),[I,R]=F.useState(null),j=5,O=new Intl.NumberFormat(void 0,{style:"currency",currency:"EUR"}),[D,N]=F.useState(null),[U,K]=F.useState({key:null,direction:"asc"}),q=ae=>{const{name:M,value:te}=ae.target;x(Z=>({...Z,[M]:te}))},Y=()=>{g(!1),x(b)},G=ae=>{if(ae.preventDefault(),!y.item||!y.category||!y.provider||!y.realCost||!y.paymentDate||!y.status||!y.type){R("Por favor completa todos los campos");return}R(null);const M={id:Date.now().toString(),item:y.item,category:y.category,provider:y.provider,estimatedCost:parseFloat(y.estimatedCost)||0,realCost:parseFloat(y.realCost)||0,paymentDate:y.paymentDate,status:y.status,type:y.type,amount:parseFloat(y.realCost)||0},te=[...t,M];e(te);const Z=te.filter(W=>W.type==="income").reduce((W,Q)=>W+Q.amount,0),z=te.filter(W=>W.type==="expense").reduce((W,Q)=>W+Q.amount,0);r({income:Z,expense:z}),g(!1),x(b)},J=()=>{const ae=["tem","Categora","Proveedor","Coste Previsto","Coste Real","Fecha de Pago","Estado","Tipo"],M=t.map(z=>[z.item,z.category,z.provider,O.format(z.estimatedCost),O.format(z.realCost),z.paymentDate,z.status,z.type]),te=[ae,...M].map(z=>z.join(";")).join(`
`),Z=new Blob([te],{type:"text/csv;charset=utf-8;"});C9.saveAs(Z,"transacciones.csv"),N({message:"CSV exportado correctamente",type:"success"})},[H,V]=F.useState(0),[ee,se]=F.useState(0);t.filter(ae=>ae.status==="paid").reduce((ae,M)=>ae+M.realCost,0);const oe=t.filter(ae=>ae.status!=="paid").reduce((ae,M)=>ae+M.estimatedCost,0);F.useEffect(()=>{T(!0),DL().then(ae=>{e(ae);const M=ae.filter(Z=>Z.type==="income").reduce((Z,z)=>Z+z.amount,0),te=ae.filter(Z=>Z.type==="expense").reduce((Z,z)=>Z+z.amount,0);r({income:M,expense:te}),A(null)}).catch(ae=>{A(ae.message),N({message:ae.message,type:"error"})}).finally(()=>T(!1))},[]);const xe=()=>{T(!0),DL().then(ae=>{e(ae);const M=ae.filter(Z=>Z.type==="income").reduce((Z,z)=>Z+z.amount,0),te=ae.filter(Z=>Z.type==="expense").reduce((Z,z)=>Z+z.amount,0);r({income:M,expense:te}),A(null)}).catch(ae=>{A(ae.message),N({message:ae.message,type:"error"})}).finally(()=>T(!1))},Se=t.filter(ae=>!(s&&ae.category!==s||a&&ae.provider!==a||c&&ae.status!==c||d&&ae.paymentDate<d||h&&ae.paymentDate>h)),ye=F.useMemo(()=>U.key?[...Se].sort((ae,M)=>{const te=ae[U.key],Z=M[U.key];return te<Z?U.direction==="asc"?-1:1:te>Z?U.direction==="asc"?1:-1:0}):Se,[Se,U]),ie=Math.ceil(ye.length/j),we=ye.slice((C-1)*j,C*j),pe=[{name:"Enero",income:1e3,expense:500},{name:"Febrero",income:1200,expense:600},{name:"Marzo",income:1500,expense:700},{name:"Abril",income:1800,expense:800},{name:"Mayo",income:2e3,expense:900}];n.expense,n.income,F.useMemo(()=>{let ae=n.income-n.expense;return pe.map(M=>(ae+=H+ee/pe.length-M.expense+M.income,{name:M.name,projected:parseFloat(ae.toFixed(2))}))},[pe,n,H,ee]),F.useMemo(()=>Array.from(new Set(t.map(ae=>ae.category))).sort(),[t]),F.useMemo(()=>Array.from(new Set(t.map(ae=>ae.provider))).sort(),[t]);const X={Catering:5e3,Localizacion:3e3,Vestuario:2e3,Decoracion:1500,Fotografia:2500,Musica:1e3,Otros:1e3};return E?w.jsx("div",{className:"flex items-center justify-center h-full",children:w.jsx(Sg,{})}):w.jsxs("div",{className:"bg-white rounded-lg shadow p-6 space-y-6",children:[D&&w.jsx(Lg,{message:D.message,type:D.type,onClose:()=>N(null)}),w.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl font-semibold",children:"Finanzas"}),w.jsx("p",{className:"text-sm text-gray-500",children:"Gestiona tu presupuesto y pagos"})]}),w.jsxs("div",{className:"flex flex-wrap gap-2",children:[w.jsxs(Tn,{variant:"outline",size:"sm",onClick:xe,children:[w.jsx(ape,{className:"w-4 h-4 mr-2"}),"Importar"]}),w.jsxs(Tn,{variant:"outline",size:"sm",onClick:J,children:[w.jsx(Jp,{className:"w-4 h-4 mr-2"}),"Exportar"]}),w.jsxs(Tn,{variant:"primary",onClick:()=>g(!0),children:[w.jsx(em,{className:"w-4 h-4 mr-2"}),"Nuevo Movimiento"]})]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[w.jsxs(xt,{className:"p-4 bg-green-50 border-green-200",children:[w.jsx("p",{className:"text-sm text-green-600",children:"Ingresos"}),w.jsxs("p",{className:"text-2xl font-bold text-green-700",children:["",n.income.toFixed(2)]})]}),w.jsxs(xt,{className:"p-4 bg-red-50 border-red-200",children:[w.jsx("p",{className:"text-sm text-red-600",children:"Gastos"}),w.jsxs("p",{className:"text-2xl font-bold text-red-700",children:["",n.expense.toFixed(2)]})]}),w.jsxs(xt,{className:"p-4 bg-blue-50 border-blue-200",children:[w.jsx("p",{className:"text-sm text-blue-600",children:"Saldo"}),w.jsxs("p",{className:`text-2xl font-bold ${n.income-n.expense>=0?"text-green-700":"text-red-700"}`,children:["",(n.income-n.expense).toFixed(2)]})]}),w.jsxs(xt,{className:"p-4 bg-yellow-50 border-yellow-200",children:[w.jsx("p",{className:"text-sm text-yellow-600",children:"Presupuesto Restante"}),w.jsxs("p",{className:"text-2xl font-bold text-yellow-700",children:["",(ee-n.expense).toFixed(2)]})]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[w.jsxs(xt,{className:"p-4 text-center",children:[w.jsx("p",{className:"text-sm text-gray-500",children:"Aportacin Mensual"}),w.jsxs("p",{className:"text-xl font-bold",children:["",H.toFixed(2)]})]}),w.jsxs(xt,{className:"p-4 text-center",children:[w.jsx("p",{className:"text-sm text-gray-500",children:"Prximos Gastos"}),w.jsxs("p",{className:"text-xl font-bold",children:["",oe.toFixed(2)]})]}),w.jsxs(xt,{className:"p-4 text-center",children:[w.jsx("p",{className:"text-sm text-gray-500",children:"Saldo Total"}),w.jsxs("p",{className:`text-2xl font-bold ${n.income-n.expense>=0?"text-green-700":"text-red-700"}`,children:["",(n.income-n.expense).toFixed(2)]})]})]}),w.jsx(E8e,{transactions:t,budgetLimits:X}),w.jsx(T8e,{transactions:t}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[w.jsx(Y4,{transactions:t,type:"expense"}),w.jsx(Y4,{transactions:t,type:"income"})]}),w.jsxs(xt,{className:"p-4",children:[w.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-4",children:[w.jsx("h3",{className:"text-lg font-semibold",children:"ltimas Transacciones"}),w.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:[w.jsxs("select",{className:"text-sm border rounded px-2 py-1 w-full sm:w-auto",value:c,onChange:ae=>u(ae.target.value),"aria-label":"Filtrar por estado",children:[w.jsx("option",{value:"",children:"Todos los estados"}),w.jsx("option",{value:"pending",children:"Pendiente"}),w.jsx("option",{value:"paid",children:"Pagado"}),w.jsx("option",{value:"overdue",children:"Vencido"})]}),w.jsx("input",{type:"date",className:"text-sm border rounded px-2 py-1 w-full sm:w-auto",value:d,onChange:ae=>f(ae.target.value),placeholder:"Desde","aria-label":"Fecha desde"}),w.jsx("input",{type:"date",className:"text-sm border rounded px-2 py-1 w-full sm:w-auto",value:h,onChange:ae=>p(ae.target.value),placeholder:"Hasta","aria-label":"Fecha hasta"})]})]}),w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"w-full",children:[w.jsx("thead",{className:"bg-gray-50",children:w.jsxs("tr",{className:"text-left text-sm font-medium text-gray-500 uppercase tracking-wider",children:[w.jsx("th",{className:"px-6 py-3",children:"Concepto"}),w.jsx("th",{className:"px-6 py-3",children:"Categora"}),w.jsx("th",{className:"px-6 py-3",children:"Proveedor"}),w.jsx("th",{className:"px-6 py-3 text-right",children:"Presupuestado"}),w.jsx("th",{className:"px-6 py-3 text-right",children:"Real"}),w.jsx("th",{className:"px-6 py-3",children:"Fecha"}),w.jsx("th",{className:"px-6 py-3",children:"Estado"})]})}),w.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:we.length>0?we.map(ae=>w.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsx("div",{className:"font-medium text-gray-900",children:ae.item})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:ae.category})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ae.provider}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-right",children:ae.estimatedCost?O.format(ae.estimatedCost):"-"}),w.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium text-right ${ae.type==="income"?"text-green-600":"text-red-600"}`,children:ae.realCost?O.format(ae.realCost):"-"}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(ae.paymentDate).toLocaleDateString()}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${ae.status==="paid"?"bg-green-100 text-green-800":ae.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:ae.status==="paid"?"Pagado":ae.status==="pending"?"Pendiente":"Vencido"})})]},ae.id)):w.jsx("tr",{children:w.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No hay transacciones que coincidan con los filtros seleccionados"})})})]})}),ie>1&&w.jsxs("div",{className:"mt-4 flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6",children:[w.jsxs("div",{className:"flex flex-1 justify-between sm:hidden",children:[w.jsx("button",{onClick:()=>P(ae=>Math.max(1,ae-1)),disabled:C===1,className:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Anterior"}),w.jsx("button",{onClick:()=>P(ae=>Math.min(ie,ae+1)),disabled:C===ie,className:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Siguiente"})]}),w.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[w.jsx("div",{children:w.jsxs("p",{className:"text-sm text-gray-700",children:["Mostrando ",w.jsx("span",{className:"font-medium",children:(C-1)*j+1})," a"," ",w.jsx("span",{className:"font-medium",children:Math.min(C*j,Se.length)})," ","de ",w.jsx("span",{className:"font-medium",children:Se.length})," resultados"]})}),w.jsx("div",{children:w.jsxs("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:[w.jsxs("button",{onClick:()=>P(ae=>Math.max(1,ae-1)),disabled:C===1,className:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50",children:[w.jsx("span",{className:"sr-only",children:"Anterior"}),w.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:w.jsx("path",{fillRule:"evenodd",d:"M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z",clipRule:"evenodd"})})]}),Array.from({length:Math.min(5,ie)},(ae,M)=>{let te;return ie<=5||C<=3?te=M+1:C>=ie-2?te=ie-4+M:te=C-2+M,w.jsx("button",{onClick:()=>P(te),className:`relative inline-flex items-center px-4 py-2 text-sm font-semibold ${C===te?"z-10 bg-blue-600 text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600":"text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:outline-offset-0"}`,children:te},te)}),w.jsxs("button",{onClick:()=>P(ae=>Math.min(ie,ae+1)),disabled:C===ie,className:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50",children:[w.jsx("span",{className:"sr-only",children:"Siguiente"}),w.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:w.jsx("path",{fillRule:"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z",clipRule:"evenodd"})})]})]})})]})]})]}),w.jsx(Tn,{className:"fixed bottom-6 right-6 bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-full shadow-lg z-50 transition-all duration-200 transform hover:scale-110",onClick:()=>g(!0),"aria-label":"Agregar transaccin",children:w.jsx(em,{className:"w-6 h-6"})}),v&&w.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:w.jsxs(xt,{className:"w-full max-w-lg mx-4 p-6",children:[w.jsx("h2",{id:"modal-title",className:"text-xl font-bold mb-4",children:"Agregar transaccin"}),I&&w.jsx("div",{role:"alert",className:"text-red-600 mb-2",children:I}),w.jsxs("form",{onSubmit:G,"aria-labelledby":"modal-title",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[w.jsx("input",{name:"item",value:y.item,onChange:q,placeholder:"tem",className:"border rounded px-2 py-1 w-full"}),w.jsx("input",{name:"category",value:y.category,onChange:q,placeholder:"Categora",className:"border rounded px-2 py-1 w-full"}),w.jsx("input",{name:"provider",value:y.provider,onChange:q,placeholder:"Proveedor",className:"border rounded px-2 py-1 w-full"}),w.jsx("input",{name:"estimatedCost",value:y.estimatedCost,onChange:q,type:"number",placeholder:"Coste previsto",className:"border rounded px-2 py-1 w-full"}),w.jsx("input",{name:"realCost",value:y.realCost,onChange:q,type:"number",placeholder:"Coste real",className:"border rounded px-2 py-1 w-full"}),w.jsx("input",{name:"paymentDate",value:y.paymentDate,onChange:q,type:"date",placeholder:"Fecha de pago",className:"border rounded px-2 py-1 w-full"}),w.jsxs("select",{name:"type",value:y.type,onChange:q,className:"border rounded px-2 py-1 w-full","aria-label":"Tipo de transaccin",children:[w.jsx("option",{value:"",children:"Tipo"}),w.jsx("option",{value:"income",children:"Ingreso"}),w.jsx("option",{value:"expense",children:"Gasto"})]}),w.jsxs("select",{name:"status",value:y.status,onChange:q,className:"border rounded px-2 py-1 w-full","aria-label":"Estado",children:[w.jsx("option",{value:"",children:"Estado"}),w.jsx("option",{value:"pending",children:"Pendiente"}),w.jsx("option",{value:"paid",children:"Pagado"})]})]}),w.jsxs("div",{className:"flex justify-end gap-2",children:[w.jsx(Tn,{variant:"secondary",onClick:Y,children:"Cancelar"}),w.jsx(Tn,{type:"submit",children:"Agregar"})]})]})]})})]})}function C8e(){const[t,e]=F.useState(null);return w.jsxs("div",{className:"p-6",children:[w.jsxs("div",{className:"flex items-center justify-between mb-6",children:[w.jsx("h1",{className:"text-2xl font-semibold",children:"Ms"}),w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsx(Qw,{size:24,className:"text-gray-600 cursor-pointer"}),w.jsx("img",{src:"https://via.placeholder.com/32",alt:"Avatar",className:"w-8 h-8 rounded-full"})]})]}),w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[w.jsxs("div",{className:"relative",children:[w.jsxs("button",{onClick:()=>e(t==="invitados"?null:"invitados"),className:"bg-white p-4 rounded shadow hover:shadow-md flex flex-col text-left w-full",children:[w.jsx(gS,{size:32,className:"text-blue-600 mb-2"}),w.jsx("h2",{className:"font-semibold mb-1",children:"Invitados"}),w.jsx("p",{className:"text-sm text-gray-600",children:"Gestiona invitados, seating y diseo de invitaciones."})]}),t==="invitados"&&w.jsxs("div",{className:"absolute bg-white border border-gray-200 rounded shadow mt-2 w-full z-10",children:[w.jsx(Gn,{to:"/invitados",className:"block px-4 py-2 hover:bg-gray-100",children:"Gestin de invitados"}),w.jsx(Gn,{to:"/invitados/seating",className:"block px-4 py-2 hover:bg-gray-100",children:"Seating plan"}),w.jsx(Gn,{to:"/invitados/invitaciones",className:"block px-4 py-2 hover:bg-gray-100",children:"Diseo de invitaciones"})]})]}),w.jsxs("div",{className:"relative",children:[w.jsxs("button",{onClick:()=>e(t==="proveedores"?null:"proveedores"),className:"bg-white p-4 rounded shadow hover:shadow-md flex flex-col text-left w-full",children:[w.jsx(Zhe,{size:32,className:"text-blue-600 mb-2"}),w.jsx("h2",{className:"font-semibold mb-1",children:"Proveedores"}),w.jsx("p",{className:"text-sm text-gray-600",children:"Gestiona proveedores y contratos."})]}),t==="proveedores"&&w.jsxs("div",{className:"absolute bg-white border border-gray-200 rounded shadow mt-2 w-full z-10",children:[w.jsx(Gn,{to:"/proveedores",className:"block px-4 py-2 hover:bg-gray-100",children:"Gestin de proveedores"}),w.jsx(Gn,{to:"/proveedores/contratos",className:"block px-4 py-2 hover:bg-gray-100",children:"Contratos"})]})]}),w.jsxs("div",{className:"relative",children:[w.jsxs("button",{onClick:()=>e(t==="protocolo"?null:"protocolo"),className:"bg-white p-4 rounded shadow hover:shadow-md flex flex-col text-left w-full",children:[w.jsx(nO,{size:32,className:"text-blue-600 mb-2"}),w.jsx("h2",{className:"font-semibold mb-1",children:"Protocolo"}),w.jsx("p",{className:"text-sm text-gray-600",children:"Define momentos, timing y checklist de protocolo."})]}),t==="protocolo"&&w.jsxs("div",{className:"absolute bg-white border border-gray-200 rounded shadow mt-2 w-full z-10",children:[w.jsx(Gn,{to:"/momentos-especiales",className:"block px-4 py-2 hover:bg-gray-100",children:"Momentos especiales"}),w.jsx(Gn,{to:"/timing",className:"block px-4 py-2 hover:bg-gray-100",children:"Timing"}),w.jsx(Gn,{to:"/checklist",className:"block px-4 py-2 hover:bg-gray-100",children:"Checklist"}),w.jsx(Gn,{to:"/ayuda-ceremonia",className:"block px-4 py-2 hover:bg-gray-100",children:"Ayuda Ceremonia"})]})]}),w.jsxs("div",{className:"relative",children:[w.jsxs("button",{onClick:()=>e(t==="extras"?null:"extras"),className:"bg-white p-4 rounded shadow hover:shadow-md flex flex-col text-left w-full",children:[w.jsx(rpe,{size:32,className:"text-blue-600 mb-2"}),w.jsx("h2",{className:"font-semibold mb-1",children:"Extras"}),w.jsx("p",{className:"text-sm text-gray-600",children:"Diseo web e ideas"})]}),t==="extras"&&w.jsxs("div",{className:"absolute bg-white border border-gray-200 rounded shadow mt-2 w-full z-10",children:[w.jsx(Gn,{to:"/diseno-web",className:"block px-4 py-2 hover:bg-gray-100",children:"Diseo Web"}),w.jsx(Gn,{to:"/ideas",className:"block px-4 py-2 hover:bg-gray-100",children:"Ideas"})]})]}),w.jsxs(Gn,{to:"/perfil",className:"bg-white p-4 rounded shadow hover:shadow-md flex flex-col",children:[w.jsx(tm,{size:32,className:"text-blue-600 mb-2"}),w.jsx("h2",{className:"font-semibold mb-1",children:"Perfil"}),w.jsx("p",{className:"text-sm text-gray-600",children:"Configura tu cuenta, roles y suscripciones."})]})]}),w.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded",children:w.jsx(mw,{})})]})}function P8e(){const t=[{id:1,name:"Ana Garca",email:"ana@example.com",phone:"123456789",rsvp:"S",guests:1,table:5},{id:2,name:"Luis Martnez",email:"luis@example.com",phone:"987654321",rsvp:"Pendiente",guests:2,table:""}],[e,n]=F.useState(t),[r,s]=F.useState(""),[o,a]=F.useState(""),[l,c]=F.useState(""),[u,d]=F.useState([]),f=["Pendiente","S","No"],h=A=>{const C=f.indexOf(A);return f[(C+1)%f.length]},p=()=>{const A=u.map(C=>{var P;return(P=e.find(I=>I.id===C))==null?void 0:P.email}).filter(Boolean).join(",");A&&window.open("mailto:"+A+"?subject=Recordatorio boda&body=Hola! Te esperamos en nuestra boda.")},[v,g]=F.useState(!1),b={name:"",email:"",phone:"",rsvp:"Pendiente",guests:1,table:""},[y,x]=F.useState(b),E=()=>{const A=e.length?Math.max(...e.map(C=>C.id))+1:1;n(C=>[...C,{...y,id:A}]),x(b),g(!1)},T=e.filter(A=>(A.name.toLowerCase().includes(r.toLowerCase())||A.email.toLowerCase().includes(r.toLowerCase()))&&(o?A.rsvp===o:!0)&&(l?String(A.table)===l:!0)),S=A=>{d(C=>C.includes(A)?C.filter(P=>P!==A):[...C,A])};return w.jsxs("div",{className:"p-6 space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("h1",{className:"text-2xl font-semibold",children:"Gestin de Invitados"}),w.jsxs("button",{onClick:()=>g(!0),className:"bg-blue-600 text-white px-4 py-2 rounded flex items-center",children:[w.jsx(em,{size:16,className:"mr-2"}),"Aadir Invitado"]})]}),w.jsxs("div",{className:"flex flex-wrap gap-2",children:[w.jsxs("div",{className:"flex items-center border rounded px-2 py-1",children:[w.jsx(Qw,{size:16,className:"mr-2 text-gray-600"}),w.jsx("input",{type:"text",placeholder:"Buscar por nombre o email",value:r,onChange:A=>s(A.target.value),className:"outline-none"})]}),w.jsxs("select",{value:o,onChange:A=>a(A.target.value),className:"border rounded px-2 py-1",children:[w.jsx("option",{value:"",children:"RSVP Todos"}),w.jsx("option",{value:"S",children:"S"}),w.jsx("option",{value:"No",children:"No"}),w.jsx("option",{value:"Pendiente",children:"Pendiente"})]}),w.jsx("input",{type:"number",placeholder:"Mesa",value:l,onChange:A=>c(A.target.value),className:"border rounded px-2 py-1"}),w.jsxs("button",{className:"bg-gray-200 px-3 py-1 rounded flex items-center",children:[w.jsx(mS,{size:16,className:"mr-1"}),"Limpiar"]})]}),u.length>0&&w.jsxs("div",{className:"bg-gray-100 p-2 rounded flex gap-2",children:[w.jsxs("button",{onClick:p,className:"bg-green-600 text-white px-3 py-1 rounded",children:["Enviar recordatorio (",u.length,")"]}),w.jsxs("select",{className:"border rounded px-2 py-1",children:[w.jsx("option",{children:"Asignar mesa"}),[...new Set(T.map(A=>A.table))].map(A=>w.jsxs("option",{value:A,children:["Mesa ",A]},A))]})]}),w.jsx("div",{className:"hidden md:block overflow-auto",children:w.jsxs("table",{className:"w-full table-auto",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"bg-gray-50",children:[w.jsx("th",{className:"p-2",children:w.jsx("input",{type:"checkbox"})}),w.jsx("th",{className:"p-2",children:"Nombre completo"}),w.jsx("th",{className:"p-2",children:"Email"}),w.jsx("th",{className:"p-2",children:"Telfono"}),w.jsx("th",{className:"p-2",children:"Estado RSVP"}),w.jsx("th",{className:"p-2",children:"N acompaantes"}),w.jsx("th",{className:"p-2",children:"Mesa"}),w.jsx("th",{className:"p-2",children:"Acciones"})]})}),w.jsx("tbody",{children:T.map(A=>w.jsxs("tr",{className:"border-b",children:[w.jsx("td",{className:"p-2",children:w.jsx("input",{type:"checkbox",checked:u.includes(A.id),onChange:()=>S(A.id)})}),w.jsxs("td",{className:"p-2 flex items-center",children:[w.jsx(tm,{size:20,className:"mr-2 text-gray-600"}),A.name]}),w.jsx("td",{className:"p-2",children:A.email}),w.jsx("td",{className:"p-2",children:A.phone}),w.jsx("td",{className:"p-2 cursor-pointer",onClick:()=>n(C=>C.map(P=>P.id===A.id?{...P,rsvp:h(P.rsvp)}:P)),children:A.rsvp}),w.jsx("td",{className:"p-2 cursor-pointer",children:A.guests}),w.jsx("td",{className:"p-2",children:A.table||"-"}),w.jsxs("td",{className:"p-2 flex gap-2",children:[w.jsx(c8,{size:16,className:"cursor-pointer text-blue-600"}),w.jsx(u8,{size:16,className:"cursor-pointer text-red-600"}),w.jsx(ipe,{size:16,className:"cursor-pointer text-green-600",onClick:()=>window.open("mailto:"+A.email+"?subject=Recordatorio boda&body=Hola "+A.name+", te esperamos en nuestra boda!")})]})]},A.id))})]})}),w.jsx("div",{className:"block md:hidden space-y-4",children:T.map(A=>w.jsx("div",{className:"bg-white p-4 rounded shadow",children:w.jsxs("div",{className:"flex justify-between items-center mb-2",children:[w.jsxs("div",{className:"flex items-center",children:[w.jsx(tm,{size:20,className:"mr-2 text-gray-600"}),w.jsxs("div",{children:[w.jsx("p",{className:"font-semibold",children:A.name}),w.jsx("p",{className:"text-sm text-gray-600",children:A.email})]})]}),w.jsx("button",{onClick:()=>S(A.id),className:"text-gray-600",children:"Acciones"})]})},A.id))}),v&&w.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:w.jsxs("div",{className:"bg-white p-4 rounded shadow w-96",children:[w.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Aadir Invitado"}),w.jsxs("form",{onSubmit:A=>{A.preventDefault(),E()},className:"space-y-3",children:[w.jsx("input",{type:"text",placeholder:"Nombre completo",value:y.name,onChange:A=>x({...y,name:A.target.value}),className:"w-full border rounded px-2 py-1",required:!0}),w.jsx("input",{type:"email",placeholder:"Email",value:y.email,onChange:A=>x({...y,email:A.target.value}),className:"w-full border rounded px-2 py-1",required:!0}),w.jsx("input",{type:"tel",placeholder:"Telfono",value:y.phone,onChange:A=>x({...y,phone:A.target.value}),className:"w-full border rounded px-2 py-1"}),w.jsxs("select",{value:y.rsvp,onChange:A=>x({...y,rsvp:A.target.value}),className:"w-full border rounded px-2 py-1",children:[w.jsx("option",{value:"Pendiente",children:"Pendiente"}),w.jsx("option",{value:"S",children:"S"}),w.jsx("option",{value:"No",children:"No"})]}),w.jsx("input",{type:"number",min:"1",placeholder:"Acompaantes",value:y.guests,onChange:A=>x({...y,guests:parseInt(A.target.value,10)||0}),className:"w-full border rounded px-2 py-1"}),w.jsx("input",{type:"text",placeholder:"Mesa",value:y.table,onChange:A=>x({...y,table:A.target.value}),className:"w-full border rounded px-2 py-1"}),w.jsxs("div",{className:"flex justify-end space-x-2 mt-2",children:[w.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 bg-gray-300 rounded",children:"Cancelar"}),w.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Guardar"})]})]})]})})]})}function A8e(){const t=[{id:1,name:"Eventos Catering",service:"Catering",contact:"Luis Prez",email:"luis@catering.com",phone:"555-1234",status:"Contactado",date:"2025-06-10",rating:0,ratingCount:0},{id:2,name:"Flores y Diseo",service:"Flores",contact:"Ana Gmez",email:"ana@flores.com",phone:"555-5678",status:"Confirmado",date:"2025-06-12",rating:0,ratingCount:0}],[e,n]=F.useState(t),[r,s]=F.useState(""),[o,a]=F.useState(""),[l,c]=F.useState(""),[u,d]=F.useState(""),[f,h]=F.useState(""),[p,v]=F.useState(""),[g,b]=F.useState(!1),[y,x]=F.useState(null),[E,T]=F.useState([]),[S,A]=F.useState(!1),[C,P]=F.useState(!1),[I,R]=F.useState(null),[j,O]=F.useState([]),[D,N]=F.useState(!1),[U,K]=F.useState(null),[q,Y]=F.useState(""),[G,J]=F.useState(""),H={name:"",service:"",contact:"",email:"",phone:"",status:"",date:""},[V,ee]=F.useState(H),se=X=>{X.preventDefault();const ae=e.length?Math.max(...e.map(M=>M.id))+1:1;n(M=>[...M,{id:ae,...V,rating:0,ratingCount:0}]),ee(H),A(!1),x({message:"Proveedor agregado",type:"success"})},oe=X=>{K(X),Y(""),J(""),N(!0)},xe=()=>{if(U&&q&&G){const X=new Date(q+"T"+G);O(ae=>[...ae,{providerId:U.id,datetime:X}]),N(!1)}},Se=(X,ae)=>{n(M=>M.map(te=>te.id===X?{...te,ratingCount:te.ratingCount+1,rating:(te.rating*te.ratingCount+ae)/(te.ratingCount+1)}:te))},ye=e.filter(X=>(X.name.toLowerCase().includes(r.toLowerCase())||X.service.toLowerCase().includes(r.toLowerCase()))&&(o?X.service===o:!0)&&(l?X.status===l:!0)&&(u?X.date>=u:!0)&&(f?X.date<=f:!0)),ie=X=>{T(ae=>ae.includes(X)?ae.filter(M=>M!==X):[...ae,X])},we=()=>{s(""),v(""),a(""),c(""),d(""),h("")},pe=X=>{R(X),P(!0)};return w.jsxs(xt,{className:"p-6 space-y-6",children:[y&&w.jsx(Lg,{message:y.message,type:y.type,onClose:()=>x(null)}),w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("h1",{className:"text-2xl font-semibold",children:"Gestin de Proveedores"}),w.jsxs("button",{onClick:()=>A(!0),className:"bg-blue-600 text-white px-4 py-2 rounded flex items-center",children:[w.jsx(em,{size:16,className:"mr-2"})," Aadir Proveedor"]}),w.jsxs("button",{className:"bg-gray-200 px-4 py-2 rounded flex items-center",children:[w.jsx(mS,{size:16,className:"mr-2"})," Importar CSV"]})]}),w.jsxs("div",{className:"flex flex-wrap gap-2",children:[w.jsxs("div",{className:"flex items-center border rounded px-2 py-1",children:[w.jsx(Qw,{size:16,className:"mr-2 text-gray-600"}),w.jsx("input",{type:"text",placeholder:"Buscar nombre o servicio",value:r,onChange:X=>s(X.target.value),className:"outline-none"})]}),w.jsxs("div",{className:"flex items-center border rounded px-2 py-1",children:[w.jsx(l8,{size:16,className:"mr-2 text-gray-600"}),g&&w.jsx(Sg,{className:"ml-2"}),w.jsx("input",{type:"text",placeholder:"Buscar IA...",value:p,onChange:X=>v(X.target.value),className:"outline-none"})]}),w.jsxs("select",{value:o,onChange:X=>a(X.target.value),className:"border rounded px-2 py-1",children:[w.jsx("option",{value:"",children:"Todos los servicios"}),w.jsx("option",{value:"Catering",children:"Catering"}),w.jsx("option",{value:"Flores",children:"Flores"}),w.jsx("option",{value:"Msica",children:"Msica"}),w.jsx("option",{value:"Fotografa",children:"Fotografa"})]}),w.jsxs("select",{value:l,onChange:X=>c(X.target.value),className:"border rounded px-2 py-1",children:[w.jsx("option",{value:"",children:"Todos los estados"}),w.jsx("option",{value:"Contactado",children:"Contactado"}),w.jsx("option",{value:"Confirmado",children:"Confirmado"}),w.jsx("option",{value:"Pendiente",children:"Pendiente"})]}),w.jsx("input",{type:"date",value:u,onChange:X=>d(X.target.value),className:"border rounded px-2 py-1"}),w.jsx("input",{type:"date",value:f,onChange:X=>h(X.target.value),className:"border rounded px-2 py-1"}),w.jsxs("button",{onClick:we,className:"bg-gray-200 px-3 py-1 rounded flex items-center",children:[w.jsx(mS,{size:16,className:"mr-1"})," Limpiar"]})]}),E.length>0&&w.jsxs("div",{className:"bg-gray-100 p-2 rounded flex gap-2",children:[w.jsxs("button",{className:"bg-green-600 text-white px-3 py-1 rounded",children:["Enviar comunicaciones (",E.length,")"]}),w.jsxs("select",{className:"border rounded px-2 py-1",children:[w.jsx("option",{value:"",children:"Cambiar estado..."}),w.jsx("option",{value:"Contactado",children:"Contactado"}),w.jsx("option",{value:"Confirmado",children:"Confirmado"}),w.jsx("option",{value:"Pendiente",children:"Pendiente"})]})]}),w.jsx("div",{className:"hidden md:block overflow-auto",children:w.jsxs("table",{className:"w-full table-auto",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"bg-gray-50",children:[w.jsx("th",{className:"p-2",children:w.jsx("input",{type:"checkbox"})}),w.jsx("th",{className:"p-2",children:"Nombre"}),w.jsx("th",{className:"p-2",children:"Servicio"}),w.jsx("th",{className:"p-2",children:"Contacto"}),w.jsx("th",{className:"p-2",children:"Email"}),w.jsx("th",{className:"p-2",children:"Telfono"}),w.jsx("th",{className:"p-2",children:"Estado"}),w.jsx("th",{className:"p-2",children:"Fecha"}),w.jsx("th",{className:"p-2",children:"Valoracin"}),w.jsx("th",{className:"p-2",children:"Acciones"})]})}),w.jsx("tbody",{children:ye.map(X=>w.jsxs("tr",{className:"border-b",children:[w.jsx("td",{className:"p-2",children:w.jsx("input",{type:"checkbox",checked:E.includes(X.id),onChange:()=>ie(X.id)})}),w.jsx("td",{className:"p-2",children:X.name}),w.jsx("td",{className:"p-2",children:X.service}),w.jsx("td",{className:"p-2",children:X.contact}),w.jsx("td",{className:"p-2",children:X.email}),w.jsx("td",{className:"p-2",children:X.phone}),w.jsx("td",{className:"p-2 cursor-pointer",children:X.status}),w.jsx("td",{className:"p-2 cursor-pointer",children:X.date}),w.jsxs("td",{className:"p-2",children:[[1,2,3,4,5].map(ae=>w.jsx(ope,{size:16,className:"cursor-pointer",color:ae<=Math.round(X.rating)?"#facc15":"#e5e7eb",onClick:()=>Se(X.id,ae)},ae)),w.jsxs("span",{className:"text-sm text-gray-600 ml-1",children:["(",X.ratingCount,")"]})]}),w.jsxs("td",{className:"p-2 flex gap-2",children:[w.jsx(Xw,{size:16,className:"cursor-pointer text-gray-600",onClick:()=>pe(X)}),w.jsx(c8,{size:16,className:"cursor-pointer text-blue-600"}),w.jsx(u8,{size:16,className:"cursor-pointer text-red-600",onClick:()=>{n(ae=>ae.filter(M=>M.id!==X.id)),x({message:"Proveedor eliminado",type:"success"})}}),w.jsx(pS,{size:16,className:"cursor-pointer text-green-600",onClick:()=>oe(X)}),w.jsx("span",{className:"text-sm text-gray-600 ml-1",children:j.filter(ae=>ae.providerId===X.id).length}),w.jsx(Jp,{size:16,className:"cursor-pointer text-purple-600"})]})]},X.id))})]})}),w.jsx("div",{className:"block md:hidden space-y-4",children:ye.map(X=>w.jsx("div",{className:"bg-white p-4 rounded shadow",children:w.jsxs("div",{className:"flex justify-between items-center mb-2",children:[w.jsxs("div",{children:[w.jsx("p",{className:"font-semibold text-lg",children:X.name}),w.jsxs("p",{className:"text-sm text-gray-600",children:[X.service," - ",X.status]}),w.jsx("p",{className:"text-sm text-gray-600",children:X.contact})]}),w.jsx("button",{onClick:()=>ie(X.id),className:"text-gray-600",children:"Acciones"})]})},X.id))}),S&&w.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:w.jsxs("div",{className:"bg-white p-4 rounded shadow w-96",children:[w.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Aadir Proveedor"}),w.jsxs("form",{onSubmit:se,className:"space-y-3",children:[w.jsx("input",{type:"text",placeholder:"Nombre",value:V.name,onChange:X=>ee({...V,name:X.target.value}),className:"w-full border rounded px-2 py-1",required:!0}),w.jsx("input",{type:"text",placeholder:"Servicio",value:V.service,onChange:X=>ee({...V,service:X.target.value}),className:"w-full border rounded px-2 py-1",required:!0}),w.jsx("input",{type:"text",placeholder:"Contacto",value:V.contact,onChange:X=>ee({...V,contact:X.target.value}),className:"w-full border rounded px-2 py-1"}),w.jsx("input",{type:"email",placeholder:"Email",value:V.email,onChange:X=>ee({...V,email:X.target.value}),className:"w-full border rounded px-2 py-1"}),w.jsx("input",{type:"tel",placeholder:"Telfono",value:V.phone,onChange:X=>ee({...V,phone:X.target.value}),className:"w-full border rounded px-2 py-1"}),w.jsxs("select",{value:V.status,onChange:X=>ee({...V,status:X.target.value}),className:"w-full border rounded px-2 py-1",children:[w.jsx("option",{value:"",children:"Seleccionar estado"}),w.jsx("option",{value:"Contactado",children:"Contactado"}),w.jsx("option",{value:"Confirmado",children:"Confirmado"}),w.jsx("option",{value:"Pendiente",children:"Pendiente"})]}),w.jsx("input",{type:"date",value:V.date,onChange:X=>ee({...V,date:X.target.value}),className:"w-full border rounded px-2 py-1"}),w.jsxs("div",{className:"flex justify-end gap-2",children:[w.jsx("button",{type:"button",onClick:()=>A(!1),className:"px-4 py-2 bg-gray-200 rounded",children:"Cancelar"}),w.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Guardar"})]})]})]})}),C&&w.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:w.jsxs("div",{className:"bg-white p-4 rounded shadow w-96",children:[w.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Detalle del Proveedor"}),w.jsxs("p",{children:[w.jsx("strong",{children:"Nombre:"})," ",I.name]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Servicio:"})," ",I.service]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Contacto:"})," ",I.contact]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Email:"})," ",I.email]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Telfono:"})," ",I.phone]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Estado:"})," ",I.status]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Fecha:"})," ",I.date]}),w.jsx("div",{className:"flex justify-end mt-4",children:w.jsx("button",{onClick:()=>P(!1),className:"px-4 py-2 bg-red-600 text-white rounded",children:"Cerrar"})})]})}),D&&w.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:w.jsxs("div",{className:"bg-white p-4 rounded shadow w-96",children:[w.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["Reservar con ",U==null?void 0:U.name]}),w.jsx("input",{type:"date",value:q,onChange:X=>Y(X.target.value),className:"w-full border rounded px-2 py-1 mb-2"}),w.jsx("input",{type:"time",value:G,onChange:X=>J(X.target.value),className:"w-full border rounded px-2 py-1 mb-2"}),w.jsxs("div",{className:"flex justify-end gap-2",children:[w.jsx("button",{type:"button",onClick:()=>N(!1),className:"px-4 py-2 bg-gray-200 rounded",children:"Cancelar"}),w.jsx("button",{type:"button",onClick:xe,className:"px-4 py-2 bg-green-600 text-white rounded",children:"Reservar"})]})]})})]})}const bs=L.forwardRef(({className:t="",label:e,error:n,id:r,...s},o)=>{const a=r||`input-${Math.random().toString(36).substr(2,9)}`;return w.jsxs("div",{className:`w-full ${t}`,children:[e&&w.jsx("label",{htmlFor:a,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:e}),w.jsx("input",{id:a,ref:o,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white ${n?"border-red-500":"border-gray-300"}`,...s}),n&&w.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:n})]})});bs.displayName="Input";function I8e(){const t=Rc(),{user:e,updateProfile:n,sendVerificationEmail:r,sendPasswordReset:s,updateUserEmail:o,updateUserPassword:a,reauthenticate:l}=il(),[c,u]=F.useState("profile"),[d,f]=F.useState({displayName:"",email:"",weddingName:"",logoUrl:"",partnerName:"",partnerEmail:"",currentPassword:"",newPassword:"",confirmPassword:""});F.useState(!1);const[h,p]=F.useState(!1);F.useEffect(()=>{e&&f(E=>({...E,displayName:e.displayName||"",email:e.email||"",weddingName:e.weddingName||"",logoUrl:e.logoUrl||"",partnerName:e.partnerName||"",partnerEmail:e.partnerEmail||""}))},[e]);const v=E=>{const{name:T,value:S}=E.target;f(A=>({...A,[T]:S}))},g=async E=>{E.preventDefault(),p(!0);try{await n({displayName:d.displayName,weddingName:d.weddingName,logoUrl:d.logoUrl,partnerName:d.partnerName,partnerEmail:d.partnerEmail}),Ye.success("Perfil actualizado correctamente")}catch(T){Ye.error(`Error al actualizar el perfil: ${T.message}`)}finally{p(!1)}},b=async E=>{if(E.preventDefault(),d.newPassword!==d.confirmPassword){Ye.error("Las contraseas no coinciden");return}p(!0);try{await a(d.newPassword),Ye.success("Contrasea actualizada correctamente"),f(T=>({...T,currentPassword:"",newPassword:"",confirmPassword:""}))}catch(T){Ye.error(`Error al actualizar la contrasea: ${T.message}`)}finally{p(!1)}},y=async()=>{try{await r(),Ye.success("Correo de verificacin enviado. Por favor revisa tu bandeja de entrada.")}catch(E){Ye.error(`Error al enviar el correo de verificacin: ${E.message}`)}},x=async()=>{if(!d.email){Ye.error("Por favor ingresa tu correo electrnico");return}try{await s(d.email),Ye.success("Se ha enviado un enlace para restablecer tu contrasea a tu correo electrnico")}catch(E){Ye.error(`Error al enviar el enlace de restablecimiento: ${E.message}`)}};return e?w.jsxs("div",{className:"container mx-auto px-4 py-8",children:[w.jsx("h1",{className:"text-3xl font-bold text-center mb-8",children:"Configuracin de Cuenta"}),w.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[w.jsx("div",{className:"w-full md:w-64 flex-shrink-0",children:w.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:w.jsxs("div",{className:"space-y-1",children:[w.jsx("button",{onClick:()=>u("profile"),className:`w-full text-left px-4 py-2 rounded-md ${c==="profile"?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-200":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Perfil"}),w.jsx("button",{onClick:()=>u("password"),className:`w-full text-left px-4 py-2 rounded-md ${c==="password"?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-200":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Contrasea"}),w.jsx("button",{onClick:()=>u("email"),className:`w-full text-left px-4 py-2 rounded-md ${c==="email"?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-200":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Correo Electrnico"})]})})}),w.jsxs("div",{className:"flex-1",children:[c==="profile"&&w.jsxs(xt,{className:"p-6",children:[w.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Informacin del Perfil"}),w.jsx("form",{onSubmit:g,children:w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nombre de Usuario"}),w.jsx(bs,{type:"text",name:"displayName",value:d.displayName,onChange:v,required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nombre de la Boda"}),w.jsx(bs,{type:"text",name:"weddingName",value:d.weddingName,onChange:v})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"URL del Logo"}),w.jsx(bs,{type:"url",name:"logoUrl",value:d.logoUrl,onChange:v,placeholder:"https://ejemplo.com/logo.png"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nombre de la Pareja"}),w.jsx(bs,{type:"text",name:"partnerName",value:d.partnerName,onChange:v})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Correo de la Pareja"}),w.jsx(bs,{type:"email",name:"partnerEmail",value:d.partnerEmail,onChange:v})]}),w.jsx("div",{className:"pt-4",children:w.jsx(Tn,{type:"submit",disabled:h,children:h?"Guardando...":"Guardar Cambios"})})]})})]}),c==="password"&&w.jsxs(xt,{className:"p-6",children:[w.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Cambiar Contrasea"}),w.jsx("form",{onSubmit:b,children:w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Contrasea Actual"}),w.jsx(bs,{type:"password",name:"currentPassword",value:d.currentPassword,onChange:v,required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nueva Contrasea"}),w.jsx(bs,{type:"password",name:"newPassword",value:d.newPassword,onChange:v,required:!0,minLength:6})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirmar Nueva Contrasea"}),w.jsx(bs,{type:"password",name:"confirmPassword",value:d.confirmPassword,onChange:v,required:!0,minLength:6})]}),w.jsx("div",{className:"pt-4",children:w.jsx(Tn,{type:"submit",disabled:h,children:h?"Actualizando...":"Actualizar Contrasea"})})]})})]}),c==="email"&&w.jsxs(xt,{className:"p-6",children:[w.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Correo Electrnico"}),w.jsxs("div",{className:"space-y-6",children:[w.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"font-medium",children:"Estado de Verificacin"}),w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:e.emailVerified?"Tu correo electrnico ha sido verificado.":"Tu correo electrnico no ha sido verificado."})]}),!e.emailVerified&&w.jsx(Tn,{onClick:y,variant:"outline",disabled:h,children:"Verificar Correo"})]})}),w.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[w.jsx("h3",{className:"font-medium mb-2",children:"Restablecer Contrasea"}),w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3",children:"Olvidaste tu contrasea? Te enviaremos un enlace para restablecerla a tu correo electrnico."}),w.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[w.jsx(bs,{type:"email",value:d.email,onChange:E=>f(T=>({...T,email:E.target.value})),placeholder:"tu@email.com",className:"flex-1"}),w.jsx(Tn,{onClick:x,variant:"outline",disabled:h,children:"Enviar Enlace"})]})]})]})]})]})]})]}):(t("/login"),null)}const iG=F.createContext({dragDropManager:void 0});function vi(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var X4=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),cE=function(){return Math.random().toString(36).substring(7).split("").join(".")},Q4={INIT:"@@redux/INIT"+cE(),REPLACE:"@@redux/REPLACE"+cE(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+cE()}};function O8e(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function sG(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(vi(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(vi(1));return n(sG)(t,e)}if(typeof t!="function")throw new Error(vi(2));var s=t,o=e,a=[],l=a,c=!1;function u(){l===a&&(l=a.slice())}function d(){if(c)throw new Error(vi(3));return o}function f(g){if(typeof g!="function")throw new Error(vi(4));if(c)throw new Error(vi(5));var b=!0;return u(),l.push(g),function(){if(b){if(c)throw new Error(vi(6));b=!1,u();var x=l.indexOf(g);l.splice(x,1),a=null}}}function h(g){if(!O8e(g))throw new Error(vi(7));if(typeof g.type>"u")throw new Error(vi(8));if(c)throw new Error(vi(9));try{c=!0,o=s(o,g)}finally{c=!1}for(var b=a=l,y=0;y<b.length;y++){var x=b[y];x()}return g}function p(g){if(typeof g!="function")throw new Error(vi(10));s=g,h({type:Q4.REPLACE})}function v(){var g,b=f;return g={subscribe:function(x){if(typeof x!="object"||x===null)throw new Error(vi(11));function E(){x.next&&x.next(d())}E();var T=b(E);return{unsubscribe:T}}},g[X4]=function(){return this},g}return h({type:Q4.INIT}),r={dispatch:h,subscribe:f,getState:d,replaceReducer:p},r[X4]=v,r}function ze(t,e,...n){if(k8e()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let r;if(e===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let s=0;r=new Error(e.replace(/%s/g,function(){return n[s++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function k8e(){return typeof process<"u"&&process.env.NODE_ENV==="production"}function N8e(t,e,n){return e.split(".").reduce((r,s)=>r&&r[s]?r[s]:n||null,t)}function D8e(t,e){return t.filter(n=>n!==e)}function oG(t){return typeof t=="object"}function R8e(t,e){const n=new Map,r=o=>{n.set(o,n.has(o)?n.get(o)+1:1)};t.forEach(r),e.forEach(r);const s=[];return n.forEach((o,a)=>{o===1&&s.push(a)}),s}function M8e(t,e){return t.filter(n=>e.indexOf(n)>-1)}const Lk="dnd-core/INIT_COORDS",ax="dnd-core/BEGIN_DRAG",$k="dnd-core/PUBLISH_DRAG_SOURCE",lx="dnd-core/HOVER",cx="dnd-core/DROP",ux="dnd-core/END_DRAG";function Z4(t,e){return{type:Lk,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const j8e={type:Lk,payload:{clientOffset:null,sourceClientOffset:null}};function L8e(t){return function(n=[],r={publishSource:!0}){const{publishSource:s=!0,clientOffset:o,getSourceClientOffset:a}=r,l=t.getMonitor(),c=t.getRegistry();t.dispatch(Z4(o)),$8e(n,l,c);const u=B8e(n,l);if(u==null){t.dispatch(j8e);return}let d=null;if(o){if(!a)throw new Error("getSourceClientOffset must be defined");F8e(a),d=a(u)}t.dispatch(Z4(o,d));const h=c.getSource(u).beginDrag(l,u);if(h==null)return;V8e(h),c.pinSource(u);const p=c.getSourceType(u);return{type:ax,payload:{itemType:p,item:h,sourceId:u,clientOffset:o||null,sourceClientOffset:d||null,isSourcePublic:!!s}}}}function $8e(t,e,n){ze(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(r){ze(n.getSource(r),"Expected sourceIds to be registered.")})}function F8e(t){ze(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function V8e(t){ze(oG(t),"Item must be an object.")}function B8e(t,e){let n=null;for(let r=t.length-1;r>=0;r--)if(e.canDragSource(t[r])){n=t[r];break}return n}function U8e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z8e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){U8e(t,s,n[s])})}return t}function W8e(t){return function(n={}){const r=t.getMonitor(),s=t.getRegistry();H8e(r),K8e(r).forEach((a,l)=>{const c=q8e(a,l,s,r),u={type:cx,payload:{dropResult:z8e({},n,c)}};t.dispatch(u)})}}function H8e(t){ze(t.isDragging(),"Cannot call drop while not dragging."),ze(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function q8e(t,e,n,r){const s=n.getTarget(t);let o=s?s.drop(r,t):void 0;return G8e(o),typeof o>"u"&&(o=e===0?{}:r.getDropResult()),o}function G8e(t){ze(typeof t>"u"||oG(t),"Drop result must either be an object or undefined.")}function K8e(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function Y8e(t){return function(){const n=t.getMonitor(),r=t.getRegistry();X8e(n);const s=n.getSourceId();return s!=null&&(r.getSource(s,!0).endDrag(n,s),r.unpinSource()),{type:ux}}}function X8e(t){ze(t.isDragging(),"Cannot call endDrag while not dragging.")}function JC(t,e){return e===null?t===null:Array.isArray(t)?t.some(n=>n===e):t===e}function Q8e(t){return function(n,{clientOffset:r}={}){Z8e(n);const s=n.slice(0),o=t.getMonitor(),a=t.getRegistry(),l=o.getItemType();return eHe(s,a,l),J8e(s,o,a),tHe(s,o,a),{type:lx,payload:{targetIds:s,clientOffset:r||null}}}}function Z8e(t){ze(Array.isArray(t),"Expected targetIds to be an array.")}function J8e(t,e,n){ze(e.isDragging(),"Cannot call hover while not dragging."),ze(!e.didDrop(),"Cannot call hover after drop.");for(let r=0;r<t.length;r++){const s=t[r];ze(t.lastIndexOf(s)===r,"Expected targetIds to be unique in the passed array.");const o=n.getTarget(s);ze(o,"Expected targetIds to be registered.")}}function eHe(t,e,n){for(let r=t.length-1;r>=0;r--){const s=t[r],o=e.getTargetType(s);JC(o,n)||t.splice(r,1)}}function tHe(t,e,n){t.forEach(function(r){n.getTarget(r).hover(e,r)})}function nHe(t){return function(){if(t.getMonitor().isDragging())return{type:$k}}}function rHe(t){return{beginDrag:L8e(t),publishDragSource:nHe(t),hover:Q8e(t),drop:W8e(t),endDrag:Y8e(t)}}class iHe{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:n}=this.store;function r(o){return(...a)=>{const l=o.apply(e,a);typeof l<"u"&&n(l)}}const s=rHe(this);return Object.keys(s).reduce((o,a)=>{const l=s[a];return o[a]=r(l),o},{})}dispatch(e){this.store.dispatch(e)}constructor(e,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=n,e.subscribe(this.handleRefCountChange)}}function sHe(t,e){return{x:t.x+e.x,y:t.y+e.y}}function aG(t,e){return{x:t.x-e.x,y:t.y-e.y}}function oHe(t){const{clientOffset:e,initialClientOffset:n,initialSourceClientOffset:r}=t;return!e||!n||!r?null:aG(sHe(e,r),n)}function aHe(t){const{clientOffset:e,initialClientOffset:n}=t;return!e||!n?null:aG(e,n)}const up=[],Fk=[];up.__IS_NONE__=!0;Fk.__IS_ALL__=!0;function lHe(t,e){return t===up?!1:t===Fk||typeof e>"u"?!0:M8e(e,t).length>0}class cHe{subscribeToStateChange(e,n={}){const{handlerIds:r}=n;ze(typeof e=="function","listener must be a function."),ze(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let s=this.store.getState().stateId;const o=()=>{const a=this.store.getState(),l=a.stateId;try{l===s||l===s+1&&!lHe(a.dirtyHandlerIds,r)||e()}finally{s=l}};return this.store.subscribe(o)}subscribeToOffsetChange(e){ze(typeof e=="function","listener must be a function.");let n=this.store.getState().dragOffset;const r=()=>{const s=this.store.getState().dragOffset;s!==n&&(n=s,e())};return this.store.subscribe(r)}canDragSource(e){if(!e)return!1;const n=this.registry.getSource(e);return ze(n,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:n.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const n=this.registry.getTarget(e);if(ze(n,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(e),s=this.getItemType();return JC(r,s)&&n.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const n=this.registry.getSource(e,!0);if(ze(n,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(e),s=this.getItemType();return r!==s?!1:n.isDragging(this,e)}isOverTarget(e,n={shallow:!1}){if(!e)return!1;const{shallow:r}=n;if(!this.isDragging())return!1;const s=this.registry.getTargetType(e),o=this.getItemType();if(o&&!JC(s,o))return!1;const a=this.getTargetIds();if(!a.length)return!1;const l=a.indexOf(e);return r?l===a.length-1:l>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return oHe(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return aHe(this.store.getState().dragOffset)}constructor(e,n){this.store=e,this.registry=n}}const J4=typeof global<"u"?global:self,lG=J4.MutationObserver||J4.WebKitMutationObserver;function cG(t){return function(){const n=setTimeout(s,0),r=setInterval(s,50);function s(){clearTimeout(n),clearInterval(r),t()}}}function uHe(t){let e=1;const n=new lG(t),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}const dHe=typeof lG=="function"?uHe:cG;class fHe{enqueueTask(e){const{queue:n,requestFlush:r}=this;n.length||(r(),this.flushing=!0),n[n.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const n=this.index;if(this.index++,e[n].call(),this.index>this.capacity){for(let r=0,s=e.length-this.index;r<s;r++)e[r]=e[r+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=dHe(this.flush),this.requestErrorThrow=cG(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class hHe{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,n){this.onError=e,this.release=n,this.task=null}}class pHe{create(e){const n=this.freeTasks,r=n.length?n.pop():new hHe(this.onError,s=>n[n.length]=s);return r.task=e,r}constructor(e){this.onError=e,this.freeTasks=[]}}const uG=new fHe,mHe=new pHe(uG.registerPendingError);function gHe(t){uG.enqueueTask(mHe.create(t))}const Vk="dnd-core/ADD_SOURCE",Bk="dnd-core/ADD_TARGET",Uk="dnd-core/REMOVE_SOURCE",dx="dnd-core/REMOVE_TARGET";function vHe(t){return{type:Vk,payload:{sourceId:t}}}function yHe(t){return{type:Bk,payload:{targetId:t}}}function bHe(t){return{type:Uk,payload:{sourceId:t}}}function wHe(t){return{type:dx,payload:{targetId:t}}}function _He(t){ze(typeof t.canDrag=="function","Expected canDrag to be a function."),ze(typeof t.beginDrag=="function","Expected beginDrag to be a function."),ze(typeof t.endDrag=="function","Expected endDrag to be a function.")}function xHe(t){ze(typeof t.canDrop=="function","Expected canDrop to be a function."),ze(typeof t.hover=="function","Expected hover to be a function."),ze(typeof t.drop=="function","Expected beginDrag to be a function.")}function eP(t,e){if(e&&Array.isArray(t)){t.forEach(n=>eP(n,!1));return}ze(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Ei;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(Ei||(Ei={}));let EHe=0;function THe(){return EHe++}function SHe(t){const e=THe().toString();switch(t){case Ei.SOURCE:return`S${e}`;case Ei.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function e3(t){switch(t[0]){case"S":return Ei.SOURCE;case"T":return Ei.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function t3(t,e){const n=t.entries();let r=!1;do{const{done:s,value:[,o]}=n.next();if(o===e)return!0;r=!!s}while(!r);return!1}class CHe{addSource(e,n){eP(e),_He(n);const r=this.addHandler(Ei.SOURCE,e,n);return this.store.dispatch(vHe(r)),r}addTarget(e,n){eP(e,!0),xHe(n);const r=this.addHandler(Ei.TARGET,e,n);return this.store.dispatch(yHe(r)),r}containsHandler(e){return t3(this.dragSources,e)||t3(this.dropTargets,e)}getSource(e,n=!1){return ze(this.isSourceId(e),"Expected a valid source ID."),n&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return ze(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return ze(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return ze(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return e3(e)===Ei.SOURCE}isTargetId(e){return e3(e)===Ei.TARGET}removeSource(e){ze(this.getSource(e),"Expected an existing source."),this.store.dispatch(bHe(e)),gHe(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){ze(this.getTarget(e),"Expected an existing target."),this.store.dispatch(wHe(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const n=this.getSource(e);ze(n,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=n}unpinSource(){ze(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,n,r){const s=SHe(e);return this.types.set(s,n),e===Ei.SOURCE?this.dragSources.set(s,r):e===Ei.TARGET&&this.dropTargets.set(s,r),s}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const PHe=(t,e)=>t===e;function AHe(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function IHe(t,e,n=PHe){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!n(t[r],e[r]))return!1;return!0}function OHe(t=up,e){switch(e.type){case lx:break;case Vk:case Bk:case dx:case Uk:return up;case ax:case $k:case ux:case cx:default:return Fk}const{targetIds:n=[],prevTargetIds:r=[]}=e.payload,s=R8e(n,r);if(!(s.length>0||!IHe(n,r)))return up;const a=r[r.length-1],l=n[n.length-1];return a!==l&&(a&&s.push(a),l&&s.push(l)),s}function kHe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NHe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){kHe(t,s,n[s])})}return t}const n3={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function DHe(t=n3,e){const{payload:n}=e;switch(e.type){case Lk:case ax:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case lx:return AHe(t.clientOffset,n.clientOffset)?t:NHe({},t,{clientOffset:n.clientOffset});case ux:case cx:return n3;default:return t}}function RHe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ou(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){RHe(t,s,n[s])})}return t}const MHe={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function jHe(t=MHe,e){const{payload:n}=e;switch(e.type){case ax:return ou({},t,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case $k:return ou({},t,{isSourcePublic:!0});case lx:return ou({},t,{targetIds:n.targetIds});case dx:return t.targetIds.indexOf(n.targetId)===-1?t:ou({},t,{targetIds:D8e(t.targetIds,n.targetId)});case cx:return ou({},t,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case ux:return ou({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function LHe(t=0,e){switch(e.type){case Vk:case Bk:return t+1;case Uk:case dx:return t-1;default:return t}}function $He(t=0){return t+1}function FHe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VHe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){FHe(t,s,n[s])})}return t}function BHe(t={},e){return{dirtyHandlerIds:OHe(t.dirtyHandlerIds,{type:e.type,payload:VHe({},e.payload,{prevTargetIds:N8e(t,"dragOperation.targetIds",[])})}),dragOffset:DHe(t.dragOffset,e),refCount:LHe(t.refCount,e),dragOperation:jHe(t.dragOperation,e),stateId:$He(t.stateId)}}function UHe(t,e=void 0,n={},r=!1){const s=zHe(r),o=new cHe(s,new CHe(s)),a=new iHe(s,o),l=t(a,e,n);return a.receiveBackend(l),a}function zHe(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return sG(BHe,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function WHe(t,e){if(t==null)return{};var n=HHe(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HHe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}let r3=0;const Dy=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var qHe=F.memo(function(e){var{children:n}=e,r=WHe(e,["children"]);const[s,o]=GHe(r);return F.useEffect(()=>{if(o){const a=dG();return++r3,()=>{--r3===0&&(a[Dy]=null)}}},[]),w.jsx(iG.Provider,{value:s,children:n})});function GHe(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=KHe(t.backend,t.context,t.options,t.debugMode),n=!t.context;return[e,n]}function KHe(t,e=dG(),n,r){const s=e;return s[Dy]||(s[Dy]={dragDropManager:UHe(t,e,n,r)}),s[Dy]}function dG(){return typeof global<"u"?global:window}var YHe=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,o;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[s]))return!1;for(s=r;s--!==0;){var a=o[s];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n};const XHe=Ke(YHe),Oc=typeof window<"u"?F.useLayoutEffect:F.useEffect;function QHe(t,e,n){const[r,s]=F.useState(()=>e(t)),o=F.useCallback(()=>{const a=e(t);XHe(r,a)||(s(a),n&&n())},[r,t,n]);return Oc(o),[r,o]}function ZHe(t,e,n){const[r,s]=QHe(t,e,n);return Oc(function(){const a=t.getHandlerId();if(a!=null)return t.subscribeToStateChange(s,{handlerIds:[a]})},[t,s]),r}function fG(t,e,n){return ZHe(e,t||(()=>({})),()=>n.reconnect())}function hG(t,e){const n=[...e||[]];return e==null&&typeof t!="function"&&n.push(t),F.useMemo(()=>typeof t=="function"?t():t,n)}function JHe(t){return F.useMemo(()=>t.hooks.dragSource(),[t])}function e9e(t){return F.useMemo(()=>t.hooks.dragPreview(),[t])}let uE=!1,dE=!1;class t9e{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){ze(!uE,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return uE=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{uE=!1}}isDragging(){if(!this.sourceId)return!1;ze(!dE,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return dE=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{dE=!1}}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,n){return this.internalMonitor.isOverTarget(e,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let fE=!1;class n9e{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}canDrop(){if(!this.targetId)return!1;ze(!fE,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return fE=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{fE=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function r9e(t,e,n){const r=n.getRegistry(),s=r.addTarget(t,e);return[s,()=>r.removeTarget(s)]}function i9e(t,e,n){const r=n.getRegistry(),s=r.addSource(t,e);return[s,()=>r.removeSource(s)]}function tP(t,e,n,r){let s=n?n.call(r,t,e):void 0;if(s!==void 0)return!!s;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const o=Object.keys(t),a=Object.keys(e);if(o.length!==a.length)return!1;const l=Object.prototype.hasOwnProperty.bind(e);for(let c=0;c<o.length;c++){const u=o[c];if(!l(u))return!1;const d=t[u],f=e[u];if(s=n?n.call(r,d,f,u):void 0,s===!1||s===void 0&&d!==f)return!1}return!0}function nP(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function s9e(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function o9e(t){return(e=null,n=null)=>{if(!F.isValidElement(e)){const o=e;return t(o,n),o}const r=e;return s9e(r),a9e(r,n?o=>t(o,n):t)}}function pG(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];if(n.endsWith("Ref"))e[n]=t[n];else{const s=o9e(r);e[n]=()=>s}}),e}function i3(t,e){typeof t=="function"?t(e):t.current=e}function a9e(t,e){const n=t.ref;return ze(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?F.cloneElement(t,{ref:r=>{i3(n,r),i3(e,r)}}):F.cloneElement(t,{ref:e})}class l9e{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?e?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),n):(this.lastConnectedDragSource=e,n):n}reconnectDragPreview(e=!1){const n=this.dragPreview,r=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!tP(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!tP(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=pG({dragSource:(n,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,nP(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,nP(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class c9e{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!tP(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=pG({dropTarget:(n,r)=>{this.clearDropTarget(),this.dropTargetOptions=r,nP(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function If(){const{dragDropManager:t}=F.useContext(iG);return ze(t!=null,"Expected drag drop context"),t}function u9e(t,e){const n=If(),r=F.useMemo(()=>new l9e(n.getBackend()),[n]);return Oc(()=>(r.dragSourceOptions=t||null,r.reconnect(),()=>r.disconnectDragSource()),[r,t]),Oc(()=>(r.dragPreviewOptions=e||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,e]),r}function d9e(){const t=If();return F.useMemo(()=>new t9e(t),[t])}class f9e{beginDrag(){const e=this.spec,n=this.monitor;let r=null;return typeof e.item=="object"?r=e.item:typeof e.item=="function"?r=e.item(n):r={},r??null}canDrag(){const e=this.spec,n=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(n):!0}isDragging(e,n){const r=this.spec,s=this.monitor,{isDragging:o}=r;return o?o(s):n===e.getSourceId()}endDrag(){const e=this.spec,n=this.monitor,r=this.connector,{end:s}=e;s&&s(n.getItem(),n),r.reconnect()}constructor(e,n,r){this.spec=e,this.monitor=n,this.connector=r}}function h9e(t,e,n){const r=F.useMemo(()=>new f9e(t,e,n),[e,n]);return F.useEffect(()=>{r.spec=t},[t]),r}function p9e(t){return F.useMemo(()=>{const e=t.type;return ze(e!=null,"spec.type must be defined"),e},[t])}function m9e(t,e,n){const r=If(),s=h9e(t,e,n),o=p9e(t);Oc(function(){if(o!=null){const[l,c]=i9e(o,s,r);return e.receiveHandlerId(l),n.receiveHandlerId(l),c}},[r,e,n,s,o])}function g9e(t,e){const n=hG(t,e);ze(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=d9e(),s=u9e(n.options,n.previewOptions);return m9e(n,r,s),[fG(n.collect,r,s),JHe(s),e9e(s)]}function v9e(t){return F.useMemo(()=>t.hooks.dropTarget(),[t])}function y9e(t){const e=If(),n=F.useMemo(()=>new c9e(e.getBackend()),[e]);return Oc(()=>(n.dropTargetOptions=t||null,n.reconnect(),()=>n.disconnectDropTarget()),[t]),n}function b9e(){const t=If();return F.useMemo(()=>new n9e(t),[t])}function w9e(t){const{accept:e}=t;return F.useMemo(()=>(ze(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class _9e{canDrop(){const e=this.spec,n=this.monitor;return e.canDrop?e.canDrop(n.getItem(),n):!0}hover(){const e=this.spec,n=this.monitor;e.hover&&e.hover(n.getItem(),n)}drop(){const e=this.spec,n=this.monitor;if(e.drop)return e.drop(n.getItem(),n)}constructor(e,n){this.spec=e,this.monitor=n}}function x9e(t,e){const n=F.useMemo(()=>new _9e(t,e),[e]);return F.useEffect(()=>{n.spec=t},[t]),n}function E9e(t,e,n){const r=If(),s=x9e(t,e),o=w9e(t);Oc(function(){const[l,c]=r9e(o,s,r);return e.receiveHandlerId(l),n.receiveHandlerId(l),c},[r,e,s,n,o.map(a=>a.toString()).join("|")])}function T9e(t,e){const n=hG(t,e),r=b9e(),s=y9e(n.options);return E9e(n,r,s),[fG(n.collect,r,s),v9e(s)]}function mG(t){let e=null;return()=>(e==null&&(e=t()),e)}function S9e(t,e){return t.filter(n=>n!==e)}function C9e(t,e){const n=new Set,r=o=>n.add(o);t.forEach(r),e.forEach(r);const s=[];return n.forEach(o=>s.push(o)),s}class P9e{enter(e){const n=this.entered.length,r=s=>this.isNodeInDocument(s)&&(!s.contains||s.contains(e));return this.entered=C9e(this.entered.filter(r),[e]),n===0&&this.entered.length>0}leave(e){const n=this.entered.length;return this.entered=S9e(this.entered.filter(this.isNodeInDocument),e),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class A9e{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const n={};Object.keys(this.config.exposeProperties).forEach(r=>{const s=this.config.exposeProperties[r];s!=null&&(n[r]={value:s(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,n){return n===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const gG="__NATIVE_FILE__",vG="__NATIVE_URL__",yG="__NATIVE_TEXT__",bG="__NATIVE_HTML__",s3=Object.freeze(Object.defineProperty({__proto__:null,FILE:gG,HTML:bG,TEXT:yG,URL:vG},Symbol.toStringTag,{value:"Module"}));function hE(t,e,n){const r=e.reduce((s,o)=>s||t.getData(o),"");return r??n}const rP={[gG]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[bG]:{exposeProperties:{html:(t,e)=>hE(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[vG]:{exposeProperties:{urls:(t,e)=>hE(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[yG]:{exposeProperties:{text:(t,e)=>hE(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function I9e(t,e){const n=rP[t];if(!n)throw new Error(`native type ${t} has no configuration`);const r=new A9e(n);return r.loadDataTransfer(e),r}function pE(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(rP).filter(n=>{const r=rP[n];return r!=null&&r.matchesTypes?r.matchesTypes.some(s=>e.indexOf(s)>-1):!1})[0]||null}const O9e=mG(()=>/firefox/i.test(navigator.userAgent)),wG=mG(()=>!!window.safari);class o3{interpolate(e){const{xs:n,ys:r,c1s:s,c2s:o,c3s:a}=this;let l=n.length-1;if(e===n[l])return r[l];let c=0,u=a.length-1,d;for(;c<=u;){d=Math.floor(.5*(c+u));const p=n[d];if(p<e)c=d+1;else if(p>e)u=d-1;else return r[d]}l=Math.max(0,u);const f=e-n[l],h=f*f;return r[l]+s[l]*f+o[l]*h+a[l]*f*h}constructor(e,n){const{length:r}=e,s=[];for(let p=0;p<r;p++)s.push(p);s.sort((p,v)=>e[p]<e[v]?-1:1);const o=[],a=[];let l,c;for(let p=0;p<r-1;p++)l=e[p+1]-e[p],c=n[p+1]-n[p],o.push(l),a.push(c/l);const u=[a[0]];for(let p=0;p<o.length-1;p++){const v=a[p],g=a[p+1];if(v*g<=0)u.push(0);else{l=o[p];const b=o[p+1],y=l+b;u.push(3*y/((y+b)/v+(y+l)/g))}}u.push(a[a.length-1]);const d=[],f=[];let h;for(let p=0;p<u.length-1;p++){h=a[p];const v=u[p],g=1/o[p],b=v+u[p+1]-h-h;d.push((h-v-b)*g),f.push(b*g*g)}this.xs=e,this.ys=n,this.c1s=u,this.c2s=d,this.c3s=f}}const k9e=1;function _G(t){const e=t.nodeType===k9e?t:t.parentElement;if(!e)return null;const{top:n,left:r}=e.getBoundingClientRect();return{x:r,y:n}}function ry(t){return{x:t.clientX,y:t.clientY}}function N9e(t){var e;return t.nodeName==="IMG"&&(O9e()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function D9e(t,e,n,r){let s=t?e.width:n,o=t?e.height:r;return wG()&&t&&(o/=window.devicePixelRatio,s/=window.devicePixelRatio),{dragPreviewWidth:s,dragPreviewHeight:o}}function R9e(t,e,n,r,s){const o=N9e(e),l=_G(o?t:e),c={x:n.x-l.x,y:n.y-l.y},{offsetWidth:u,offsetHeight:d}=t,{anchorX:f,anchorY:h}=r,{dragPreviewWidth:p,dragPreviewHeight:v}=D9e(o,e,u,d),g=()=>{let A=new o3([0,.5,1],[c.y,c.y/d*v,c.y+v-d]).interpolate(h);return wG()&&o&&(A+=(window.devicePixelRatio-1)*v),A},b=()=>new o3([0,.5,1],[c.x,c.x/u*p,c.x+p-u]).interpolate(f),{offsetX:y,offsetY:x}=s,E=y===0||y,T=x===0||x;return{x:E?y:b(),y:T?x:g()}}class M9e{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,n){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=n}}function j9e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){j9e(t,s,n[s])})}return t}class L9e{profile(){var e,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,n,r){return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,n),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,n,r){this.sourceNodes.set(e,n),this.sourceNodeOptions.set(e,r);const s=a=>this.handleDragStart(a,e),o=a=>this.handleSelectStart(a);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",s),n.addEventListener("selectstart",o),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),n.removeEventListener("dragstart",s),n.removeEventListener("selectstart",o),n.setAttribute("draggable","false")}}connectDropTarget(e,n){const r=a=>this.handleDragEnter(a,e),s=a=>this.handleDragOver(a,e),o=a=>this.handleDrop(a,e);return n.addEventListener("dragenter",r),n.addEventListener("dragover",s),n.addEventListener("drop",o),()=>{n.removeEventListener("dragenter",r),n.removeEventListener("dragover",s),n.removeEventListener("drop",o)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(e);return a3({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(e);return a3({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(s3).some(n=>s3[n]===e)}beginDragNativeItem(e,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=I9e(e,n),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,n){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(e,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(e,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(e,n){this.dropTargetIds.unshift(n)}constructor(e,n,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=s=>{const o=this.sourceNodes.get(s);return o&&_G(o)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=s=>!!(s&&this.document&&this.document.body&&this.document.body.contains(s)),this.endDragIfSourceWasRemovedFromDOM=()=>{const s=this.currentDragSourceNode;s==null||this.isNodeInDocument(s)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=s=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(s||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=s=>{if(s.defaultPrevented)return;const{dragStartSourceIds:o}=this;this.dragStartSourceIds=null;const a=ry(s);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(o||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:a});const{dataTransfer:l}=s,c=pE(l);if(this.monitor.isDragging()){if(l&&typeof l.setDragImage=="function"){const d=this.monitor.getSourceId(),f=this.sourceNodes.get(d),h=this.sourcePreviewNodes.get(d)||f;if(h){const{anchorX:p,anchorY:v,offsetX:g,offsetY:b}=this.getCurrentSourcePreviewNodeOptions(),E=R9e(f,h,a,{anchorX:p,anchorY:v},{offsetX:g,offsetY:b});l.setDragImage(h,E.x,E.y)}}try{l==null||l.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(s.target);const{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(c)this.beginDragNativeItem(c);else{if(l&&!l.types&&(s.target&&!s.target.hasAttribute||!s.target.hasAttribute("draggable")))return;s.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=s=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(s.dataTransfer)}if(!this.enterLeaveCounter.enter(s.target)||this.monitor.isDragging())return;const{dataTransfer:l}=s,c=pE(l);c&&this.beginDragNativeItem(c,l)},this.handleTopDragEnter=s=>{const{dragEnterTargetIds:o}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=s.altKey,o.length>0&&this.actions.hover(o,{clientOffset:ry(s)}),o.some(l=>this.monitor.canDropOnTarget(l))&&(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=s=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(s.dataTransfer)}},this.handleTopDragOver=s=>{const{dragOverTargetIds:o}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none");return}this.altKeyPressed=s.altKey,this.lastClientOffset=ry(s),this.scheduleHover(o),(o||[]).some(l=>this.monitor.canDropOnTarget(l))?(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?s.preventDefault():(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=s=>{this.isDraggingNativeItem()&&s.preventDefault(),this.enterLeaveCounter.leave(s.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=s=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var o;s.preventDefault(),(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(s.dataTransfer)}else pE(s.dataTransfer)&&s.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=s=>{const{dropTargetIds:o}=this;this.dropTargetIds=[],this.actions.hover(o,{clientOffset:ry(s)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=s=>{const o=s.target;typeof o.dragDrop=="function"&&(o.tagName==="INPUT"||o.tagName==="SELECT"||o.tagName==="TEXTAREA"||o.isContentEditable||(s.preventDefault(),o.dragDrop()))},this.options=new M9e(n,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new P9e(this.isNodeInDocument)}}const $9e=function(e,n,r){return new L9e(e,n,r)},xG={GUEST:"guest"};function F9e({guest:t}){const[{isDragging:e},n]=g9e(()=>({type:xG.GUEST,item:{id:t.id},collect:r=>({isDragging:r.isDragging()})}));return w.jsx("div",{ref:n,className:`p-2 mb-2 border rounded bg-white cursor-move ${e?"opacity-50":""}`,children:t.name})}function V9e({seat:t,guest:e,onDrop:n}){const[{isOver:r,canDrop:s},o]=T9e(()=>({accept:xG.GUEST,drop:l=>n(l.id,t.id),collect:l=>({isOver:l.isOver(),canDrop:l.canDrop()})})),a=r&&s?"bg-green-200":"bg-gray-100";return w.jsx("div",{ref:o,className:`w-20 h-20 m-1 flex items-center justify-center border ${a}`,children:e?e.name:"Empty"})}function B9e(){const t=[{id:1,name:"Ana Garca"},{id:2,name:"Luis Martnez"},{id:3,name:"Mara Lpez"},{id:4,name:"Jos Fernndez"}],[e,n]=F.useState("ceremony"),[r,s]=F.useState(""),[o,a]=F.useState(null),[l,c]=F.useState(""),[u,d]=F.useState(!1),f=F.useRef(null),[h,p]=F.useState(!1),[v,g]=F.useState([]),[b,y]=F.useState([]),[x,E]=F.useState(!1),[T,S]=F.useState(4),[A,C]=F.useState(4),[P,I]=F.useState([]),[R,j]=F.useState([]),O=(V,ee)=>{(e==="ceremony"?I:j)(xe=>xe.map(Se=>Se.id===ee?{...Se,assignedGuestId:V}:Se));const oe=t.find(xe=>xe.id===V);a({message:`${oe.name} asignado al asiento ${ee}`,type:"success"})},D=async()=>{if(!(!l||!x)){d(!0),a(null);try{const ee=await(await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+{}.VITE_OPENAI_KEY},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"system",content:"Asigna invitados a asientos. Devuelve JSON [{seatId,guestId}]"},{role:"user",content:`Prompt: ${l}. Invitados: ${JSON.stringify(t)}. Asientos: ${JSON.stringify(e==="ceremony"?P:R)}`}]})})).json();let se=[];try{se=JSON.parse(ee.choices[0].message.content)}catch{}se.forEach(oe=>O(oe.guestId,oe.seatId))}catch{a({message:"Error autoasignacin",type:"error"})}finally{d(!1)}}},N=(V,ee)=>{let se=V.x,oe=V.y,xe=!1;for(let Se=0,ye=ee.length-1;Se<ee.length;ye=Se++){const ie=ee[Se].x,we=ee[Se].y,pe=ee[ye].x,X=ee[ye].y;we>oe!=X>oe&&se<(pe-ie)*(oe-we)/(X-we)+ie&&(xe=!xe)}return xe};F.useEffect(()=>{if(!x)return;const V=f.current.width,ee=f.current.height,se=40,oe=A>1?(V-se)/(A-1):0,xe=T>1?(ee-se)/(T-1):0,Se=[];let ye=1;for(let ie=0;ie<T;ie++)for(let we=0;we<A;we++){const pe=we*oe+se/2,X=ie*xe+se/2;N({x:pe,y:X},b)&&Se.push({id:ye++,x:ie,y:we,assignedGuestId:null})}(e==="ceremony"?I:j)(Se)},[x,b,T,A,e]),F.useEffect(()=>{const V=f.current.getContext("2d");V.clearRect(0,0,f.current.width,f.current.height);const ee=x?b:v;ee.length&&(V.beginPath(),ee.forEach((se,oe)=>oe?V.lineTo(se.x,se.y):V.moveTo(se.x,se.y)),x&&V.closePath(),V.strokeStyle="blue",V.lineWidth=2,V.stroke())},[v,b,x]);const U=V=>{const ee=f.current.getBoundingClientRect();return{x:V.clientX-ee.left,y:V.clientY-ee.top}},K=V=>{p(!0),g([U(V)])},q=V=>h&&g(ee=>[...ee,U(V)]),Y=()=>{p(!1),y(v),E(!0)},G=()=>{E(!1),g([]),y([])},J=e==="ceremony"?P:R,H=t.filter(V=>!J.some(ee=>ee.assignedGuestId===V.id)&&V.name.toLowerCase().includes(r.toLowerCase()));return w.jsxs(xt,{className:"p-6",children:[o&&w.jsx(Lg,{...o,onClose:()=>a(null)}),w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsxs("div",{className:"flex space-x-2",children:[w.jsx("button",{onClick:()=>n("ceremony"),className:`px-4 py-2 rounded ${e==="ceremony"?"bg-blue-600 text-white":"bg-gray-200"}`,children:"Ceremonia"}),w.jsx("button",{onClick:()=>n("banquet"),className:`px-4 py-2 rounded ${e==="banquet"?"bg-blue-600 text-white":"bg-gray-200"}`,children:"Banquete"})]}),w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("input",{type:"text",placeholder:"Criterios IA",className:"border rounded px-2 py-1",value:l,onChange:V=>c(V.target.value)}),w.jsx("button",{onClick:D,className:"px-3 py-2 bg-gray-200 rounded flex items-center",disabled:u,children:u?w.jsx(Sg,{}):w.jsx(l8,{size:16})})]})]}),w.jsxs("div",{className:"flex space-x-6",children:[w.jsxs("div",{className:"w-1/4",children:[w.jsxs("div",{className:"flex items-center border rounded px-2 py-1 mb-2",children:[w.jsx(Qw,{size:16,className:"mr-2"}),w.jsx("input",{type:"text",placeholder:"Buscar invitado",className:"w-full",value:r,onChange:V=>s(V.target.value)})]}),w.jsx("div",{className:"overflow-auto max-h-[400px]",children:H.map(V=>w.jsx(F9e,{guest:V},V.id))})]}),w.jsxs("div",{className:"flex-1",children:[w.jsxs("div",{className:"border rounded overflow-hidden",children:[w.jsx("canvas",{ref:f,width:600,height:400,onMouseDown:K,onMouseMove:q,onMouseUp:Y,className:"block w-full h-auto cursor-crosshair"}),w.jsxs("div",{className:"p-2 flex space-x-2",children:[w.jsx("input",{type:"number",min:1,value:T,onChange:V=>S(+V.target.value),className:"w-16 border rounded px-1",placeholder:"Filas"}),w.jsx("input",{type:"number",min:1,value:A,onChange:V=>C(+V.target.value),className:"w-16 border rounded px-1",placeholder:"Columnas"}),w.jsx("button",{onClick:()=>E(!0),className:"px-2 py-1 bg-blue-600 text-white rounded",children:"Finalizar rea"}),w.jsx("button",{onClick:G,className:"px-2 py-1 bg-gray-200 rounded",children:"Reset"})]})]}),w.jsx("div",{className:"flex flex-wrap mt-4",children:w.jsx(qHe,{backend:$9e,children:J.map(V=>w.jsx(V9e,{seat:V,guest:t.find(ee=>ee.id===V.assignedGuestId),onDrop:O},V.id))})})]})]})]})}function U9e(){const[t,e]=F.useState(()=>localStorage.getItem("invitationAiPrompt")||""),[n,r]=F.useState(!1),[s,o]=F.useState(""),[a,l]=F.useState(null),[c,u]=F.useState(()=>JSON.parse(localStorage.getItem("invitationShowPreview"))||!1),d=async()=>{var C,P,I;if(t){r(!0),l(null);try{const O=((I=(P=(C=(await(await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${{}.VITE_OPENAI_KEY}`},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are a helpful assistant specialized in generating invitation texts."},{role:"user",content:t}]})})).json()).choices)==null?void 0:C[0])==null?void 0:P.message)==null?void 0:I.content)||"";o(O),l({message:"Invitacin generada",type:"success"})}catch(R){console.error(R),l({message:"Error generando invitacin",type:"error"})}finally{r(!1)}}},[f,h]=F.useState(()=>localStorage.getItem("invitationPanel")||"invitation"),[p,v]=F.useState(()=>localStorage.getItem("invitationFilterCategory")||""),[g,b]=F.useState(()=>localStorage.getItem("invitationFilterColor")||""),[y,x]=F.useState(()=>localStorage.getItem("invitationFilterFont")||""),[E,T]=F.useState(()=>parseInt(localStorage.getItem("invitationStep"))||1),A=[{id:1,name:"Clsico",category:"clsico",color:"pastel",font:"Serif"},{id:2,name:"Moderno",category:"moderno",color:"vibrante",font:"Sans"},{id:3,name:"Rstico",category:"rstico",color:"tierra",font:"Handwriting"},{id:4,name:"Minimalista",category:"minimalista",color:"monocromo",font:"Sans"}].filter(C=>(p?C.category===p:!0)&&(g?C.color===g:!0)&&(y?C.font===y:!0));return F.useEffect(()=>{localStorage.setItem("invitationAiPrompt",t),localStorage.setItem("invitationPanel",f),localStorage.setItem("invitationFilterCategory",p),localStorage.setItem("invitationFilterColor",g),localStorage.setItem("invitationFilterFont",y),localStorage.setItem("invitationStep",E.toString()),localStorage.setItem("invitationGeneratedText",s),localStorage.setItem("invitationShowPreview",JSON.stringify(c))},[t,f,p,g,y,E,s,c]),w.jsxs(xt,{className:"p-6 space-y-6",children:[a&&w.jsx(Lg,{message:a.message,type:a.type,onClose:()=>l(null)}),w.jsx("h1",{className:"text-2xl font-semibold",children:"Diseo de Invitaciones"}),w.jsxs("div",{className:"flex justify-between mb-4",children:[E>1&&w.jsx("button",{onClick:()=>T(E-1),className:"bg-gray-200 px-3 py-1 rounded",children:"Anterior"}),E<4&&w.jsx("button",{onClick:()=>T(E+1),className:"bg-blue-600 text-white px-3 py-1 rounded",children:"Siguiente"}),E===4&&w.jsx("button",{onClick:()=>alert("Wizard completado"),className:"bg-green-600 text-white px-3 py-1 rounded",children:"Finalizar"})]}),E===1&&w.jsxs("section",{className:"border rounded p-4 space-y-4",children:[w.jsx("h2",{className:"text-lg font-semibold",children:"Asistente de IA"}),w.jsx("textarea",{rows:3,placeholder:"Describe cmo quieres tu invitacin...",value:t,onChange:C=>e(C.target.value),className:"w-full border rounded p-2"}),w.jsxs("button",{onClick:d,disabled:n,className:"bg-indigo-600 text-white px-4 py-2 rounded flex items-center",children:[n?w.jsx(Sg,{size:16,className:"mr-2"}):w.jsx(lpe,{size:16,className:"mr-2"})," ",n?"Generando...":"Generar invitacin"]})]}),E===2&&w.jsxs("section",{className:"border rounded p-4 space-y-4",children:[w.jsx("h2",{className:"text-lg font-semibold",children:"Seleccin de Plantilla"}),w.jsxs("div",{className:"flex gap-4 flex-wrap",children:[w.jsxs("select",{value:p,onChange:C=>v(C.target.value),className:"border rounded px-2 py-1",children:[w.jsx("option",{value:"",children:"Todos los estilos"}),w.jsx("option",{value:"clsico",children:"Clsico"}),w.jsx("option",{value:"moderno",children:"Moderno"}),w.jsx("option",{value:"rstico",children:"Rstico"}),w.jsx("option",{value:"minimalista",children:"Minimalista"})]}),w.jsxs("select",{value:g,onChange:C=>b(C.target.value),className:"border rounded px-2 py-1",children:[w.jsx("option",{value:"",children:"Todas las paletas"}),w.jsx("option",{value:"pastel",children:"Pastel"}),w.jsx("option",{value:"vibrante",children:"Vibrante"}),w.jsx("option",{value:"tierra",children:"Tierra"}),w.jsx("option",{value:"monocromo",children:"Monocromo"})]}),w.jsxs("select",{value:y,onChange:C=>x(C.target.value),className:"border rounded px-2 py-1",children:[w.jsx("option",{value:"",children:"Todas las tipografas"}),w.jsx("option",{value:"Serif",children:"Serif"}),w.jsx("option",{value:"Sans",children:"Sans"}),w.jsx("option",{value:"Handwriting",children:"Handwriting"})]})]}),w.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:A.map(C=>w.jsx("div",{className:"border rounded overflow-hidden cursor-pointer hover:shadow-lg",children:w.jsx("div",{className:"h-32 bg-gray-100 flex items-center justify-center",children:w.jsx("span",{className:"text-sm font-medium",children:C.name})})},C.id))})]}),E===3&&w.jsxs("section",{className:"border rounded p-4 space-y-4",children:[w.jsxs("div",{className:"flex gap-4",children:[w.jsx("button",{onClick:()=>h("invitation"),className:`px-4 py-2 rounded ${f==="invitation"?"bg-blue-600 text-white":"bg-gray-200"}`,children:"Invitacin"}),w.jsx("button",{onClick:()=>h("envelope"),className:`px-4 py-2 rounded ${f==="envelope"?"bg-blue-600 text-white":"bg-gray-200"}`,children:"Sobre"})]}),w.jsx("div",{className:"border bg-white h-[400px] flex items-center justify-center text-gray-400",children:f==="invitation"?"Canvas de invitacin: arrastra componentes aqu":"Canvas de sobre: frontal / trasero"})]}),E===4&&w.jsxs("section",{className:"flex flex-wrap gap-2",children:[w.jsxs("button",{onClick:()=>u(C=>!C),className:"bg-blue-600 text-white px-4 py-2 rounded flex items-center",children:[w.jsx(Xw,{size:16,className:"mr-2"}),c?"Ocultar preview":"Previsualizar"]}),w.jsxs("button",{className:"bg-green-600 text-white px-4 py-2 rounded flex items-center",children:[w.jsx(Jp,{size:16,className:"mr-2"}),"Exportar PDF"]}),w.jsxs("button",{className:"bg-gray-200 text-gray-800 px-4 py-2 rounded flex items-center",children:[w.jsx(Jp,{size:16,className:"mr-2"}),"Exportar PNG"]}),w.jsx("button",{className:"bg-purple-600 text-white px-4 py-2 rounded",children:"Compartir"})]}),c&&s&&w.jsxs("section",{className:"border rounded p-4 bg-gray-50 mt-4",children:[w.jsx("h3",{className:"text-lg font-semibold",children:"Preview de Invitacin"}),w.jsx("p",{className:"whitespace-pre-wrap",children:s})]}),E===4&&w.jsxs("section",{className:"border rounded p-4",children:[w.jsx("h2",{className:"text-lg font-semibold",children:"Opciones Avanzadas"}),w.jsxs("div",{className:"flex gap-2 mt-2",children:[w.jsxs("button",{className:"bg-gray-200 px-3 py-1 rounded flex items-center",children:[w.jsx(spe,{size:16,className:"mr-2"}),"Guardar Borrador"]}),w.jsxs("button",{className:"bg-gray-200 px-3 py-1 rounded flex items-center",children:[w.jsx(npe,{size:16,className:"mr-2"}),"Duplicar Diseo"]})]})]})]})}function z9e(){const t=[{id:1,provider:"Eventos Catering",type:"Catering",signedDate:"2025-04-01",serviceDate:"2025-06-10",status:"Vigente",docUrl:"#"},{id:2,provider:"Flores y Diseo",type:"Flores",signedDate:"2025-03-15",serviceDate:"2025-06-12",status:"Vigente",docUrl:"#"}],[e,n]=F.useState(t),[r,s]=F.useState([]),[o,a]=F.useState(!1),[l,c]=F.useState(null),u={provider:"",type:"",signedDate:"",serviceDate:"",status:"",docUrl:""},[d,f]=F.useState(u),h=b=>{b.preventDefault();const y=e.length?Math.max(...e.map(x=>x.id))+1:1;n(x=>[...x,{id:y,...d,docUrl:d.docUrl||"#"}]),f(u),a(!1),c({message:"Contrato agregado",type:"success"})},p=b=>{const y=new Date,E=(new Date(b)-y)/(1e3*60*60*24);return E>=0&&E<=7},v=b=>{s(y=>y.includes(b)?y.filter(x=>x!==b):[...y,b])},g=()=>{console.log("Export contracts:",r)};return w.jsxs(w.Fragment,{children:[w.jsxs(xt,{className:"p-6 space-y-6",children:[l&&w.jsx(Lg,{message:l.message,type:l.type,onClose:()=>c(null)}),w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("h1",{className:"text-2xl font-semibold",children:"Contratos"}),w.jsxs("div",{className:"flex gap-2",children:[w.jsxs("button",{onClick:()=>a(!0),className:"bg-blue-600 text-white px-4 py-2 rounded flex items-center",children:[w.jsx(em,{size:16,className:"mr-2"})," Aadir Contrato"]}),w.jsxs("button",{onClick:g,className:"bg-gray-200 px-4 py-2 rounded flex items-center",children:[w.jsx(Jp,{size:16,className:"mr-2"})," Exportar Seleccionados"]})]})]}),w.jsx("div",{className:"hidden md:block overflow-auto",children:w.jsxs("table",{className:"w-full table-auto",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"bg-gray-50",children:[w.jsx("th",{className:"p-2",children:w.jsx("input",{type:"checkbox",onChange:b=>s(b.target.checked?e.map(y=>y.id):[])})}),w.jsx("th",{className:"p-2",children:"Proveedor"}),w.jsx("th",{className:"p-2",children:"Tipo de contrato"}),w.jsx("th",{className:"p-2",children:"Fecha de firma"}),w.jsx("th",{className:"p-2",children:"Fecha de servicio"}),w.jsx("th",{className:"p-2",children:"Estado"}),w.jsx("th",{className:"p-2",children:"Documento"})]})}),w.jsx("tbody",{children:e.map(b=>w.jsxs("tr",{className:`${p(b.serviceDate)?"bg-yellow-100":""} border-b`,children:[w.jsx("td",{className:"p-2",children:w.jsx("input",{type:"checkbox",checked:r.includes(b.id),onChange:()=>v(b.id)})}),w.jsx("td",{className:"p-2",children:b.provider}),w.jsx("td",{className:"p-2",children:b.type}),w.jsx("td",{className:"p-2",children:b.signedDate}),w.jsx("td",{className:"p-2",children:b.serviceDate}),w.jsx("td",{className:"p-2",children:b.status}),w.jsx("td",{className:"p-2",children:w.jsxs("a",{href:b.docUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-blue-600",children:[w.jsx(Xw,{size:16,className:"mr-1"})," Ver"]})})]},b.id))})]})}),w.jsx("div",{className:"block md:hidden space-y-4",children:e.map(b=>w.jsx(W9e,{contract:b,isSelected:r.includes(b.id),onToggle:()=>v(b.id)},b.id))})]}),o&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:w.jsxs("div",{className:"bg-white p-6 rounded shadow w-96",children:[w.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Aadir Contrato"}),w.jsxs("form",{onSubmit:h,className:"space-y-3",children:[w.jsx("input",{type:"text",placeholder:"Proveedor",value:d.provider,onChange:b=>f({...d,provider:b.target.value}),className:"w-full border rounded px-2 py-1",required:!0}),w.jsx("input",{type:"text",placeholder:"Tipo de contrato",value:d.type,onChange:b=>f({...d,type:b.target.value}),className:"w-full border rounded px-2 py-1",required:!0}),w.jsx("input",{type:"date",value:d.signedDate,onChange:b=>f({...d,signedDate:b.target.value}),className:"w-full border rounded px-2 py-1",required:!0}),w.jsx("input",{type:"date",value:d.serviceDate,onChange:b=>f({...d,serviceDate:b.target.value}),className:"w-full border rounded px-2 py-1",required:!0}),w.jsxs("select",{value:d.status,onChange:b=>f({...d,status:b.target.value}),className:"w-full border rounded px-2 py-1",children:[w.jsx("option",{value:"",children:"Seleccionar estado"}),w.jsx("option",{value:"Vigente",children:"Vigente"}),w.jsx("option",{value:"Expirado",children:"Expirado"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block mb-1",children:"Documento"}),w.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:b=>{const y=b.target.files[0];f({...d,docUrl:URL.createObjectURL(y)})},className:"w-full"})]}),w.jsxs("div",{className:"flex justify-end gap-2",children:[w.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 bg-gray-200 rounded",children:"Cancelar"}),w.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Guardar"})]})]})]})})]})}function W9e({contract:t,isSelected:e,onToggle:n}){const[r,s]=F.useState(!1);return w.jsxs("div",{className:"border rounded p-4",children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("div",{children:[w.jsx("p",{className:"font-semibold",children:t.provider}),w.jsxs("p",{className:"text-sm text-gray-600",children:[t.type," - ",t.status]})]}),w.jsx("button",{onClick:()=>s(o=>!o),children:r?w.jsx(tpe,{}):w.jsx(Jhe,{})})]}),r&&w.jsxs("div",{className:"mt-2 space-y-2",children:[w.jsxs("p",{children:["Fecha de firma: ",t.signedDate]}),w.jsxs("p",{children:["Fecha de servicio: ",t.serviceDate]}),w.jsxs("a",{href:t.docUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-blue-600",children:[w.jsx(Xw,{size:16,className:"mr-1"})," Ver documento"]}),w.jsxs("div",{children:[w.jsx("input",{type:"checkbox",checked:e,onChange:n})," Seleccionar"]})]})]})}const H9e=()=>{const t=Dc(),e=Rc();F.useEffect(()=>{(t.pathname==="/protocolo"||t.pathname==="/protocolo/")&&e("/protocolo/momentos-especiales",{replace:!0})},[t.pathname,e]);const n=r=>t.pathname===`/protocolo/${r}`||t.pathname===`/protocolo/${r}/`;return t.pathname==="/protocolo"||t.pathname==="/protocolo/"?w.jsx("div",{className:"p-6",children:"Cargando..."}):w.jsxs("div",{className:"p-6",children:[w.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Protocolo de la Boda"}),w.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2 mb-6",children:[{path:"momentos-especiales",label:"Momentos Especiales"},{path:"timing",label:"Timing"},{path:"checklist",label:"Checklist"},{path:"ayuda-ceremonia",label:"Ayuda Ceremonia"}].map(r=>w.jsx(Gn,{to:`/protocolo/${r.path}`,className:`px-4 py-2 rounded-t-lg font-medium whitespace-nowrap ${n(r.path)?"bg-white border-t-2 border-l-2 border-r-2 border-blue-500 text-blue-600 font-semibold":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:r.label},r.path))}),w.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:w.jsx("div",{className:"p-6",children:w.jsx(mw,{})})}),w.jsx("div",{className:"mt-4 p-3 bg-gray-100 text-sm text-gray-600 rounded",children:w.jsxs("p",{children:["Ruta actual: ",t.pathname]})})]})},q9e=()=>{const[t,e]=F.useState(null),[n,r]=F.useState({title:"",description:"",block:""}),[s,o]=F.useState([{id:"ceremonia",name:"Ceremonia",moments:[{id:1,title:"Entrada de los novios",description:"Descripcin de la entrada...",duration:"5 min"},{id:2,title:"Lecturas",description:"Lecturas seleccionadas...",duration:"10 min"}]},{id:"coctel",name:"Cctel",moments:[{id:3,title:"Brindis de bienvenida",description:"Palabras de bienvenida...",duration:"15 min"}]},{id:"banquete",name:"Banquete",moments:[]},{id:"disco",name:"Disco",moments:[{id:4,title:"Primer baile",description:"Cancin: Perfect - Ed Sheeran",duration:"4 min"}]}]),a=c=>{e(t===c?null:c)},l=c=>{if(n.title&&n.block===c){const u=s.map(d=>d.id===c?{...d,moments:[...d.moments,{id:Date.now(),title:n.title,description:n.description||"Sin descripcin",duration:"5 min"}]}:d);o(u),r({title:"",description:"",block:""})}};return w.jsxs("div",{className:"space-y-6",children:[w.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Momentos Especiales"}),w.jsx("p",{className:"text-gray-600",children:"Organiza los momentos clave de tu boda por bloques."}),w.jsx("div",{className:"space-y-4",children:s.map(c=>w.jsxs(xt,{className:"overflow-hidden",children:[w.jsxs("button",{onClick:()=>a(c.id),className:"w-full px-4 py-3 text-left font-medium bg-gray-50 hover:bg-gray-100 flex justify-between items-center",children:[w.jsxs("span",{children:[c.name," ",w.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",c.moments.length,")"]})]}),w.jsx("svg",{className:`w-5 h-5 transform transition-transform ${t===c.id?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t===c.id&&w.jsxs("div",{className:"p-4 space-y-4",children:[w.jsx("div",{className:"space-y-4",children:c.moments.map(u=>w.jsx("div",{className:"p-3 bg-white border rounded-lg",children:w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"font-medium",children:u.title}),w.jsx("p",{className:"text-sm text-gray-600",children:u.description}),w.jsx("span",{className:"inline-block mt-1 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:u.duration})]}),w.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:w.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})]})},u.id))}),w.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[w.jsx("h4",{className:"font-medium mb-2",children:"Aadir nuevo momento"}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("input",{type:"text",placeholder:"Ttulo del momento",className:"w-full p-2 border rounded",value:n.block===c.id?n.title:"",onChange:u=>r({...n,title:u.target.value,block:c.id})}),w.jsx("textarea",{placeholder:"Descripcin (opcional)",rows:"2",className:"w-full p-2 border rounded",value:n.block===c.id?n.description:"",onChange:u=>r({...n,description:u.target.value,block:c.id})}),w.jsx("div",{className:"flex justify-end",children:w.jsx(Tn,{onClick:()=>l(c.id),disabled:!n.title||n.block!==c.id,className:"px-4 py-2 text-sm",children:"Aadir"})})]})]})]})]},c.id))})]})},G9e=()=>{const[t,e]=F.useState([{id:"ceremonia",name:"Ceremonia",startTime:"16:00",endTime:"16:45",status:"on-time",moments:[{id:1,name:"Llegada de invitados",time:"15:30",duration:"30 min",status:"on-time"},{id:2,name:"Entrada de la novia",time:"16:00",duration:"5 min",status:"on-time"},{id:3,name:"Lecturas",time:"16:20",duration:"10 min",status:"on-time"}]},{id:"coctel",name:"Cctel",startTime:"17:00",endTime:"19:00",status:"on-time",moments:[{id:4,name:"Brindis de bienvenida",time:"17:15",duration:"15 min",status:"on-time"},{id:5,name:"Fotos de grupo",time:"17:45",duration:"30 min",status:"on-time"}]}]),n=o=>{switch(o){case"on-time":return"bg-green-100 text-green-800";case"slightly-delayed":return"bg-blue-100 text-blue-800";case"delayed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},r=o=>{switch(o){case"on-time":return"A tiempo";case"slightly-delayed":return"Ligero retraso";case"delayed":return"Retrasado";default:return"Sin estado"}},s=(o,a,l)=>{e(t.map(c=>c.id===o?{...c,moments:c.moments.map(u=>u.id===a?{...u,time:l}:u)}:c))};return w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Timing de la Boda"}),w.jsx("p",{className:"text-gray-600",children:"Organiza la lnea de tiempo de tu boda"})]}),w.jsxs(Tn,{children:[w.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Aadir Bloque"]})]}),w.jsx("div",{className:"space-y-8",children:t.map(o=>w.jsxs(xt,{className:"overflow-hidden",children:[w.jsxs("div",{className:"px-6 py-4 border-b flex justify-between items-center",children:[w.jsx("h3",{className:"text-lg font-medium",children:o.name}),w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${n(o.status)}`,children:r(o.status)}),w.jsxs("span",{className:"text-sm text-gray-600",children:[o.startTime," - ",o.endTime]})]})]}),w.jsx("div",{className:"divide-y",children:o.moments.map(a=>w.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:w.jsxs("div",{className:"flex items-start justify-between",children:[w.jsxs("div",{className:"flex-1",children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx("div",{className:`w-3 h-3 rounded-full ${n(a.status).split(" ")[0]}`}),w.jsx("h4",{className:"font-medium",children:a.name})]}),w.jsxs("div",{className:"ml-6 mt-1 text-sm text-gray-600",children:[w.jsxs("span",{className:"inline-block mr-4",children:[w.jsx("span",{className:"font-medium",children:"Hora:"})," ",a.time]}),w.jsxs("span",{className:"inline-block",children:[w.jsx("span",{className:"font-medium",children:"Duracin:"})," ",a.duration]})]})]}),w.jsx("div",{className:"flex space-x-2",children:w.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",onClick:()=>{const l=prompt("Nueva hora (HH:MM):",a.time);l&&s(o.id,a.id,l)},children:w.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})})]})},a.id))}),w.jsx("div",{className:"px-6 py-3 bg-gray-50 text-right",children:w.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"+ Aadir momento"})})]},o.id))}),w.jsxs("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg",children:[w.jsxs("h3",{className:"font-medium text-blue-800 flex items-center",children:[w.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Consejo de planificacin"]}),w.jsx("p",{className:"mt-1 text-sm text-blue-700",children:"Asegrate de incluir tiempos de transicin entre eventos. Como regla general, aade un 10-15% de tiempo extra a cada bloque para imprevistos."})]})]})},K9e=()=>{const[t,e]=F.useState("dia-previo"),[n,r]=F.useState(""),[s,o]=F.useState({"dia-previo":[{id:1,task:"Recoger trajes y vestidos",responsible:"Novio",dueDate:"2025-06-20",status:"pending"},{id:2,task:"Ensayo general de la ceremonia",responsible:"Ambos",dueDate:"2025-06-20",status:"pending"},{id:3,task:"Confirmar horarios con proveedores",responsible:"Novia",dueDate:"2025-06-20",status:"completed"}],"antes-inicio":[{id:4,task:"Revisar decoracin del lugar",responsible:"Madrina",dueDate:"2025-06-21",status:"pending"},{id:5,task:"Preparar discurso",responsible:"Padre del novio",dueDate:"2025-06-21",status:"pending"}]}),a=f=>{if(f.preventDefault(),!n.trim())return;const h={id:Date.now(),task:n.trim(),responsible:"",dueDate:"",status:"pending"};o(p=>({...p,[t]:[...p[t],h]})),r("")},l=(f,h)=>{o(p=>({...p,[f]:p[f].map(v=>v.id===h?{...v,status:v.status==="completed"?"pending":"completed"}:v)}))},c=(f,h)=>{window.confirm("Ests seguro de eliminar esta tarea?")&&o(p=>({...p,[f]:p[f].filter(v=>v.id!==h)}))},u=(f,h,p,v)=>{o(g=>({...g,[f]:g[f].map(b=>b.id===h?{...b,[p]:v}:b)}))},d=[{id:"dia-previo",name:"Da Previo a la Boda"},{id:"antes-inicio",name:"Antes de Empezar"}];return w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Checklist de Protocolo"}),w.jsx("p",{className:"text-gray-600",children:"Organiza las tareas previas al gran da"})]}),w.jsx("div",{className:"border-b border-gray-200",children:w.jsx("nav",{className:"-mb-px flex space-x-8",children:d.map(f=>w.jsxs("button",{onClick:()=>e(f.id),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${t===f.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[f.name,w.jsx("span",{className:"ml-2 bg-gray-100 text-gray-600 text-xs font-medium px-2 py-0.5 rounded-full",children:s[f.id].length})]},f.id))})}),w.jsxs("form",{onSubmit:a,className:"flex space-x-2",children:[w.jsx("div",{className:"flex-1",children:w.jsx("input",{type:"text",value:n,onChange:f=>r(f.target.value),placeholder:"Nueva tarea...",className:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})}),w.jsx(Tn,{type:"submit",disabled:!n.trim(),children:"Aadir"})]}),w.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:w.jsx("ul",{className:"divide-y divide-gray-200",children:s[t].length===0?w.jsx("li",{className:"p-6 text-center text-gray-500",children:"No hay tareas en esta seccin. Aade tu primera tarea!"}):s[t].map(f=>w.jsx("li",{className:"px-4 py-4 sm:px-6",children:w.jsxs("div",{className:"flex items-center",children:[w.jsx("input",{type:"checkbox",checked:f.status==="completed",onChange:()=>l(t,f.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),w.jsxs("div",{className:"ml-3 flex-1",children:[w.jsx("div",{className:`flex items-center ${f.status==="completed"?"line-through text-gray-400":"text-gray-900"}`,children:w.jsx("span",{className:"font-medium",children:f.task})}),w.jsxs("div",{className:"mt-1 flex flex-col sm:flex-row sm:items-center text-sm text-gray-500",children:[w.jsxs("div",{className:"mt-1 sm:mt-0 sm:ml-4",children:[w.jsx("span",{className:"mr-2",children:"Responsable:"}),w.jsxs("select",{value:f.responsible,onChange:h=>u(t,f.id,"responsible",h.target.value),className:"border-b border-dashed border-gray-300 bg-transparent focus:outline-none focus:border-blue-500",children:[w.jsx("option",{value:"",children:"Seleccionar"}),w.jsx("option",{value:"Novio",children:"Novio"}),w.jsx("option",{value:"Novia",children:"Novia"}),w.jsx("option",{value:"Ambos",children:"Ambos"}),w.jsx("option",{value:"Madrina",children:"Madrina"}),w.jsx("option",{value:"Padrino",children:"Padrino"}),w.jsx("option",{value:"Padres",children:"Padres"}),w.jsx("option",{value:"Wedding Planner",children:"Wedding Planner"})]})]}),w.jsxs("div",{className:"mt-1 sm:mt-0 sm:ml-4",children:[w.jsx("span",{className:"mr-2",children:"Fecha:"}),w.jsx("input",{type:"date",value:f.dueDate,onChange:h=>u(t,f.id,"dueDate",h.target.value),className:"border-b border-dashed border-gray-300 bg-transparent focus:outline-none focus:border-blue-500"})]})]})]}),w.jsx("button",{onClick:()=>c(t,f.id),className:"ml-2 text-gray-400 hover:text-red-500",children:w.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})},f.id))})}),w.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-5 sm:grid-cols-3",children:[w.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:w.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[w.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Tareas"}),w.jsx("dd",{className:"mt-1 text-3xl font-semibold text-gray-900",children:s[t].length})]})}),w.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:w.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[w.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Completadas"}),w.jsx("dd",{className:"mt-1 text-3xl font-semibold text-green-600",children:s[t].filter(f=>f.status==="completed").length})]})}),w.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:w.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[w.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Pendientes"}),w.jsx("dd",{className:"mt-1 text-3xl font-semibold text-yellow-600",children:s[t].filter(f=>f.status==="pending").length})]})})]})]})},Y9e=()=>{const{user:t}=il(),[e,n]=F.useState("lecturas"),[r,s]=F.useState([{id:1,title:"Lectura 1",content:"Texto de la primera lectura...",duration:"3 min",status:"draft"},{id:2,title:"Evangelio",content:"Texto del evangelio...",duration:"5 min",status:"final"}]),[o,a]=F.useState([{id:1,type:"ramo",recipient:"Madre de la novia",table:"Mesa 1",description:"Ramo de rosas blancas",notes:"Entregar despus del primer baile",status:"pending"}]),[l,c]=F.useState(null),[u,d]=F.useState(!1),[f,h]=F.useState(""),p=(t==null?void 0:t.role)==="wedding-planner"||(t==null?void 0:t.role)==="ayudante",v=E=>{E.preventDefault();const T=E.target,S=new FormData(T),A=S.get("title"),C=S.get("content");if(l)s(r.map(P=>P.id===l.id?{...P,title:A,content:C,status:"draft"}:P));else{const P={id:Date.now(),title:A,content:C,duration:"5 min",status:"draft"};s([...r,P])}c(null),T.reset()},g=E=>{h(E),d(!0)},b=E=>{const T=E.trim().split(/\s+/).length;return`${Math.ceil(T/150)} min`},y=E=>{const T=E.target.value,S=b(T);l&&c({...l,content:T,duration:S})},x=E=>{E.preventDefault();const T=E.target,S=new FormData(T),A={id:Date.now(),type:S.get("type"),recipient:S.get("recipient"),table:S.get("table"),description:S.get("description"),notes:S.get("notes"),status:"pending"};a([...o,A]),T.reset()};return w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Ayuda para la Ceremonia"}),w.jsx("p",{className:"text-gray-600",children:"Gestiona las lecturas y momentos especiales de tu ceremonia"})]}),w.jsx("div",{className:"border-b border-gray-200",children:w.jsxs("nav",{className:"-mb-px flex space-x-8",children:[w.jsx("button",{onClick:()=>n("lecturas"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${e==="lecturas"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Lecturas"}),w.jsx("button",{onClick:()=>n("ramos-sorpresas"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${e==="ramos-sorpresas"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Ramos y Sorpresas"})]})}),e==="lecturas"?w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[w.jsx("div",{className:"lg:col-span-1",children:w.jsxs(xt,{className:"h-full",children:[w.jsx("div",{className:"px-4 py-5 border-b",children:w.jsx("h3",{className:"text-lg font-medium",children:"Lecturas de la Ceremonia"})}),w.jsx("div",{className:"overflow-y-auto max-h-96",children:r.length===0?w.jsx("p",{className:"p-4 text-sm text-gray-500",children:"No hay lecturas guardadas"}):w.jsx("ul",{className:"divide-y divide-gray-200",children:r.map(E=>w.jsx("li",{className:"p-4 hover:bg-gray-50 cursor-pointer",children:w.jsxs("div",{className:"flex justify-between items-start",onClick:()=>c(E),children:[w.jsxs("div",{children:[w.jsx("h4",{className:"font-medium",children:E.title}),w.jsxs("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:[E.content.substring(0,100),E.content.length>100?"...":""]}),w.jsxs("div",{className:"mt-2 flex items-center text-xs text-gray-500",children:[w.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full bg-blue-100 text-blue-800",children:E.duration}),w.jsx("span",{className:"ml-2",children:E.status==="draft"?"Borrador":"Finalizado"})]})]}),w.jsx("button",{className:"text-gray-400 hover:text-gray-600",onClick:T=>{T.stopPropagation(),g(E.content)},children:w.jsxs("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})},E.id))})}),w.jsx("div",{className:"px-4 py-3 bg-gray-50 text-right",children:w.jsx(Tn,{onClick:()=>c({id:null,title:"",content:"",status:"draft"}),className:"text-sm",children:"+ Nueva Lectura"})})]})}),w.jsx("div",{className:"lg:col-span-2",children:w.jsx(xt,{className:"h-full",children:l?w.jsxs("form",{onSubmit:v,children:[w.jsxs("div",{className:"px-4 py-5 border-b flex justify-between items-center",children:[w.jsx("h3",{className:"text-lg font-medium",children:l.id?"Editar Lectura":"Nueva Lectura"}),w.jsxs("div",{className:"flex space-x-2",children:[w.jsx(Tn,{type:"button",variant:"outline",onClick:()=>g(l.content),disabled:!l.content,children:"Vista Previa"}),w.jsx(Tn,{type:"submit",disabled:!p,children:"Guardar"})]})]}),w.jsxs("div",{className:"p-4 space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo de la lectura"}),w.jsx("input",{type:"text",id:"title",name:"title",defaultValue:l.title,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Ej: Primera Lectura - Carta de San Pablo",required:!0,disabled:!p})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contenido"}),w.jsx("textarea",{id:"content",name:"content",rows:12,defaultValue:l.content,onChange:y,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 font-serif",placeholder:"Escribe aqu el texto completo de la lectura...",required:!0,disabled:!p}),w.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Duracin estimada: ",l.duration]})]}),!p&&w.jsx("div",{className:"p-3 bg-yellow-50 text-yellow-700 text-sm rounded-md",children:"Solo los ayudantes y wedding planners pueden editar las lecturas."})]})]}):w.jsxs("div",{className:"p-8 text-center text-gray-500",children:[w.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),w.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:r.length===0?"No hay lecturas disponibles":"Selecciona una lectura para editar"}),w.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r.length===0?"Comienza creando tu primera lectura para la ceremonia.":"O crea una nueva lectura para la ceremonia."}),w.jsx("div",{className:"mt-6",children:w.jsxs(Tn,{onClick:()=>c({id:null,title:"",content:"",status:"draft"}),className:"inline-flex items-center",children:[w.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:w.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Nueva Lectura"]})})]})})})]}):w.jsxs("div",{className:"space-y-6",children:[w.jsxs(xt,{children:[w.jsx("div",{className:"px-4 py-5 border-b",children:w.jsx("h3",{className:"text-lg font-medium",children:"Aadir Ramo o Sorpresa"})}),w.jsxs("form",{onSubmit:x,className:"p-4",children:[w.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),w.jsxs("select",{id:"type",name:"type",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0,children:[w.jsx("option",{value:"",children:"Seleccionar tipo"}),w.jsx("option",{value:"ramo",children:"Ramo"}),w.jsx("option",{value:"sorpresa",children:"Sorpresa"}),w.jsx("option",{value:"detalle",children:"Detalle Especial"})]})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"recipient",className:"block text-sm font-medium text-gray-700 mb-1",children:"Destinatario"}),w.jsx("input",{type:"text",id:"recipient",name:"recipient",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Ej: Madre de la novia",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"table",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mesa"}),w.jsx("input",{type:"text",id:"table",name:"table",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Ej: Mesa 1",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),w.jsx("input",{type:"text",id:"description",name:"description",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Ej: Ramo de rosas blancas",required:!0})]}),w.jsxs("div",{className:"sm:col-span-2",children:[w.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas adicionales"}),w.jsx("textarea",{id:"notes",name:"notes",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Instrucciones especiales o detalles importantes..."})]})]}),w.jsx("div",{className:"mt-4 flex justify-end",children:w.jsx(Tn,{type:"submit",children:"Aadir a la lista"})})]})]}),w.jsxs(xt,{children:[w.jsx("div",{className:"px-4 py-5 border-b",children:w.jsx("h3",{className:"text-lg font-medium",children:"Lista de Ramos y Sorpresas"})}),o.length===0?w.jsx("div",{className:"p-6 text-center text-gray-500",children:w.jsx("p",{children:"No hay ramos o sorpresas programados an."})}):w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[w.jsx("thead",{className:"bg-gray-50",children:w.jsxs("tr",{children:[w.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),w.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Destinatario"}),w.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mesa"}),w.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripcin"}),w.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),w.jsx("th",{scope:"col",className:"relative px-6 py-3",children:w.jsx("span",{className:"sr-only",children:"Acciones"})})]})}),w.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(E=>w.jsxs("tr",{className:"hover:bg-gray-50",children:[w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:E.type==="ramo"?"Ramo":E.type==="sorpresa"?"Sorpresa":"Detalle"}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.recipient}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.table}),w.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:E.description}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${E.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:E.status==="pending"?"Pendiente":"Entregado"})}),w.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[w.jsx("button",{onClick:()=>{const T=o.map(S=>S.id===E.id?{...S,status:S.status==="pending"?"delivered":"pending"}:S);a(T)},className:"text-blue-600 hover:text-blue-900 mr-3",children:E.status==="pending"?"Marcar como entregado":"Marcar como pendiente"}),w.jsx("button",{onClick:()=>{window.confirm("Ests seguro de eliminar este elemento?")&&a(o.filter(T=>T.id!==E.id))},className:"text-red-600 hover:text-red-900",children:"Eliminar"})]})]},E.id))})]})})]})]}),u&&w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:w.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] flex flex-col",children:[w.jsxs("div",{className:"px-6 py-4 border-b flex justify-between items-center",children:[w.jsx("h3",{className:"text-lg font-medium",children:"Vista Previa de la Lectura"}),w.jsxs("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-500",children:[w.jsx("span",{className:"sr-only",children:"Cerrar"}),w.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),w.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:w.jsx("div",{className:"prose max-w-none",children:w.jsx("p",{className:"whitespace-pre-line",children:f})})}),w.jsx("div",{className:"px-6 py-3 bg-gray-50 text-right",children:w.jsx(Tn,{onClick:()=>d(!1),children:"Cerrar"})})]})})]})};function iy(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var EG={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,s,o){function a(u,d){if(!s[u]){if(!r[u]){var f=typeof iy=="function"&&iy;if(!d&&f)return f(u,!0);if(l)return l(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var p=s[u]={exports:{}};r[u][0].call(p.exports,function(v){var g=r[u][1][v];return a(g||v)},p,p.exports,n,r,s,o)}return s[u].exports}for(var l=typeof iy=="function"&&iy,c=0;c<o.length;c++)a(o[c]);return a}({1:[function(n,r,s){var o=n("./utils"),a=n("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(c){for(var u,d,f,h,p,v,g,b=[],y=0,x=c.length,E=x,T=o.getTypeOf(c)!=="string";y<c.length;)E=x-y,f=T?(u=c[y++],d=y<x?c[y++]:0,y<x?c[y++]:0):(u=c.charCodeAt(y++),d=y<x?c.charCodeAt(y++):0,y<x?c.charCodeAt(y++):0),h=u>>2,p=(3&u)<<4|d>>4,v=1<E?(15&d)<<2|f>>6:64,g=2<E?63&f:64,b.push(l.charAt(h)+l.charAt(p)+l.charAt(v)+l.charAt(g));return b.join("")},s.decode=function(c){var u,d,f,h,p,v,g=0,b=0,y="data:";if(c.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var x,E=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===l.charAt(64)&&E--,c.charAt(c.length-2)===l.charAt(64)&&E--,E%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=a.uint8array?new Uint8Array(0|E):new Array(0|E);g<c.length;)u=l.indexOf(c.charAt(g++))<<2|(h=l.indexOf(c.charAt(g++)))>>4,d=(15&h)<<4|(p=l.indexOf(c.charAt(g++)))>>2,f=(3&p)<<6|(v=l.indexOf(c.charAt(g++))),x[b++]=u,p!==64&&(x[b++]=d),v!==64&&(x[b++]=f);return x}},{"./support":30,"./utils":32}],2:[function(n,r,s){var o=n("./external"),a=n("./stream/DataWorker"),l=n("./stream/Crc32Probe"),c=n("./stream/DataLengthProbe");function u(d,f,h,p,v){this.compressedSize=d,this.uncompressedSize=f,this.crc32=h,this.compression=p,this.compressedContent=v}u.prototype={getContentWorker:function(){var d=new a(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),f=this;return d.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new a(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(d,f,h){return d.pipe(new l).pipe(new c("uncompressedSize")).pipe(f.compressWorker(h)).pipe(new c("compressedSize")).withStreamInfo("compression",f)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,s){var o=n("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},s.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,s){var o=n("./utils"),a=function(){for(var l,c=[],u=0;u<256;u++){l=u;for(var d=0;d<8;d++)l=1&l?3988292384^l>>>1:l>>>1;c[u]=l}return c}();r.exports=function(l,c){return l!==void 0&&l.length?o.getTypeOf(l)!=="string"?function(u,d,f,h){var p=a,v=h+f;u^=-1;for(var g=h;g<v;g++)u=u>>>8^p[255&(u^d[g])];return-1^u}(0|c,l,l.length,0):function(u,d,f,h){var p=a,v=h+f;u^=-1;for(var g=h;g<v;g++)u=u>>>8^p[255&(u^d.charCodeAt(g))];return-1^u}(0|c,l,l.length,0):0}},{"./utils":32}],5:[function(n,r,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(n,r,s){var o=null;o=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:o}},{lie:37}],7:[function(n,r,s){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=n("pako"),l=n("./utils"),c=n("./stream/GenericWorker"),u=o?"uint8array":"array";function d(f,h){c.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=h,this.meta={}}s.magic="\b\0",l.inherits(d,c),d.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(u,f.data),!1)},d.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(h){f.push({data:h,meta:f.meta})}},s.compressWorker=function(f){return new d("Deflate",f)},s.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,s){function o(p,v){var g,b="";for(g=0;g<v;g++)b+=String.fromCharCode(255&p),p>>>=8;return b}function a(p,v,g,b,y,x){var E,T,S=p.file,A=p.compression,C=x!==u.utf8encode,P=l.transformTo("string",x(S.name)),I=l.transformTo("string",u.utf8encode(S.name)),R=S.comment,j=l.transformTo("string",x(R)),O=l.transformTo("string",u.utf8encode(R)),D=I.length!==S.name.length,N=O.length!==R.length,U="",K="",q="",Y=S.dir,G=S.date,J={crc32:0,compressedSize:0,uncompressedSize:0};v&&!g||(J.crc32=p.crc32,J.compressedSize=p.compressedSize,J.uncompressedSize=p.uncompressedSize);var H=0;v&&(H|=8),C||!D&&!N||(H|=2048);var V=0,ee=0;Y&&(V|=16),y==="UNIX"?(ee=798,V|=function(oe,xe){var Se=oe;return oe||(Se=xe?16893:33204),(65535&Se)<<16}(S.unixPermissions,Y)):(ee=20,V|=function(oe){return 63&(oe||0)}(S.dosPermissions)),E=G.getUTCHours(),E<<=6,E|=G.getUTCMinutes(),E<<=5,E|=G.getUTCSeconds()/2,T=G.getUTCFullYear()-1980,T<<=4,T|=G.getUTCMonth()+1,T<<=5,T|=G.getUTCDate(),D&&(K=o(1,1)+o(d(P),4)+I,U+="up"+o(K.length,2)+K),N&&(q=o(1,1)+o(d(j),4)+O,U+="uc"+o(q.length,2)+q);var se="";return se+=`
\0`,se+=o(H,2),se+=A.magic,se+=o(E,2),se+=o(T,2),se+=o(J.crc32,4),se+=o(J.compressedSize,4),se+=o(J.uncompressedSize,4),se+=o(P.length,2),se+=o(U.length,2),{fileRecord:f.LOCAL_FILE_HEADER+se+P+U,dirRecord:f.CENTRAL_FILE_HEADER+o(ee,2)+se+o(j.length,2)+"\0\0\0\0"+o(V,4)+o(b,4)+P+U+j}}var l=n("../utils"),c=n("../stream/GenericWorker"),u=n("../utf8"),d=n("../crc32"),f=n("../signature");function h(p,v,g,b){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=g,this.encodeFileName=b,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(h,c),h.prototype.push=function(p){var v=p.meta.percent||0,g=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,c.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:g?(v+100*(g-b-1))/g:100}}))},h.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var v=this.streamFiles&&!p.file.dir;if(v){var g=a(p,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:g.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(p){this.accumulate=!1;var v=this.streamFiles&&!p.file.dir,g=a(p,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(g.dirRecord),v)this.push({data:function(b){return f.DATA_DESCRIPTOR+o(b.crc32,4)+o(b.compressedSize,4)+o(b.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:g.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var p=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var g=this.bytesWritten-p,b=function(y,x,E,T,S){var A=l.transformTo("string",S(T));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(y,2)+o(y,2)+o(x,4)+o(E,4)+o(A.length,2)+A}(this.dirRecords.length,g,p,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(p){this._sources.push(p);var v=this;return p.on("data",function(g){v.processChunk(g)}),p.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),p.on("error",function(g){v.error(g)}),this},h.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(p){var v=this._sources;if(!c.prototype.error.call(this,p))return!1;for(var g=0;g<v.length;g++)try{v[g].error(p)}catch{}return!0},h.prototype.lock=function(){c.prototype.lock.call(this);for(var p=this._sources,v=0;v<p.length;v++)p[v].lock()},r.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,s){var o=n("../compressions"),a=n("./ZipFileWorker");s.generateWorker=function(l,c,u){var d=new a(c.streamFiles,u,c.platform,c.encodeFileName),f=0;try{l.forEach(function(h,p){f++;var v=function(x,E){var T=x||E,S=o[T];if(!S)throw new Error(T+" is not a valid compression method !");return S}(p.options.compression,c.compression),g=p.options.compressionOptions||c.compressionOptions||{},b=p.dir,y=p.date;p._compressWorker(v,g).withStreamInfo("file",{name:h,dir:b,date:y,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(d)}),d.entriesCount=f}catch(h){d.error(h)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,s){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new o;for(var l in this)typeof this[l]!="function"&&(a[l]=this[l]);return a}}(o.prototype=n("./object")).loadAsync=n("./load"),o.support=n("./support"),o.defaults=n("./defaults"),o.version="3.10.1",o.loadAsync=function(a,l){return new o().loadAsync(a,l)},o.external=n("./external"),r.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,s){var o=n("./utils"),a=n("./external"),l=n("./utf8"),c=n("./zipEntries"),u=n("./stream/Crc32Probe"),d=n("./nodejsUtils");function f(h){return new a.Promise(function(p,v){var g=h.decompressed.getContentWorker().pipe(new u);g.on("error",function(b){v(b)}).on("end",function(){g.streamInfo.crc32!==h.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}r.exports=function(h,p){var v=this;return p=o.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),d.isNode&&d.isStream(h)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",h,!0,p.optimizedBinaryString,p.base64).then(function(g){var b=new c(p);return b.load(g),b}).then(function(g){var b=[a.Promise.resolve(g)],y=g.files;if(p.checkCRC32)for(var x=0;x<y.length;x++)b.push(f(y[x]));return a.Promise.all(b)}).then(function(g){for(var b=g.shift(),y=b.files,x=0;x<y.length;x++){var E=y[x],T=E.fileNameStr,S=o.resolve(E.fileNameStr);v.file(S,E.decompressed,{binary:!0,optimizedBinaryString:!0,date:E.date,dir:E.dir,comment:E.fileCommentStr.length?E.fileCommentStr:null,unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions,createFolders:p.createFolders}),E.dir||(v.file(S).unsafeOriginalName=T)}return b.zipComment.length&&(v.comment=b.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,s){var o=n("../utils"),a=n("../stream/GenericWorker");function l(c,u){a.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(u)}o.inherits(l,a),l.prototype._bindStream=function(c){var u=this;(this._stream=c).pause(),c.on("data",function(d){u.push({data:d,meta:{percent:0}})}).on("error",function(d){u.isPaused?this.generatedError=d:u.error(d)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},l.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,s){var o=n("readable-stream").Readable;function a(l,c,u){o.call(this,c),this._helper=l;var d=this;l.on("data",function(f,h){d.push(f)||d._helper.pause(),u&&u(h)}).on("error",function(f){d.emit("error",f)}).on("end",function(){d.push(null)})}n("../utils").inherits(a,o),a.prototype._read=function(){this._helper.resume()},r.exports=a},{"../utils":32,"readable-stream":16}],14:[function(n,r,s){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,a);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,a)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var a=new Buffer(o);return a.fill(0),a},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(n,r,s){function o(S,A,C){var P,I=l.getTypeOf(A),R=l.extend(C||{},d);R.date=R.date||new Date,R.compression!==null&&(R.compression=R.compression.toUpperCase()),typeof R.unixPermissions=="string"&&(R.unixPermissions=parseInt(R.unixPermissions,8)),R.unixPermissions&&16384&R.unixPermissions&&(R.dir=!0),R.dosPermissions&&16&R.dosPermissions&&(R.dir=!0),R.dir&&(S=y(S)),R.createFolders&&(P=b(S))&&x.call(this,P,!0);var j=I==="string"&&R.binary===!1&&R.base64===!1;C&&C.binary!==void 0||(R.binary=!j),(A instanceof f&&A.uncompressedSize===0||R.dir||!A||A.length===0)&&(R.base64=!1,R.binary=!0,A="",R.compression="STORE",I="string");var O=null;O=A instanceof f||A instanceof c?A:v.isNode&&v.isStream(A)?new g(S,A):l.prepareContent(S,A,R.binary,R.optimizedBinaryString,R.base64);var D=new h(S,O,R);this.files[S]=D}var a=n("./utf8"),l=n("./utils"),c=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),d=n("./defaults"),f=n("./compressedObject"),h=n("./zipObject"),p=n("./generate"),v=n("./nodejsUtils"),g=n("./nodejs/NodejsStreamInputAdapter"),b=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var A=S.lastIndexOf("/");return 0<A?S.substring(0,A):""},y=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},x=function(S,A){return A=A!==void 0?A:d.createFolders,S=y(S),this.files[S]||o.call(this,S,null,{dir:!0,createFolders:A}),this.files[S]};function E(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var A,C,P;for(A in this.files)P=this.files[A],(C=A.slice(this.root.length,A.length))&&A.slice(0,this.root.length)===this.root&&S(C,P)},filter:function(S){var A=[];return this.forEach(function(C,P){S(C,P)&&A.push(P)}),A},file:function(S,A,C){if(arguments.length!==1)return S=this.root+S,o.call(this,S,A,C),this;if(E(S)){var P=S;return this.filter(function(R,j){return!j.dir&&P.test(R)})}var I=this.files[this.root+S];return I&&!I.dir?I:null},folder:function(S){if(!S)return this;if(E(S))return this.filter(function(I,R){return R.dir&&S.test(I)});var A=this.root+S,C=x.call(this,A),P=this.clone();return P.root=C.name,P},remove:function(S){S=this.root+S;var A=this.files[S];if(A||(S.slice(-1)!=="/"&&(S+="/"),A=this.files[S]),A&&!A.dir)delete this.files[S];else for(var C=this.filter(function(I,R){return R.name.slice(0,S.length)===S}),P=0;P<C.length;P++)delete this.files[C[P].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var A,C={};try{if((C=l.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),C.type==="binarystring"&&(C.type="string"),!C.type)throw new Error("No output type specified.");l.checkSupport(C.type),C.platform!=="darwin"&&C.platform!=="freebsd"&&C.platform!=="linux"&&C.platform!=="sunos"||(C.platform="UNIX"),C.platform==="win32"&&(C.platform="DOS");var P=C.comment||this.comment||"";A=p.generateWorker(this,C,P)}catch(I){(A=new c("error")).error(I)}return new u(A,C.type||"string",C.mimeType)},generateAsync:function(S,A){return this.generateInternalStream(S).accumulate(A)},generateNodeStream:function(S,A){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(A)}};r.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,s){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,s){var o=n("./DataReader");function a(l){o.call(this,l);for(var c=0;c<this.data.length;c++)l[c]=255&l[c]}n("../utils").inherits(a,o),a.prototype.byteAt=function(l){return this.data[this.zero+l]},a.prototype.lastIndexOfSignature=function(l){for(var c=l.charCodeAt(0),u=l.charCodeAt(1),d=l.charCodeAt(2),f=l.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===c&&this.data[h+1]===u&&this.data[h+2]===d&&this.data[h+3]===f)return h-this.zero;return-1},a.prototype.readAndCheckSignature=function(l){var c=l.charCodeAt(0),u=l.charCodeAt(1),d=l.charCodeAt(2),f=l.charCodeAt(3),h=this.readData(4);return c===h[0]&&u===h[1]&&d===h[2]&&f===h[3]},a.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=a},{"../utils":32,"./DataReader":18}],18:[function(n,r,s){var o=n("../utils");function a(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var c,u=0;for(this.checkOffset(l),c=this.index+l-1;c>=this.index;c--)u=(u<<8)+this.byteAt(c);return this.index+=l,u},readString:function(l){return o.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},r.exports=a},{"../utils":32}],19:[function(n,r,s){var o=n("./Uint8ArrayReader");function a(l){o.call(this,l)}n("../utils").inherits(a,o),a.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,s){var o=n("./DataReader");function a(l){o.call(this,l)}n("../utils").inherits(a,o),a.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},a.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},a.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},a.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=a},{"../utils":32,"./DataReader":18}],21:[function(n,r,s){var o=n("./ArrayReader");function a(l){o.call(this,l)}n("../utils").inherits(a,o),a.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,s){var o=n("../utils"),a=n("../support"),l=n("./ArrayReader"),c=n("./StringReader"),u=n("./NodeBufferReader"),d=n("./Uint8ArrayReader");r.exports=function(f){var h=o.getTypeOf(f);return o.checkSupport(h),h!=="string"||a.uint8array?h==="nodebuffer"?new u(f):a.uint8array?new d(o.transformTo("uint8array",f)):new l(o.transformTo("array",f)):new c(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,s){var o=n("./GenericWorker"),a=n("../utils");function l(c){o.call(this,"ConvertWorker to "+c),this.destType=c}a.inherits(l,o),l.prototype.processChunk=function(c){this.push({data:a.transformTo(this.destType,c.data),meta:c.meta})},r.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,s){var o=n("./GenericWorker"),a=n("../crc32");function l(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(l,o),l.prototype.processChunk=function(c){this.streamInfo.crc32=a(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,s){var o=n("../utils"),a=n("./GenericWorker");function l(c){a.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}o.inherits(l,a),l.prototype.processChunk=function(c){if(c){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+c.data.length}a.prototype.processChunk.call(this,c)},r.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,s){var o=n("../utils"),a=n("./GenericWorker");function l(c){a.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(d){u.dataIsReady=!0,u.data=d,u.max=d&&d.length||0,u.type=o.getTypeOf(d),u.isPaused||u._tickAndRepeat()},function(d){u.error(d)})}o.inherits(l,a),l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,u);break;case"uint8array":c=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":c=this.data.slice(this.index,u)}return this.index=u,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,s){function o(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,l){return this._listeners[a].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,l){if(this._listeners[a])for(var c=0;c<this._listeners[a].length;c++)this._listeners[a][c].call(this,l)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var l=this;return a.on("data",function(c){l.processChunk(c)}),a.on("end",function(){l.end()}),a.on("error",function(c){l.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,l){return this.extraStreamInfo[a]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=o},{}],29:[function(n,r,s){var o=n("../utils"),a=n("./ConvertWorker"),l=n("./GenericWorker"),c=n("../base64"),u=n("../support"),d=n("../external"),f=null;if(u.nodestream)try{f=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(v,g){return new d.Promise(function(b,y){var x=[],E=v._internalType,T=v._outputType,S=v._mimeType;v.on("data",function(A,C){x.push(A),g&&g(C)}).on("error",function(A){x=[],y(A)}).on("end",function(){try{var A=function(C,P,I){switch(C){case"blob":return o.newBlob(o.transformTo("arraybuffer",P),I);case"base64":return c.encode(P);default:return o.transformTo(C,P)}}(T,function(C,P){var I,R=0,j=null,O=0;for(I=0;I<P.length;I++)O+=P[I].length;switch(C){case"string":return P.join("");case"array":return Array.prototype.concat.apply([],P);case"uint8array":for(j=new Uint8Array(O),I=0;I<P.length;I++)j.set(P[I],R),R+=P[I].length;return j;case"nodebuffer":return Buffer.concat(P);default:throw new Error("concat : unsupported type '"+C+"'")}}(E,x),S);b(A)}catch(C){y(C)}x=[]}).resume()})}function p(v,g,b){var y=g;switch(g){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=g,this._mimeType=b,o.checkSupport(y),this._worker=v.pipe(new a(y)),v.lock()}catch(x){this._worker=new l("error"),this._worker.error(x)}}p.prototype={accumulate:function(v){return h(this,v)},on:function(v,g){var b=this;return v==="data"?this._worker.on(v,function(y){g.call(b,y.data,y.meta)}):this._worker.on(v,function(){o.delay(g,arguments,b)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},v)}},r.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var o=new ArrayBuffer(0);try{s.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(o),s.blob=a.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!n("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,s){for(var o=n("./utils"),a=n("./support"),l=n("./nodejsUtils"),c=n("./stream/GenericWorker"),u=new Array(256),d=0;d<256;d++)u[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;u[254]=u[254]=1;function f(){c.call(this,"utf-8 decode"),this.leftOver=null}function h(){c.call(this,"utf-8 encode")}s.utf8encode=function(p){return a.nodebuffer?l.newBufferFrom(p,"utf-8"):function(v){var g,b,y,x,E,T=v.length,S=0;for(x=0;x<T;x++)(64512&(b=v.charCodeAt(x)))==55296&&x+1<T&&(64512&(y=v.charCodeAt(x+1)))==56320&&(b=65536+(b-55296<<10)+(y-56320),x++),S+=b<128?1:b<2048?2:b<65536?3:4;for(g=a.uint8array?new Uint8Array(S):new Array(S),x=E=0;E<S;x++)(64512&(b=v.charCodeAt(x)))==55296&&x+1<T&&(64512&(y=v.charCodeAt(x+1)))==56320&&(b=65536+(b-55296<<10)+(y-56320),x++),b<128?g[E++]=b:(b<2048?g[E++]=192|b>>>6:(b<65536?g[E++]=224|b>>>12:(g[E++]=240|b>>>18,g[E++]=128|b>>>12&63),g[E++]=128|b>>>6&63),g[E++]=128|63&b);return g}(p)},s.utf8decode=function(p){return a.nodebuffer?o.transformTo("nodebuffer",p).toString("utf-8"):function(v){var g,b,y,x,E=v.length,T=new Array(2*E);for(g=b=0;g<E;)if((y=v[g++])<128)T[b++]=y;else if(4<(x=u[y]))T[b++]=65533,g+=x-1;else{for(y&=x===2?31:x===3?15:7;1<x&&g<E;)y=y<<6|63&v[g++],x--;1<x?T[b++]=65533:y<65536?T[b++]=y:(y-=65536,T[b++]=55296|y>>10&1023,T[b++]=56320|1023&y)}return T.length!==b&&(T.subarray?T=T.subarray(0,b):T.length=b),o.applyFromCharCode(T)}(p=o.transformTo(a.uint8array?"uint8array":"array",p))},o.inherits(f,c),f.prototype.processChunk=function(p){var v=o.transformTo(a.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var g=v;(v=new Uint8Array(g.length+this.leftOver.length)).set(this.leftOver,0),v.set(g,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var b=function(x,E){var T;for((E=E||x.length)>x.length&&(E=x.length),T=E-1;0<=T&&(192&x[T])==128;)T--;return T<0||T===0?E:T+u[x[T]]>E?T:E}(v),y=v;b!==v.length&&(a.uint8array?(y=v.subarray(0,b),this.leftOver=v.subarray(b,v.length)):(y=v.slice(0,b),this.leftOver=v.slice(b,v.length))),this.push({data:s.utf8decode(y),meta:p.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=f,o.inherits(h,c),h.prototype.processChunk=function(p){this.push({data:s.utf8encode(p.data),meta:p.meta})},s.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,s){var o=n("./support"),a=n("./base64"),l=n("./nodejsUtils"),c=n("./external");function u(g){return g}function d(g,b){for(var y=0;y<g.length;++y)b[y]=255&g.charCodeAt(y);return b}n("setimmediate"),s.newBlob=function(g,b){s.checkSupport("blob");try{return new Blob([g],{type:b})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(g),y.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(g,b,y){var x=[],E=0,T=g.length;if(T<=y)return String.fromCharCode.apply(null,g);for(;E<T;)b==="array"||b==="nodebuffer"?x.push(String.fromCharCode.apply(null,g.slice(E,Math.min(E+y,T)))):x.push(String.fromCharCode.apply(null,g.subarray(E,Math.min(E+y,T)))),E+=y;return x.join("")},stringifyByChar:function(g){for(var b="",y=0;y<g.length;y++)b+=String.fromCharCode(g[y]);return b},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function h(g){var b=65536,y=s.getTypeOf(g),x=!0;if(y==="uint8array"?x=f.applyCanBeUsed.uint8array:y==="nodebuffer"&&(x=f.applyCanBeUsed.nodebuffer),x)for(;1<b;)try{return f.stringifyByChunk(g,y,b)}catch{b=Math.floor(b/2)}return f.stringifyByChar(g)}function p(g,b){for(var y=0;y<g.length;y++)b[y]=g[y];return b}s.applyFromCharCode=h;var v={};v.string={string:u,array:function(g){return d(g,new Array(g.length))},arraybuffer:function(g){return v.string.uint8array(g).buffer},uint8array:function(g){return d(g,new Uint8Array(g.length))},nodebuffer:function(g){return d(g,l.allocBuffer(g.length))}},v.array={string:h,array:u,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return l.newBufferFrom(g)}},v.arraybuffer={string:function(g){return h(new Uint8Array(g))},array:function(g){return p(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:u,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return l.newBufferFrom(new Uint8Array(g))}},v.uint8array={string:h,array:function(g){return p(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:u,nodebuffer:function(g){return l.newBufferFrom(g)}},v.nodebuffer={string:h,array:function(g){return p(g,new Array(g.length))},arraybuffer:function(g){return v.nodebuffer.uint8array(g).buffer},uint8array:function(g){return p(g,new Uint8Array(g.length))},nodebuffer:u},s.transformTo=function(g,b){if(b=b||"",!g)return b;s.checkSupport(g);var y=s.getTypeOf(b);return v[y][g](b)},s.resolve=function(g){for(var b=g.split("/"),y=[],x=0;x<b.length;x++){var E=b[x];E==="."||E===""&&x!==0&&x!==b.length-1||(E===".."?y.pop():y.push(E))}return y.join("/")},s.getTypeOf=function(g){return typeof g=="string"?"string":Object.prototype.toString.call(g)==="[object Array]"?"array":o.nodebuffer&&l.isBuffer(g)?"nodebuffer":o.uint8array&&g instanceof Uint8Array?"uint8array":o.arraybuffer&&g instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(g){if(!o[g.toLowerCase()])throw new Error(g+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(g){var b,y,x="";for(y=0;y<(g||"").length;y++)x+="\\x"+((b=g.charCodeAt(y))<16?"0":"")+b.toString(16).toUpperCase();return x},s.delay=function(g,b,y){setImmediate(function(){g.apply(y||null,b||[])})},s.inherits=function(g,b){function y(){}y.prototype=b.prototype,g.prototype=new y},s.extend=function(){var g,b,y={};for(g=0;g<arguments.length;g++)for(b in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],b)&&y[b]===void 0&&(y[b]=arguments[g][b]);return y},s.prepareContent=function(g,b,y,x,E){return c.Promise.resolve(b).then(function(T){return o.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader<"u"?new c.Promise(function(S,A){var C=new FileReader;C.onload=function(P){S(P.target.result)},C.onerror=function(P){A(P.target.error)},C.readAsArrayBuffer(T)}):T}).then(function(T){var S=s.getTypeOf(T);return S?(S==="arraybuffer"?T=s.transformTo("uint8array",T):S==="string"&&(E?T=a.decode(T):y&&x!==!0&&(T=function(A){return d(A,o.uint8array?new Uint8Array(A.length):new Array(A.length))}(T))),T):c.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,s){var o=n("./reader/readerFor"),a=n("./utils"),l=n("./signature"),c=n("./zipEntry"),u=n("./support");function d(f){this.files=[],this.loadOptions=f}d.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(h)+", expected "+a.pretty(f)+")")}},isSignature:function(f,h){var p=this.reader.index;this.reader.setIndex(f);var v=this.reader.readString(4)===h;return this.reader.setIndex(p),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),h=u.uint8array?"uint8array":"array",p=a.transformTo(h,f);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,h,p,v=this.zip64EndOfCentralSize-44;0<v;)f=this.reader.readInt(2),h=this.reader.readInt(4),p=this.reader.readData(h),this.zip64ExtensibleData[f]={id:f,length:h,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,h;for(f=0;f<this.files.length;f++)h=this.files[f],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(f=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var h=f;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var v=h-p;if(0<v)this.isSignature(h,l.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(f){this.reader=o(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,s){var o=n("./reader/readerFor"),a=n("./utils"),l=n("./compressedObject"),c=n("./crc32"),u=n("./utf8"),d=n("./compressions"),f=n("./support");function h(p,v){this.options=p,this.loadOptions=v}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var v,g;if(p.skip(22),this.fileNameLength=p.readInt(2),g=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(g),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=function(b){for(var y in d)if(Object.prototype.hasOwnProperty.call(d,y)&&d[y].magic===b)return d[y];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,v,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var v=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(v),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=o(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var v,g,b,y=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<y;)v=p.readInt(2),g=p.readInt(2),b=p.readData(g),this.extraFields[v]={id:v,length:g,value:b};p.setIndex(y)},handleUTF8:function(){var p=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var g=a.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(g)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var y=a.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var v=o(p.value);return v.readInt(1)!==1||c(this.fileName)!==v.readInt(4)?null:u.utf8decode(v.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var v=o(p.value);return v.readInt(1)!==1||c(this.fileComment)!==v.readInt(4)?null:u.utf8decode(v.readData(p.length-5))}return null}},r.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,s){function o(v,g,b){this.name=v,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=g,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var a=n("./stream/StreamHelper"),l=n("./stream/DataWorker"),c=n("./utf8"),u=n("./compressedObject"),d=n("./stream/GenericWorker");o.prototype={internalStream:function(v){var g=null,b="string";try{if(!v)throw new Error("No output type specified.");var y=(b=v.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),g=this._decompressWorker();var x=!this._dataBinary;x&&!y&&(g=g.pipe(new c.Utf8EncodeWorker)),!x&&y&&(g=g.pipe(new c.Utf8DecodeWorker))}catch(E){(g=new d("error")).error(E)}return new a(g,b,"")},async:function(v,g){return this.internalStream(v).accumulate(g)},nodeStream:function(v,g){return this.internalStream(v||"nodebuffer").toNodejsStream(g)},_compressWorker:function(v,g){if(this._data instanceof u&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new c.Utf8EncodeWorker)),u.createWorkerFrom(b,v,g)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof d?this._data:new l(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<f.length;p++)o.prototype[f[p]]=h;r.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,s){(function(o){var a,l,c=o.MutationObserver||o.WebKitMutationObserver;if(c){var u=0,d=new c(v),f=o.document.createTextNode("");d.observe(f,{characterData:!0}),a=function(){f.data=u=++u%2}}else if(o.setImmediate||o.MessageChannel===void 0)a="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var g=o.document.createElement("script");g.onreadystatechange=function(){v(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},o.document.documentElement.appendChild(g)}:function(){setTimeout(v,0)};else{var h=new o.MessageChannel;h.port1.onmessage=v,a=function(){h.port2.postMessage(0)}}var p=[];function v(){var g,b;l=!0;for(var y=p.length;y;){for(b=p,p=[],g=-1;++g<y;)b[g]();y=p.length}l=!1}r.exports=function(g){p.push(g)!==1||l||a()}}).call(this,typeof cn<"u"?cn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,s){var o=n("immediate");function a(){}var l={},c=["REJECTED"],u=["FULFILLED"],d=["PENDING"];function f(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,y!==a&&g(this,y)}function h(y,x,E){this.promise=y,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}function p(y,x,E){o(function(){var T;try{T=x(E)}catch(S){return l.reject(y,S)}T===y?l.reject(y,new TypeError("Cannot resolve promise with itself")):l.resolve(y,T)})}function v(y){var x=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof x=="function")return function(){x.apply(y,arguments)}}function g(y,x){var E=!1;function T(C){E||(E=!0,l.reject(y,C))}function S(C){E||(E=!0,l.resolve(y,C))}var A=b(function(){x(S,T)});A.status==="error"&&T(A.value)}function b(y,x){var E={};try{E.value=y(x),E.status="success"}catch(T){E.status="error",E.value=T}return E}(r.exports=f).prototype.finally=function(y){if(typeof y!="function")return this;var x=this.constructor;return this.then(function(E){return x.resolve(y()).then(function(){return E})},function(E){return x.resolve(y()).then(function(){throw E})})},f.prototype.catch=function(y){return this.then(null,y)},f.prototype.then=function(y,x){if(typeof y!="function"&&this.state===u||typeof x!="function"&&this.state===c)return this;var E=new this.constructor(a);return this.state!==d?p(E,this.state===u?y:x,this.outcome):this.queue.push(new h(E,y,x)),E},h.prototype.callFulfilled=function(y){l.resolve(this.promise,y)},h.prototype.otherCallFulfilled=function(y){p(this.promise,this.onFulfilled,y)},h.prototype.callRejected=function(y){l.reject(this.promise,y)},h.prototype.otherCallRejected=function(y){p(this.promise,this.onRejected,y)},l.resolve=function(y,x){var E=b(v,x);if(E.status==="error")return l.reject(y,E.value);var T=E.value;if(T)g(y,T);else{y.state=u,y.outcome=x;for(var S=-1,A=y.queue.length;++S<A;)y.queue[S].callFulfilled(x)}return y},l.reject=function(y,x){y.state=c,y.outcome=x;for(var E=-1,T=y.queue.length;++E<T;)y.queue[E].callRejected(x);return y},f.resolve=function(y){return y instanceof this?y:l.resolve(new this(a),y)},f.reject=function(y){var x=new this(a);return l.reject(x,y)},f.all=function(y){var x=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=y.length,T=!1;if(!E)return this.resolve([]);for(var S=new Array(E),A=0,C=-1,P=new this(a);++C<E;)I(y[C],C);return P;function I(R,j){x.resolve(R).then(function(O){S[j]=O,++A!==E||T||(T=!0,l.resolve(P,S))},function(O){T||(T=!0,l.reject(P,O))})}},f.race=function(y){var x=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=y.length,T=!1;if(!E)return this.resolve([]);for(var S=-1,A=new this(a);++S<E;)C=y[S],x.resolve(C).then(function(P){T||(T=!0,l.resolve(A,P))},function(P){T||(T=!0,l.reject(A,P))});var C;return A}},{immediate:36}],38:[function(n,r,s){var o={};(0,n("./lib/utils/common").assign)(o,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,s){var o=n("./zlib/deflate"),a=n("./utils/common"),l=n("./utils/strings"),c=n("./zlib/messages"),u=n("./zlib/zstream"),d=Object.prototype.toString,f=0,h=-1,p=0,v=8;function g(y){if(!(this instanceof g))return new g(y);this.options=a.assign({level:h,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},y||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var E=o.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(E!==f)throw new Error(c[E]);if(x.header&&o.deflateSetHeader(this.strm,x.header),x.dictionary){var T;if(T=typeof x.dictionary=="string"?l.string2buf(x.dictionary):d.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(E=o.deflateSetDictionary(this.strm,T))!==f)throw new Error(c[E]);this._dict_set=!0}}function b(y,x){var E=new g(x);if(E.push(y,!0),E.err)throw E.msg||c[E.err];return E.result}g.prototype.push=function(y,x){var E,T,S=this.strm,A=this.options.chunkSize;if(this.ended)return!1;T=x===~~x?x:x===!0?4:0,typeof y=="string"?S.input=l.string2buf(y):d.call(y)==="[object ArrayBuffer]"?S.input=new Uint8Array(y):S.input=y,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new a.Buf8(A),S.next_out=0,S.avail_out=A),(E=o.deflate(S,T))!==1&&E!==f)return this.onEnd(E),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||T!==4&&T!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(a.shrinkBuf(S.output,S.next_out))):this.onData(a.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&E!==1);return T===4?(E=o.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===f):T!==2||(this.onEnd(f),!(S.avail_out=0))},g.prototype.onData=function(y){this.chunks.push(y)},g.prototype.onEnd=function(y){y===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},s.Deflate=g,s.deflate=b,s.deflateRaw=function(y,x){return(x=x||{}).raw=!0,b(y,x)},s.gzip=function(y,x){return(x=x||{}).gzip=!0,b(y,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,s){var o=n("./zlib/inflate"),a=n("./utils/common"),l=n("./utils/strings"),c=n("./zlib/constants"),u=n("./zlib/messages"),d=n("./zlib/zstream"),f=n("./zlib/gzheader"),h=Object.prototype.toString;function p(g){if(!(this instanceof p))return new p(g);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},g||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||g&&g.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&!(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var y=o.inflateInit2(this.strm,b.windowBits);if(y!==c.Z_OK)throw new Error(u[y]);this.header=new f,o.inflateGetHeader(this.strm,this.header)}function v(g,b){var y=new p(b);if(y.push(g,!0),y.err)throw y.msg||u[y.err];return y.result}p.prototype.push=function(g,b){var y,x,E,T,S,A,C=this.strm,P=this.options.chunkSize,I=this.options.dictionary,R=!1;if(this.ended)return!1;x=b===~~b?b:b===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof g=="string"?C.input=l.binstring2buf(g):h.call(g)==="[object ArrayBuffer]"?C.input=new Uint8Array(g):C.input=g,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new a.Buf8(P),C.next_out=0,C.avail_out=P),(y=o.inflate(C,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&I&&(A=typeof I=="string"?l.string2buf(I):h.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,y=o.inflateSetDictionary(this.strm,A)),y===c.Z_BUF_ERROR&&R===!0&&(y=c.Z_OK,R=!1),y!==c.Z_STREAM_END&&y!==c.Z_OK)return this.onEnd(y),!(this.ended=!0);C.next_out&&(C.avail_out!==0&&y!==c.Z_STREAM_END&&(C.avail_in!==0||x!==c.Z_FINISH&&x!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(E=l.utf8border(C.output,C.next_out),T=C.next_out-E,S=l.buf2string(C.output,E),C.next_out=T,C.avail_out=P-T,T&&a.arraySet(C.output,C.output,E,T,0),this.onData(S)):this.onData(a.shrinkBuf(C.output,C.next_out)))),C.avail_in===0&&C.avail_out===0&&(R=!0)}while((0<C.avail_in||C.avail_out===0)&&y!==c.Z_STREAM_END);return y===c.Z_STREAM_END&&(x=c.Z_FINISH),x===c.Z_FINISH?(y=o.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===c.Z_OK):x!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(C.avail_out=0))},p.prototype.onData=function(g){this.chunks.push(g)},p.prototype.onEnd=function(g){g===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},s.Inflate=p,s.inflate=v,s.inflateRaw=function(g,b){return(b=b||{}).raw=!0,v(g,b)},s.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,s){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(c){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var d=u.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var f in d)d.hasOwnProperty(f)&&(c[f]=d[f])}}return c},s.shrinkBuf=function(c,u){return c.length===u?c:c.subarray?c.subarray(0,u):(c.length=u,c)};var a={arraySet:function(c,u,d,f,h){if(u.subarray&&c.subarray)c.set(u.subarray(d,d+f),h);else for(var p=0;p<f;p++)c[h+p]=u[d+p]},flattenChunks:function(c){var u,d,f,h,p,v;for(u=f=0,d=c.length;u<d;u++)f+=c[u].length;for(v=new Uint8Array(f),u=h=0,d=c.length;u<d;u++)p=c[u],v.set(p,h),h+=p.length;return v}},l={arraySet:function(c,u,d,f,h){for(var p=0;p<f;p++)c[h+p]=u[d+p]},flattenChunks:function(c){return[].concat.apply([],c)}};s.setTyped=function(c){c?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,a)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,l))},s.setTyped(o)},{}],42:[function(n,r,s){var o=n("./common"),a=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var c=new o.Buf8(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function d(f,h){if(h<65537&&(f.subarray&&l||!f.subarray&&a))return String.fromCharCode.apply(null,o.shrinkBuf(f,h));for(var p="",v=0;v<h;v++)p+=String.fromCharCode(f[v]);return p}c[254]=c[254]=1,s.string2buf=function(f){var h,p,v,g,b,y=f.length,x=0;for(g=0;g<y;g++)(64512&(p=f.charCodeAt(g)))==55296&&g+1<y&&(64512&(v=f.charCodeAt(g+1)))==56320&&(p=65536+(p-55296<<10)+(v-56320),g++),x+=p<128?1:p<2048?2:p<65536?3:4;for(h=new o.Buf8(x),g=b=0;b<x;g++)(64512&(p=f.charCodeAt(g)))==55296&&g+1<y&&(64512&(v=f.charCodeAt(g+1)))==56320&&(p=65536+(p-55296<<10)+(v-56320),g++),p<128?h[b++]=p:(p<2048?h[b++]=192|p>>>6:(p<65536?h[b++]=224|p>>>12:(h[b++]=240|p>>>18,h[b++]=128|p>>>12&63),h[b++]=128|p>>>6&63),h[b++]=128|63&p);return h},s.buf2binstring=function(f){return d(f,f.length)},s.binstring2buf=function(f){for(var h=new o.Buf8(f.length),p=0,v=h.length;p<v;p++)h[p]=f.charCodeAt(p);return h},s.buf2string=function(f,h){var p,v,g,b,y=h||f.length,x=new Array(2*y);for(p=v=0;p<y;)if((g=f[p++])<128)x[v++]=g;else if(4<(b=c[g]))x[v++]=65533,p+=b-1;else{for(g&=b===2?31:b===3?15:7;1<b&&p<y;)g=g<<6|63&f[p++],b--;1<b?x[v++]=65533:g<65536?x[v++]=g:(g-=65536,x[v++]=55296|g>>10&1023,x[v++]=56320|1023&g)}return d(x,v)},s.utf8border=function(f,h){var p;for((h=h||f.length)>f.length&&(h=f.length),p=h-1;0<=p&&(192&f[p])==128;)p--;return p<0||p===0?h:p+c[f[p]]>h?p:h}},{"./common":41}],43:[function(n,r,s){r.exports=function(o,a,l,c){for(var u=65535&o|0,d=o>>>16&65535|0,f=0;l!==0;){for(l-=f=2e3<l?2e3:l;d=d+(u=u+a[c++]|0)|0,--f;);u%=65521,d%=65521}return u|d<<16|0}},{}],44:[function(n,r,s){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,s){var o=function(){for(var a,l=[],c=0;c<256;c++){a=c;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;l[c]=a}return l}();r.exports=function(a,l,c,u){var d=o,f=u+c;a^=-1;for(var h=u;h<f;h++)a=a>>>8^d[255&(a^l[h])];return-1^a}},{}],46:[function(n,r,s){var o,a=n("../utils/common"),l=n("./trees"),c=n("./adler32"),u=n("./crc32"),d=n("./messages"),f=0,h=4,p=0,v=-2,g=-1,b=4,y=2,x=8,E=9,T=286,S=30,A=19,C=2*T+1,P=15,I=3,R=258,j=R+I+1,O=42,D=113,N=1,U=2,K=3,q=4;function Y(M,te){return M.msg=d[te],te}function G(M){return(M<<1)-(4<M?9:0)}function J(M){for(var te=M.length;0<=--te;)M[te]=0}function H(M){var te=M.state,Z=te.pending;Z>M.avail_out&&(Z=M.avail_out),Z!==0&&(a.arraySet(M.output,te.pending_buf,te.pending_out,Z,M.next_out),M.next_out+=Z,te.pending_out+=Z,M.total_out+=Z,M.avail_out-=Z,te.pending-=Z,te.pending===0&&(te.pending_out=0))}function V(M,te){l._tr_flush_block(M,0<=M.block_start?M.block_start:-1,M.strstart-M.block_start,te),M.block_start=M.strstart,H(M.strm)}function ee(M,te){M.pending_buf[M.pending++]=te}function se(M,te){M.pending_buf[M.pending++]=te>>>8&255,M.pending_buf[M.pending++]=255&te}function oe(M,te){var Z,z,W=M.max_chain_length,Q=M.strstart,ue=M.prev_length,de=M.nice_match,re=M.strstart>M.w_size-j?M.strstart-(M.w_size-j):0,he=M.window,Te=M.w_mask,ve=M.prev,Oe=M.strstart+R,Le=he[Q+ue-1],Ne=he[Q+ue];M.prev_length>=M.good_match&&(W>>=2),de>M.lookahead&&(de=M.lookahead);do if(he[(Z=te)+ue]===Ne&&he[Z+ue-1]===Le&&he[Z]===he[Q]&&he[++Z]===he[Q+1]){Q+=2,Z++;do;while(he[++Q]===he[++Z]&&he[++Q]===he[++Z]&&he[++Q]===he[++Z]&&he[++Q]===he[++Z]&&he[++Q]===he[++Z]&&he[++Q]===he[++Z]&&he[++Q]===he[++Z]&&he[++Q]===he[++Z]&&Q<Oe);if(z=R-(Oe-Q),Q=Oe-R,ue<z){if(M.match_start=te,de<=(ue=z))break;Le=he[Q+ue-1],Ne=he[Q+ue]}}while((te=ve[te&Te])>re&&--W!=0);return ue<=M.lookahead?ue:M.lookahead}function xe(M){var te,Z,z,W,Q,ue,de,re,he,Te,ve=M.w_size;do{if(W=M.window_size-M.lookahead-M.strstart,M.strstart>=ve+(ve-j)){for(a.arraySet(M.window,M.window,ve,ve,0),M.match_start-=ve,M.strstart-=ve,M.block_start-=ve,te=Z=M.hash_size;z=M.head[--te],M.head[te]=ve<=z?z-ve:0,--Z;);for(te=Z=ve;z=M.prev[--te],M.prev[te]=ve<=z?z-ve:0,--Z;);W+=ve}if(M.strm.avail_in===0)break;if(ue=M.strm,de=M.window,re=M.strstart+M.lookahead,he=W,Te=void 0,Te=ue.avail_in,he<Te&&(Te=he),Z=Te===0?0:(ue.avail_in-=Te,a.arraySet(de,ue.input,ue.next_in,Te,re),ue.state.wrap===1?ue.adler=c(ue.adler,de,Te,re):ue.state.wrap===2&&(ue.adler=u(ue.adler,de,Te,re)),ue.next_in+=Te,ue.total_in+=Te,Te),M.lookahead+=Z,M.lookahead+M.insert>=I)for(Q=M.strstart-M.insert,M.ins_h=M.window[Q],M.ins_h=(M.ins_h<<M.hash_shift^M.window[Q+1])&M.hash_mask;M.insert&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[Q+I-1])&M.hash_mask,M.prev[Q&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=Q,Q++,M.insert--,!(M.lookahead+M.insert<I)););}while(M.lookahead<j&&M.strm.avail_in!==0)}function Se(M,te){for(var Z,z;;){if(M.lookahead<j){if(xe(M),M.lookahead<j&&te===f)return N;if(M.lookahead===0)break}if(Z=0,M.lookahead>=I&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+I-1])&M.hash_mask,Z=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),Z!==0&&M.strstart-Z<=M.w_size-j&&(M.match_length=oe(M,Z)),M.match_length>=I)if(z=l._tr_tally(M,M.strstart-M.match_start,M.match_length-I),M.lookahead-=M.match_length,M.match_length<=M.max_lazy_match&&M.lookahead>=I){for(M.match_length--;M.strstart++,M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+I-1])&M.hash_mask,Z=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart,--M.match_length!=0;);M.strstart++}else M.strstart+=M.match_length,M.match_length=0,M.ins_h=M.window[M.strstart],M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+1])&M.hash_mask;else z=l._tr_tally(M,0,M.window[M.strstart]),M.lookahead--,M.strstart++;if(z&&(V(M,!1),M.strm.avail_out===0))return N}return M.insert=M.strstart<I-1?M.strstart:I-1,te===h?(V(M,!0),M.strm.avail_out===0?K:q):M.last_lit&&(V(M,!1),M.strm.avail_out===0)?N:U}function ye(M,te){for(var Z,z,W;;){if(M.lookahead<j){if(xe(M),M.lookahead<j&&te===f)return N;if(M.lookahead===0)break}if(Z=0,M.lookahead>=I&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+I-1])&M.hash_mask,Z=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),M.prev_length=M.match_length,M.prev_match=M.match_start,M.match_length=I-1,Z!==0&&M.prev_length<M.max_lazy_match&&M.strstart-Z<=M.w_size-j&&(M.match_length=oe(M,Z),M.match_length<=5&&(M.strategy===1||M.match_length===I&&4096<M.strstart-M.match_start)&&(M.match_length=I-1)),M.prev_length>=I&&M.match_length<=M.prev_length){for(W=M.strstart+M.lookahead-I,z=l._tr_tally(M,M.strstart-1-M.prev_match,M.prev_length-I),M.lookahead-=M.prev_length-1,M.prev_length-=2;++M.strstart<=W&&(M.ins_h=(M.ins_h<<M.hash_shift^M.window[M.strstart+I-1])&M.hash_mask,Z=M.prev[M.strstart&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=M.strstart),--M.prev_length!=0;);if(M.match_available=0,M.match_length=I-1,M.strstart++,z&&(V(M,!1),M.strm.avail_out===0))return N}else if(M.match_available){if((z=l._tr_tally(M,0,M.window[M.strstart-1]))&&V(M,!1),M.strstart++,M.lookahead--,M.strm.avail_out===0)return N}else M.match_available=1,M.strstart++,M.lookahead--}return M.match_available&&(z=l._tr_tally(M,0,M.window[M.strstart-1]),M.match_available=0),M.insert=M.strstart<I-1?M.strstart:I-1,te===h?(V(M,!0),M.strm.avail_out===0?K:q):M.last_lit&&(V(M,!1),M.strm.avail_out===0)?N:U}function ie(M,te,Z,z,W){this.good_length=M,this.max_lazy=te,this.nice_length=Z,this.max_chain=z,this.func=W}function we(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*C),this.dyn_dtree=new a.Buf16(2*(2*S+1)),this.bl_tree=new a.Buf16(2*(2*A+1)),J(this.dyn_ltree),J(this.dyn_dtree),J(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(P+1),this.heap=new a.Buf16(2*T+1),J(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*T+1),J(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function pe(M){var te;return M&&M.state?(M.total_in=M.total_out=0,M.data_type=y,(te=M.state).pending=0,te.pending_out=0,te.wrap<0&&(te.wrap=-te.wrap),te.status=te.wrap?O:D,M.adler=te.wrap===2?0:1,te.last_flush=f,l._tr_init(te),p):Y(M,v)}function X(M){var te=pe(M);return te===p&&function(Z){Z.window_size=2*Z.w_size,J(Z.head),Z.max_lazy_match=o[Z.level].max_lazy,Z.good_match=o[Z.level].good_length,Z.nice_match=o[Z.level].nice_length,Z.max_chain_length=o[Z.level].max_chain,Z.strstart=0,Z.block_start=0,Z.lookahead=0,Z.insert=0,Z.match_length=Z.prev_length=I-1,Z.match_available=0,Z.ins_h=0}(M.state),te}function ae(M,te,Z,z,W,Q){if(!M)return v;var ue=1;if(te===g&&(te=6),z<0?(ue=0,z=-z):15<z&&(ue=2,z-=16),W<1||E<W||Z!==x||z<8||15<z||te<0||9<te||Q<0||b<Q)return Y(M,v);z===8&&(z=9);var de=new we;return(M.state=de).strm=M,de.wrap=ue,de.gzhead=null,de.w_bits=z,de.w_size=1<<de.w_bits,de.w_mask=de.w_size-1,de.hash_bits=W+7,de.hash_size=1<<de.hash_bits,de.hash_mask=de.hash_size-1,de.hash_shift=~~((de.hash_bits+I-1)/I),de.window=new a.Buf8(2*de.w_size),de.head=new a.Buf16(de.hash_size),de.prev=new a.Buf16(de.w_size),de.lit_bufsize=1<<W+6,de.pending_buf_size=4*de.lit_bufsize,de.pending_buf=new a.Buf8(de.pending_buf_size),de.d_buf=1*de.lit_bufsize,de.l_buf=3*de.lit_bufsize,de.level=te,de.strategy=Q,de.method=Z,X(M)}o=[new ie(0,0,0,0,function(M,te){var Z=65535;for(Z>M.pending_buf_size-5&&(Z=M.pending_buf_size-5);;){if(M.lookahead<=1){if(xe(M),M.lookahead===0&&te===f)return N;if(M.lookahead===0)break}M.strstart+=M.lookahead,M.lookahead=0;var z=M.block_start+Z;if((M.strstart===0||M.strstart>=z)&&(M.lookahead=M.strstart-z,M.strstart=z,V(M,!1),M.strm.avail_out===0)||M.strstart-M.block_start>=M.w_size-j&&(V(M,!1),M.strm.avail_out===0))return N}return M.insert=0,te===h?(V(M,!0),M.strm.avail_out===0?K:q):(M.strstart>M.block_start&&(V(M,!1),M.strm.avail_out),N)}),new ie(4,4,8,4,Se),new ie(4,5,16,8,Se),new ie(4,6,32,32,Se),new ie(4,4,16,16,ye),new ie(8,16,32,32,ye),new ie(8,16,128,128,ye),new ie(8,32,128,256,ye),new ie(32,128,258,1024,ye),new ie(32,258,258,4096,ye)],s.deflateInit=function(M,te){return ae(M,te,x,15,8,0)},s.deflateInit2=ae,s.deflateReset=X,s.deflateResetKeep=pe,s.deflateSetHeader=function(M,te){return M&&M.state?M.state.wrap!==2?v:(M.state.gzhead=te,p):v},s.deflate=function(M,te){var Z,z,W,Q;if(!M||!M.state||5<te||te<0)return M?Y(M,v):v;if(z=M.state,!M.output||!M.input&&M.avail_in!==0||z.status===666&&te!==h)return Y(M,M.avail_out===0?-5:v);if(z.strm=M,Z=z.last_flush,z.last_flush=te,z.status===O)if(z.wrap===2)M.adler=0,ee(z,31),ee(z,139),ee(z,8),z.gzhead?(ee(z,(z.gzhead.text?1:0)+(z.gzhead.hcrc?2:0)+(z.gzhead.extra?4:0)+(z.gzhead.name?8:0)+(z.gzhead.comment?16:0)),ee(z,255&z.gzhead.time),ee(z,z.gzhead.time>>8&255),ee(z,z.gzhead.time>>16&255),ee(z,z.gzhead.time>>24&255),ee(z,z.level===9?2:2<=z.strategy||z.level<2?4:0),ee(z,255&z.gzhead.os),z.gzhead.extra&&z.gzhead.extra.length&&(ee(z,255&z.gzhead.extra.length),ee(z,z.gzhead.extra.length>>8&255)),z.gzhead.hcrc&&(M.adler=u(M.adler,z.pending_buf,z.pending,0)),z.gzindex=0,z.status=69):(ee(z,0),ee(z,0),ee(z,0),ee(z,0),ee(z,0),ee(z,z.level===9?2:2<=z.strategy||z.level<2?4:0),ee(z,3),z.status=D);else{var ue=x+(z.w_bits-8<<4)<<8;ue|=(2<=z.strategy||z.level<2?0:z.level<6?1:z.level===6?2:3)<<6,z.strstart!==0&&(ue|=32),ue+=31-ue%31,z.status=D,se(z,ue),z.strstart!==0&&(se(z,M.adler>>>16),se(z,65535&M.adler)),M.adler=1}if(z.status===69)if(z.gzhead.extra){for(W=z.pending;z.gzindex<(65535&z.gzhead.extra.length)&&(z.pending!==z.pending_buf_size||(z.gzhead.hcrc&&z.pending>W&&(M.adler=u(M.adler,z.pending_buf,z.pending-W,W)),H(M),W=z.pending,z.pending!==z.pending_buf_size));)ee(z,255&z.gzhead.extra[z.gzindex]),z.gzindex++;z.gzhead.hcrc&&z.pending>W&&(M.adler=u(M.adler,z.pending_buf,z.pending-W,W)),z.gzindex===z.gzhead.extra.length&&(z.gzindex=0,z.status=73)}else z.status=73;if(z.status===73)if(z.gzhead.name){W=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>W&&(M.adler=u(M.adler,z.pending_buf,z.pending-W,W)),H(M),W=z.pending,z.pending===z.pending_buf_size)){Q=1;break}Q=z.gzindex<z.gzhead.name.length?255&z.gzhead.name.charCodeAt(z.gzindex++):0,ee(z,Q)}while(Q!==0);z.gzhead.hcrc&&z.pending>W&&(M.adler=u(M.adler,z.pending_buf,z.pending-W,W)),Q===0&&(z.gzindex=0,z.status=91)}else z.status=91;if(z.status===91)if(z.gzhead.comment){W=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>W&&(M.adler=u(M.adler,z.pending_buf,z.pending-W,W)),H(M),W=z.pending,z.pending===z.pending_buf_size)){Q=1;break}Q=z.gzindex<z.gzhead.comment.length?255&z.gzhead.comment.charCodeAt(z.gzindex++):0,ee(z,Q)}while(Q!==0);z.gzhead.hcrc&&z.pending>W&&(M.adler=u(M.adler,z.pending_buf,z.pending-W,W)),Q===0&&(z.status=103)}else z.status=103;if(z.status===103&&(z.gzhead.hcrc?(z.pending+2>z.pending_buf_size&&H(M),z.pending+2<=z.pending_buf_size&&(ee(z,255&M.adler),ee(z,M.adler>>8&255),M.adler=0,z.status=D)):z.status=D),z.pending!==0){if(H(M),M.avail_out===0)return z.last_flush=-1,p}else if(M.avail_in===0&&G(te)<=G(Z)&&te!==h)return Y(M,-5);if(z.status===666&&M.avail_in!==0)return Y(M,-5);if(M.avail_in!==0||z.lookahead!==0||te!==f&&z.status!==666){var de=z.strategy===2?function(re,he){for(var Te;;){if(re.lookahead===0&&(xe(re),re.lookahead===0)){if(he===f)return N;break}if(re.match_length=0,Te=l._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++,Te&&(V(re,!1),re.strm.avail_out===0))return N}return re.insert=0,he===h?(V(re,!0),re.strm.avail_out===0?K:q):re.last_lit&&(V(re,!1),re.strm.avail_out===0)?N:U}(z,te):z.strategy===3?function(re,he){for(var Te,ve,Oe,Le,Ne=re.window;;){if(re.lookahead<=R){if(xe(re),re.lookahead<=R&&he===f)return N;if(re.lookahead===0)break}if(re.match_length=0,re.lookahead>=I&&0<re.strstart&&(ve=Ne[Oe=re.strstart-1])===Ne[++Oe]&&ve===Ne[++Oe]&&ve===Ne[++Oe]){Le=re.strstart+R;do;while(ve===Ne[++Oe]&&ve===Ne[++Oe]&&ve===Ne[++Oe]&&ve===Ne[++Oe]&&ve===Ne[++Oe]&&ve===Ne[++Oe]&&ve===Ne[++Oe]&&ve===Ne[++Oe]&&Oe<Le);re.match_length=R-(Le-Oe),re.match_length>re.lookahead&&(re.match_length=re.lookahead)}if(re.match_length>=I?(Te=l._tr_tally(re,1,re.match_length-I),re.lookahead-=re.match_length,re.strstart+=re.match_length,re.match_length=0):(Te=l._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++),Te&&(V(re,!1),re.strm.avail_out===0))return N}return re.insert=0,he===h?(V(re,!0),re.strm.avail_out===0?K:q):re.last_lit&&(V(re,!1),re.strm.avail_out===0)?N:U}(z,te):o[z.level].func(z,te);if(de!==K&&de!==q||(z.status=666),de===N||de===K)return M.avail_out===0&&(z.last_flush=-1),p;if(de===U&&(te===1?l._tr_align(z):te!==5&&(l._tr_stored_block(z,0,0,!1),te===3&&(J(z.head),z.lookahead===0&&(z.strstart=0,z.block_start=0,z.insert=0))),H(M),M.avail_out===0))return z.last_flush=-1,p}return te!==h?p:z.wrap<=0?1:(z.wrap===2?(ee(z,255&M.adler),ee(z,M.adler>>8&255),ee(z,M.adler>>16&255),ee(z,M.adler>>24&255),ee(z,255&M.total_in),ee(z,M.total_in>>8&255),ee(z,M.total_in>>16&255),ee(z,M.total_in>>24&255)):(se(z,M.adler>>>16),se(z,65535&M.adler)),H(M),0<z.wrap&&(z.wrap=-z.wrap),z.pending!==0?p:1)},s.deflateEnd=function(M){var te;return M&&M.state?(te=M.state.status)!==O&&te!==69&&te!==73&&te!==91&&te!==103&&te!==D&&te!==666?Y(M,v):(M.state=null,te===D?Y(M,-3):p):v},s.deflateSetDictionary=function(M,te){var Z,z,W,Q,ue,de,re,he,Te=te.length;if(!M||!M.state||(Q=(Z=M.state).wrap)===2||Q===1&&Z.status!==O||Z.lookahead)return v;for(Q===1&&(M.adler=c(M.adler,te,Te,0)),Z.wrap=0,Te>=Z.w_size&&(Q===0&&(J(Z.head),Z.strstart=0,Z.block_start=0,Z.insert=0),he=new a.Buf8(Z.w_size),a.arraySet(he,te,Te-Z.w_size,Z.w_size,0),te=he,Te=Z.w_size),ue=M.avail_in,de=M.next_in,re=M.input,M.avail_in=Te,M.next_in=0,M.input=te,xe(Z);Z.lookahead>=I;){for(z=Z.strstart,W=Z.lookahead-(I-1);Z.ins_h=(Z.ins_h<<Z.hash_shift^Z.window[z+I-1])&Z.hash_mask,Z.prev[z&Z.w_mask]=Z.head[Z.ins_h],Z.head[Z.ins_h]=z,z++,--W;);Z.strstart=z,Z.lookahead=I-1,xe(Z)}return Z.strstart+=Z.lookahead,Z.block_start=Z.strstart,Z.insert=Z.lookahead,Z.lookahead=0,Z.match_length=Z.prev_length=I-1,Z.match_available=0,M.next_in=de,M.input=re,M.avail_in=ue,Z.wrap=Q,p},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,s){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,s){r.exports=function(o,a){var l,c,u,d,f,h,p,v,g,b,y,x,E,T,S,A,C,P,I,R,j,O,D,N,U;l=o.state,c=o.next_in,N=o.input,u=c+(o.avail_in-5),d=o.next_out,U=o.output,f=d-(a-o.avail_out),h=d+(o.avail_out-257),p=l.dmax,v=l.wsize,g=l.whave,b=l.wnext,y=l.window,x=l.hold,E=l.bits,T=l.lencode,S=l.distcode,A=(1<<l.lenbits)-1,C=(1<<l.distbits)-1;e:do{E<15&&(x+=N[c++]<<E,E+=8,x+=N[c++]<<E,E+=8),P=T[x&A];t:for(;;){if(x>>>=I=P>>>24,E-=I,(I=P>>>16&255)===0)U[d++]=65535&P;else{if(!(16&I)){if(!(64&I)){P=T[(65535&P)+(x&(1<<I)-1)];continue t}if(32&I){l.mode=12;break e}o.msg="invalid literal/length code",l.mode=30;break e}R=65535&P,(I&=15)&&(E<I&&(x+=N[c++]<<E,E+=8),R+=x&(1<<I)-1,x>>>=I,E-=I),E<15&&(x+=N[c++]<<E,E+=8,x+=N[c++]<<E,E+=8),P=S[x&C];n:for(;;){if(x>>>=I=P>>>24,E-=I,!(16&(I=P>>>16&255))){if(!(64&I)){P=S[(65535&P)+(x&(1<<I)-1)];continue n}o.msg="invalid distance code",l.mode=30;break e}if(j=65535&P,E<(I&=15)&&(x+=N[c++]<<E,(E+=8)<I&&(x+=N[c++]<<E,E+=8)),p<(j+=x&(1<<I)-1)){o.msg="invalid distance too far back",l.mode=30;break e}if(x>>>=I,E-=I,(I=d-f)<j){if(g<(I=j-I)&&l.sane){o.msg="invalid distance too far back",l.mode=30;break e}if(D=y,(O=0)===b){if(O+=v-I,I<R){for(R-=I;U[d++]=y[O++],--I;);O=d-j,D=U}}else if(b<I){if(O+=v+b-I,(I-=b)<R){for(R-=I;U[d++]=y[O++],--I;);if(O=0,b<R){for(R-=I=b;U[d++]=y[O++],--I;);O=d-j,D=U}}}else if(O+=b-I,I<R){for(R-=I;U[d++]=y[O++],--I;);O=d-j,D=U}for(;2<R;)U[d++]=D[O++],U[d++]=D[O++],U[d++]=D[O++],R-=3;R&&(U[d++]=D[O++],1<R&&(U[d++]=D[O++]))}else{for(O=d-j;U[d++]=U[O++],U[d++]=U[O++],U[d++]=U[O++],2<(R-=3););R&&(U[d++]=U[O++],1<R&&(U[d++]=U[O++]))}break}}break}}while(c<u&&d<h);c-=R=E>>3,x&=(1<<(E-=R<<3))-1,o.next_in=c,o.next_out=d,o.avail_in=c<u?u-c+5:5-(c-u),o.avail_out=d<h?h-d+257:257-(d-h),l.hold=x,l.bits=E}},{}],49:[function(n,r,s){var o=n("../utils/common"),a=n("./adler32"),l=n("./crc32"),c=n("./inffast"),u=n("./inftrees"),d=1,f=2,h=0,p=-2,v=1,g=852,b=592;function y(O){return(O>>>24&255)+(O>>>8&65280)+((65280&O)<<8)+((255&O)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function E(O){var D;return O&&O.state?(D=O.state,O.total_in=O.total_out=D.total=0,O.msg="",D.wrap&&(O.adler=1&D.wrap),D.mode=v,D.last=0,D.havedict=0,D.dmax=32768,D.head=null,D.hold=0,D.bits=0,D.lencode=D.lendyn=new o.Buf32(g),D.distcode=D.distdyn=new o.Buf32(b),D.sane=1,D.back=-1,h):p}function T(O){var D;return O&&O.state?((D=O.state).wsize=0,D.whave=0,D.wnext=0,E(O)):p}function S(O,D){var N,U;return O&&O.state?(U=O.state,D<0?(N=0,D=-D):(N=1+(D>>4),D<48&&(D&=15)),D&&(D<8||15<D)?p:(U.window!==null&&U.wbits!==D&&(U.window=null),U.wrap=N,U.wbits=D,T(O))):p}function A(O,D){var N,U;return O?(U=new x,(O.state=U).window=null,(N=S(O,D))!==h&&(O.state=null),N):p}var C,P,I=!0;function R(O){if(I){var D;for(C=new o.Buf32(512),P=new o.Buf32(32),D=0;D<144;)O.lens[D++]=8;for(;D<256;)O.lens[D++]=9;for(;D<280;)O.lens[D++]=7;for(;D<288;)O.lens[D++]=8;for(u(d,O.lens,0,288,C,0,O.work,{bits:9}),D=0;D<32;)O.lens[D++]=5;u(f,O.lens,0,32,P,0,O.work,{bits:5}),I=!1}O.lencode=C,O.lenbits=9,O.distcode=P,O.distbits=5}function j(O,D,N,U){var K,q=O.state;return q.window===null&&(q.wsize=1<<q.wbits,q.wnext=0,q.whave=0,q.window=new o.Buf8(q.wsize)),U>=q.wsize?(o.arraySet(q.window,D,N-q.wsize,q.wsize,0),q.wnext=0,q.whave=q.wsize):(U<(K=q.wsize-q.wnext)&&(K=U),o.arraySet(q.window,D,N-U,K,q.wnext),(U-=K)?(o.arraySet(q.window,D,N-U,U,0),q.wnext=U,q.whave=q.wsize):(q.wnext+=K,q.wnext===q.wsize&&(q.wnext=0),q.whave<q.wsize&&(q.whave+=K))),0}s.inflateReset=T,s.inflateReset2=S,s.inflateResetKeep=E,s.inflateInit=function(O){return A(O,15)},s.inflateInit2=A,s.inflate=function(O,D){var N,U,K,q,Y,G,J,H,V,ee,se,oe,xe,Se,ye,ie,we,pe,X,ae,M,te,Z,z,W=0,Q=new o.Buf8(4),ue=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!O||!O.state||!O.output||!O.input&&O.avail_in!==0)return p;(N=O.state).mode===12&&(N.mode=13),Y=O.next_out,K=O.output,J=O.avail_out,q=O.next_in,U=O.input,G=O.avail_in,H=N.hold,V=N.bits,ee=G,se=J,te=h;e:for(;;)switch(N.mode){case v:if(N.wrap===0){N.mode=13;break}for(;V<16;){if(G===0)break e;G--,H+=U[q++]<<V,V+=8}if(2&N.wrap&&H===35615){Q[N.check=0]=255&H,Q[1]=H>>>8&255,N.check=l(N.check,Q,2,0),V=H=0,N.mode=2;break}if(N.flags=0,N.head&&(N.head.done=!1),!(1&N.wrap)||(((255&H)<<8)+(H>>8))%31){O.msg="incorrect header check",N.mode=30;break}if((15&H)!=8){O.msg="unknown compression method",N.mode=30;break}if(V-=4,M=8+(15&(H>>>=4)),N.wbits===0)N.wbits=M;else if(M>N.wbits){O.msg="invalid window size",N.mode=30;break}N.dmax=1<<M,O.adler=N.check=1,N.mode=512&H?10:12,V=H=0;break;case 2:for(;V<16;){if(G===0)break e;G--,H+=U[q++]<<V,V+=8}if(N.flags=H,(255&N.flags)!=8){O.msg="unknown compression method",N.mode=30;break}if(57344&N.flags){O.msg="unknown header flags set",N.mode=30;break}N.head&&(N.head.text=H>>8&1),512&N.flags&&(Q[0]=255&H,Q[1]=H>>>8&255,N.check=l(N.check,Q,2,0)),V=H=0,N.mode=3;case 3:for(;V<32;){if(G===0)break e;G--,H+=U[q++]<<V,V+=8}N.head&&(N.head.time=H),512&N.flags&&(Q[0]=255&H,Q[1]=H>>>8&255,Q[2]=H>>>16&255,Q[3]=H>>>24&255,N.check=l(N.check,Q,4,0)),V=H=0,N.mode=4;case 4:for(;V<16;){if(G===0)break e;G--,H+=U[q++]<<V,V+=8}N.head&&(N.head.xflags=255&H,N.head.os=H>>8),512&N.flags&&(Q[0]=255&H,Q[1]=H>>>8&255,N.check=l(N.check,Q,2,0)),V=H=0,N.mode=5;case 5:if(1024&N.flags){for(;V<16;){if(G===0)break e;G--,H+=U[q++]<<V,V+=8}N.length=H,N.head&&(N.head.extra_len=H),512&N.flags&&(Q[0]=255&H,Q[1]=H>>>8&255,N.check=l(N.check,Q,2,0)),V=H=0}else N.head&&(N.head.extra=null);N.mode=6;case 6:if(1024&N.flags&&(G<(oe=N.length)&&(oe=G),oe&&(N.head&&(M=N.head.extra_len-N.length,N.head.extra||(N.head.extra=new Array(N.head.extra_len)),o.arraySet(N.head.extra,U,q,oe,M)),512&N.flags&&(N.check=l(N.check,U,oe,q)),G-=oe,q+=oe,N.length-=oe),N.length))break e;N.length=0,N.mode=7;case 7:if(2048&N.flags){if(G===0)break e;for(oe=0;M=U[q+oe++],N.head&&M&&N.length<65536&&(N.head.name+=String.fromCharCode(M)),M&&oe<G;);if(512&N.flags&&(N.check=l(N.check,U,oe,q)),G-=oe,q+=oe,M)break e}else N.head&&(N.head.name=null);N.length=0,N.mode=8;case 8:if(4096&N.flags){if(G===0)break e;for(oe=0;M=U[q+oe++],N.head&&M&&N.length<65536&&(N.head.comment+=String.fromCharCode(M)),M&&oe<G;);if(512&N.flags&&(N.check=l(N.check,U,oe,q)),G-=oe,q+=oe,M)break e}else N.head&&(N.head.comment=null);N.mode=9;case 9:if(512&N.flags){for(;V<16;){if(G===0)break e;G--,H+=U[q++]<<V,V+=8}if(H!==(65535&N.check)){O.msg="header crc mismatch",N.mode=30;break}V=H=0}N.head&&(N.head.hcrc=N.flags>>9&1,N.head.done=!0),O.adler=N.check=0,N.mode=12;break;case 10:for(;V<32;){if(G===0)break e;G--,H+=U[q++]<<V,V+=8}O.adler=N.check=y(H),V=H=0,N.mode=11;case 11:if(N.havedict===0)return O.next_out=Y,O.avail_out=J,O.next_in=q,O.avail_in=G,N.hold=H,N.bits=V,2;O.adler=N.check=1,N.mode=12;case 12:if(D===5||D===6)break e;case 13:if(N.last){H>>>=7&V,V-=7&V,N.mode=27;break}for(;V<3;){if(G===0)break e;G--,H+=U[q++]<<V,V+=8}switch(N.last=1&H,V-=1,3&(H>>>=1)){case 0:N.mode=14;break;case 1:if(R(N),N.mode=20,D!==6)break;H>>>=2,V-=2;break e;case 2:N.mode=17;break;case 3:O.msg="invalid block type",N.mode=30}H>>>=2,V-=2;break;case 14:for(H>>>=7&V,V-=7&V;V<32;){if(G===0)break e;G--,H+=U[q++]<<V,V+=8}if((65535&H)!=(H>>>16^65535)){O.msg="invalid stored block lengths",N.mode=30;break}if(N.length=65535&H,V=H=0,N.mode=15,D===6)break e;case 15:N.mode=16;case 16:if(oe=N.length){if(G<oe&&(oe=G),J<oe&&(oe=J),oe===0)break e;o.arraySet(K,U,q,oe,Y),G-=oe,q+=oe,J-=oe,Y+=oe,N.length-=oe;break}N.mode=12;break;case 17:for(;V<14;){if(G===0)break e;G--,H+=U[q++]<<V,V+=8}if(N.nlen=257+(31&H),H>>>=5,V-=5,N.ndist=1+(31&H),H>>>=5,V-=5,N.ncode=4+(15&H),H>>>=4,V-=4,286<N.nlen||30<N.ndist){O.msg="too many length or distance symbols",N.mode=30;break}N.have=0,N.mode=18;case 18:for(;N.have<N.ncode;){for(;V<3;){if(G===0)break e;G--,H+=U[q++]<<V,V+=8}N.lens[ue[N.have++]]=7&H,H>>>=3,V-=3}for(;N.have<19;)N.lens[ue[N.have++]]=0;if(N.lencode=N.lendyn,N.lenbits=7,Z={bits:N.lenbits},te=u(0,N.lens,0,19,N.lencode,0,N.work,Z),N.lenbits=Z.bits,te){O.msg="invalid code lengths set",N.mode=30;break}N.have=0,N.mode=19;case 19:for(;N.have<N.nlen+N.ndist;){for(;ie=(W=N.lencode[H&(1<<N.lenbits)-1])>>>16&255,we=65535&W,!((ye=W>>>24)<=V);){if(G===0)break e;G--,H+=U[q++]<<V,V+=8}if(we<16)H>>>=ye,V-=ye,N.lens[N.have++]=we;else{if(we===16){for(z=ye+2;V<z;){if(G===0)break e;G--,H+=U[q++]<<V,V+=8}if(H>>>=ye,V-=ye,N.have===0){O.msg="invalid bit length repeat",N.mode=30;break}M=N.lens[N.have-1],oe=3+(3&H),H>>>=2,V-=2}else if(we===17){for(z=ye+3;V<z;){if(G===0)break e;G--,H+=U[q++]<<V,V+=8}V-=ye,M=0,oe=3+(7&(H>>>=ye)),H>>>=3,V-=3}else{for(z=ye+7;V<z;){if(G===0)break e;G--,H+=U[q++]<<V,V+=8}V-=ye,M=0,oe=11+(127&(H>>>=ye)),H>>>=7,V-=7}if(N.have+oe>N.nlen+N.ndist){O.msg="invalid bit length repeat",N.mode=30;break}for(;oe--;)N.lens[N.have++]=M}}if(N.mode===30)break;if(N.lens[256]===0){O.msg="invalid code -- missing end-of-block",N.mode=30;break}if(N.lenbits=9,Z={bits:N.lenbits},te=u(d,N.lens,0,N.nlen,N.lencode,0,N.work,Z),N.lenbits=Z.bits,te){O.msg="invalid literal/lengths set",N.mode=30;break}if(N.distbits=6,N.distcode=N.distdyn,Z={bits:N.distbits},te=u(f,N.lens,N.nlen,N.ndist,N.distcode,0,N.work,Z),N.distbits=Z.bits,te){O.msg="invalid distances set",N.mode=30;break}if(N.mode=20,D===6)break e;case 20:N.mode=21;case 21:if(6<=G&&258<=J){O.next_out=Y,O.avail_out=J,O.next_in=q,O.avail_in=G,N.hold=H,N.bits=V,c(O,se),Y=O.next_out,K=O.output,J=O.avail_out,q=O.next_in,U=O.input,G=O.avail_in,H=N.hold,V=N.bits,N.mode===12&&(N.back=-1);break}for(N.back=0;ie=(W=N.lencode[H&(1<<N.lenbits)-1])>>>16&255,we=65535&W,!((ye=W>>>24)<=V);){if(G===0)break e;G--,H+=U[q++]<<V,V+=8}if(ie&&!(240&ie)){for(pe=ye,X=ie,ae=we;ie=(W=N.lencode[ae+((H&(1<<pe+X)-1)>>pe)])>>>16&255,we=65535&W,!(pe+(ye=W>>>24)<=V);){if(G===0)break e;G--,H+=U[q++]<<V,V+=8}H>>>=pe,V-=pe,N.back+=pe}if(H>>>=ye,V-=ye,N.back+=ye,N.length=we,ie===0){N.mode=26;break}if(32&ie){N.back=-1,N.mode=12;break}if(64&ie){O.msg="invalid literal/length code",N.mode=30;break}N.extra=15&ie,N.mode=22;case 22:if(N.extra){for(z=N.extra;V<z;){if(G===0)break e;G--,H+=U[q++]<<V,V+=8}N.length+=H&(1<<N.extra)-1,H>>>=N.extra,V-=N.extra,N.back+=N.extra}N.was=N.length,N.mode=23;case 23:for(;ie=(W=N.distcode[H&(1<<N.distbits)-1])>>>16&255,we=65535&W,!((ye=W>>>24)<=V);){if(G===0)break e;G--,H+=U[q++]<<V,V+=8}if(!(240&ie)){for(pe=ye,X=ie,ae=we;ie=(W=N.distcode[ae+((H&(1<<pe+X)-1)>>pe)])>>>16&255,we=65535&W,!(pe+(ye=W>>>24)<=V);){if(G===0)break e;G--,H+=U[q++]<<V,V+=8}H>>>=pe,V-=pe,N.back+=pe}if(H>>>=ye,V-=ye,N.back+=ye,64&ie){O.msg="invalid distance code",N.mode=30;break}N.offset=we,N.extra=15&ie,N.mode=24;case 24:if(N.extra){for(z=N.extra;V<z;){if(G===0)break e;G--,H+=U[q++]<<V,V+=8}N.offset+=H&(1<<N.extra)-1,H>>>=N.extra,V-=N.extra,N.back+=N.extra}if(N.offset>N.dmax){O.msg="invalid distance too far back",N.mode=30;break}N.mode=25;case 25:if(J===0)break e;if(oe=se-J,N.offset>oe){if((oe=N.offset-oe)>N.whave&&N.sane){O.msg="invalid distance too far back",N.mode=30;break}xe=oe>N.wnext?(oe-=N.wnext,N.wsize-oe):N.wnext-oe,oe>N.length&&(oe=N.length),Se=N.window}else Se=K,xe=Y-N.offset,oe=N.length;for(J<oe&&(oe=J),J-=oe,N.length-=oe;K[Y++]=Se[xe++],--oe;);N.length===0&&(N.mode=21);break;case 26:if(J===0)break e;K[Y++]=N.length,J--,N.mode=21;break;case 27:if(N.wrap){for(;V<32;){if(G===0)break e;G--,H|=U[q++]<<V,V+=8}if(se-=J,O.total_out+=se,N.total+=se,se&&(O.adler=N.check=N.flags?l(N.check,K,se,Y-se):a(N.check,K,se,Y-se)),se=J,(N.flags?H:y(H))!==N.check){O.msg="incorrect data check",N.mode=30;break}V=H=0}N.mode=28;case 28:if(N.wrap&&N.flags){for(;V<32;){if(G===0)break e;G--,H+=U[q++]<<V,V+=8}if(H!==(4294967295&N.total)){O.msg="incorrect length check",N.mode=30;break}V=H=0}N.mode=29;case 29:te=1;break e;case 30:te=-3;break e;case 31:return-4;case 32:default:return p}return O.next_out=Y,O.avail_out=J,O.next_in=q,O.avail_in=G,N.hold=H,N.bits=V,(N.wsize||se!==O.avail_out&&N.mode<30&&(N.mode<27||D!==4))&&j(O,O.output,O.next_out,se-O.avail_out)?(N.mode=31,-4):(ee-=O.avail_in,se-=O.avail_out,O.total_in+=ee,O.total_out+=se,N.total+=se,N.wrap&&se&&(O.adler=N.check=N.flags?l(N.check,K,se,O.next_out-se):a(N.check,K,se,O.next_out-se)),O.data_type=N.bits+(N.last?64:0)+(N.mode===12?128:0)+(N.mode===20||N.mode===15?256:0),(ee==0&&se===0||D===4)&&te===h&&(te=-5),te)},s.inflateEnd=function(O){if(!O||!O.state)return p;var D=O.state;return D.window&&(D.window=null),O.state=null,h},s.inflateGetHeader=function(O,D){var N;return O&&O.state&&2&(N=O.state).wrap?((N.head=D).done=!1,h):p},s.inflateSetDictionary=function(O,D){var N,U=D.length;return O&&O.state?(N=O.state).wrap!==0&&N.mode!==11?p:N.mode===11&&a(1,D,U,0)!==N.check?-3:j(O,D,U,U)?(N.mode=31,-4):(N.havedict=1,h):p},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,s){var o=n("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(d,f,h,p,v,g,b,y){var x,E,T,S,A,C,P,I,R,j=y.bits,O=0,D=0,N=0,U=0,K=0,q=0,Y=0,G=0,J=0,H=0,V=null,ee=0,se=new o.Buf16(16),oe=new o.Buf16(16),xe=null,Se=0;for(O=0;O<=15;O++)se[O]=0;for(D=0;D<p;D++)se[f[h+D]]++;for(K=j,U=15;1<=U&&se[U]===0;U--);if(U<K&&(K=U),U===0)return v[g++]=20971520,v[g++]=20971520,y.bits=1,0;for(N=1;N<U&&se[N]===0;N++);for(K<N&&(K=N),O=G=1;O<=15;O++)if(G<<=1,(G-=se[O])<0)return-1;if(0<G&&(d===0||U!==1))return-1;for(oe[1]=0,O=1;O<15;O++)oe[O+1]=oe[O]+se[O];for(D=0;D<p;D++)f[h+D]!==0&&(b[oe[f[h+D]]++]=D);if(C=d===0?(V=xe=b,19):d===1?(V=a,ee-=257,xe=l,Se-=257,256):(V=c,xe=u,-1),O=N,A=g,Y=D=H=0,T=-1,S=(J=1<<(q=K))-1,d===1&&852<J||d===2&&592<J)return 1;for(;;){for(P=O-Y,R=b[D]<C?(I=0,b[D]):b[D]>C?(I=xe[Se+b[D]],V[ee+b[D]]):(I=96,0),x=1<<O-Y,N=E=1<<q;v[A+(H>>Y)+(E-=x)]=P<<24|I<<16|R|0,E!==0;);for(x=1<<O-1;H&x;)x>>=1;if(x!==0?(H&=x-1,H+=x):H=0,D++,--se[O]==0){if(O===U)break;O=f[h+b[D]]}if(K<O&&(H&S)!==T){for(Y===0&&(Y=K),A+=N,G=1<<(q=O-Y);q+Y<U&&!((G-=se[q+Y])<=0);)q++,G<<=1;if(J+=1<<q,d===1&&852<J||d===2&&592<J)return 1;v[T=H&S]=K<<24|q<<16|A-g|0}}return H!==0&&(v[A+H]=O-Y<<24|64<<16|0),y.bits=K,0}},{"../utils/common":41}],51:[function(n,r,s){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,s){var o=n("../utils/common"),a=0,l=1;function c(W){for(var Q=W.length;0<=--Q;)W[Q]=0}var u=0,d=29,f=256,h=f+1+d,p=30,v=19,g=2*h+1,b=15,y=16,x=7,E=256,T=16,S=17,A=18,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=new Array(2*(h+2));c(j);var O=new Array(2*p);c(O);var D=new Array(512);c(D);var N=new Array(256);c(N);var U=new Array(d);c(U);var K,q,Y,G=new Array(p);function J(W,Q,ue,de,re){this.static_tree=W,this.extra_bits=Q,this.extra_base=ue,this.elems=de,this.max_length=re,this.has_stree=W&&W.length}function H(W,Q){this.dyn_tree=W,this.max_code=0,this.stat_desc=Q}function V(W){return W<256?D[W]:D[256+(W>>>7)]}function ee(W,Q){W.pending_buf[W.pending++]=255&Q,W.pending_buf[W.pending++]=Q>>>8&255}function se(W,Q,ue){W.bi_valid>y-ue?(W.bi_buf|=Q<<W.bi_valid&65535,ee(W,W.bi_buf),W.bi_buf=Q>>y-W.bi_valid,W.bi_valid+=ue-y):(W.bi_buf|=Q<<W.bi_valid&65535,W.bi_valid+=ue)}function oe(W,Q,ue){se(W,ue[2*Q],ue[2*Q+1])}function xe(W,Q){for(var ue=0;ue|=1&W,W>>>=1,ue<<=1,0<--Q;);return ue>>>1}function Se(W,Q,ue){var de,re,he=new Array(b+1),Te=0;for(de=1;de<=b;de++)he[de]=Te=Te+ue[de-1]<<1;for(re=0;re<=Q;re++){var ve=W[2*re+1];ve!==0&&(W[2*re]=xe(he[ve]++,ve))}}function ye(W){var Q;for(Q=0;Q<h;Q++)W.dyn_ltree[2*Q]=0;for(Q=0;Q<p;Q++)W.dyn_dtree[2*Q]=0;for(Q=0;Q<v;Q++)W.bl_tree[2*Q]=0;W.dyn_ltree[2*E]=1,W.opt_len=W.static_len=0,W.last_lit=W.matches=0}function ie(W){8<W.bi_valid?ee(W,W.bi_buf):0<W.bi_valid&&(W.pending_buf[W.pending++]=W.bi_buf),W.bi_buf=0,W.bi_valid=0}function we(W,Q,ue,de){var re=2*Q,he=2*ue;return W[re]<W[he]||W[re]===W[he]&&de[Q]<=de[ue]}function pe(W,Q,ue){for(var de=W.heap[ue],re=ue<<1;re<=W.heap_len&&(re<W.heap_len&&we(Q,W.heap[re+1],W.heap[re],W.depth)&&re++,!we(Q,de,W.heap[re],W.depth));)W.heap[ue]=W.heap[re],ue=re,re<<=1;W.heap[ue]=de}function X(W,Q,ue){var de,re,he,Te,ve=0;if(W.last_lit!==0)for(;de=W.pending_buf[W.d_buf+2*ve]<<8|W.pending_buf[W.d_buf+2*ve+1],re=W.pending_buf[W.l_buf+ve],ve++,de===0?oe(W,re,Q):(oe(W,(he=N[re])+f+1,Q),(Te=C[he])!==0&&se(W,re-=U[he],Te),oe(W,he=V(--de),ue),(Te=P[he])!==0&&se(W,de-=G[he],Te)),ve<W.last_lit;);oe(W,E,Q)}function ae(W,Q){var ue,de,re,he=Q.dyn_tree,Te=Q.stat_desc.static_tree,ve=Q.stat_desc.has_stree,Oe=Q.stat_desc.elems,Le=-1;for(W.heap_len=0,W.heap_max=g,ue=0;ue<Oe;ue++)he[2*ue]!==0?(W.heap[++W.heap_len]=Le=ue,W.depth[ue]=0):he[2*ue+1]=0;for(;W.heap_len<2;)he[2*(re=W.heap[++W.heap_len]=Le<2?++Le:0)]=1,W.depth[re]=0,W.opt_len--,ve&&(W.static_len-=Te[2*re+1]);for(Q.max_code=Le,ue=W.heap_len>>1;1<=ue;ue--)pe(W,he,ue);for(re=Oe;ue=W.heap[1],W.heap[1]=W.heap[W.heap_len--],pe(W,he,1),de=W.heap[1],W.heap[--W.heap_max]=ue,W.heap[--W.heap_max]=de,he[2*re]=he[2*ue]+he[2*de],W.depth[re]=(W.depth[ue]>=W.depth[de]?W.depth[ue]:W.depth[de])+1,he[2*ue+1]=he[2*de+1]=re,W.heap[1]=re++,pe(W,he,1),2<=W.heap_len;);W.heap[--W.heap_max]=W.heap[1],function(Ne,_n){var fs,yr,Gs,ht,Ks,hs,Dn=_n.dyn_tree,ui=_n.max_code,Yo=_n.stat_desc.static_tree,Xo=_n.stat_desc.has_stree,Gr=_n.stat_desc.extra_bits,dl=_n.stat_desc.extra_base,Ar=_n.stat_desc.max_length,Ir=0;for(ht=0;ht<=b;ht++)Ne.bl_count[ht]=0;for(Dn[2*Ne.heap[Ne.heap_max]+1]=0,fs=Ne.heap_max+1;fs<g;fs++)Ar<(ht=Dn[2*Dn[2*(yr=Ne.heap[fs])+1]+1]+1)&&(ht=Ar,Ir++),Dn[2*yr+1]=ht,ui<yr||(Ne.bl_count[ht]++,Ks=0,dl<=yr&&(Ks=Gr[yr-dl]),hs=Dn[2*yr],Ne.opt_len+=hs*(ht+Ks),Xo&&(Ne.static_len+=hs*(Yo[2*yr+1]+Ks)));if(Ir!==0){do{for(ht=Ar-1;Ne.bl_count[ht]===0;)ht--;Ne.bl_count[ht]--,Ne.bl_count[ht+1]+=2,Ne.bl_count[Ar]--,Ir-=2}while(0<Ir);for(ht=Ar;ht!==0;ht--)for(yr=Ne.bl_count[ht];yr!==0;)ui<(Gs=Ne.heap[--fs])||(Dn[2*Gs+1]!==ht&&(Ne.opt_len+=(ht-Dn[2*Gs+1])*Dn[2*Gs],Dn[2*Gs+1]=ht),yr--)}}(W,Q),Se(he,Le,W.bl_count)}function M(W,Q,ue){var de,re,he=-1,Te=Q[1],ve=0,Oe=7,Le=4;for(Te===0&&(Oe=138,Le=3),Q[2*(ue+1)+1]=65535,de=0;de<=ue;de++)re=Te,Te=Q[2*(de+1)+1],++ve<Oe&&re===Te||(ve<Le?W.bl_tree[2*re]+=ve:re!==0?(re!==he&&W.bl_tree[2*re]++,W.bl_tree[2*T]++):ve<=10?W.bl_tree[2*S]++:W.bl_tree[2*A]++,he=re,Le=(ve=0)===Te?(Oe=138,3):re===Te?(Oe=6,3):(Oe=7,4))}function te(W,Q,ue){var de,re,he=-1,Te=Q[1],ve=0,Oe=7,Le=4;for(Te===0&&(Oe=138,Le=3),de=0;de<=ue;de++)if(re=Te,Te=Q[2*(de+1)+1],!(++ve<Oe&&re===Te)){if(ve<Le)for(;oe(W,re,W.bl_tree),--ve!=0;);else re!==0?(re!==he&&(oe(W,re,W.bl_tree),ve--),oe(W,T,W.bl_tree),se(W,ve-3,2)):ve<=10?(oe(W,S,W.bl_tree),se(W,ve-3,3)):(oe(W,A,W.bl_tree),se(W,ve-11,7));he=re,Le=(ve=0)===Te?(Oe=138,3):re===Te?(Oe=6,3):(Oe=7,4)}}c(G);var Z=!1;function z(W,Q,ue,de){se(W,(u<<1)+(de?1:0),3),function(re,he,Te,ve){ie(re),ve&&(ee(re,Te),ee(re,~Te)),o.arraySet(re.pending_buf,re.window,he,Te,re.pending),re.pending+=Te}(W,Q,ue,!0)}s._tr_init=function(W){Z||(function(){var Q,ue,de,re,he,Te=new Array(b+1);for(re=de=0;re<d-1;re++)for(U[re]=de,Q=0;Q<1<<C[re];Q++)N[de++]=re;for(N[de-1]=re,re=he=0;re<16;re++)for(G[re]=he,Q=0;Q<1<<P[re];Q++)D[he++]=re;for(he>>=7;re<p;re++)for(G[re]=he<<7,Q=0;Q<1<<P[re]-7;Q++)D[256+he++]=re;for(ue=0;ue<=b;ue++)Te[ue]=0;for(Q=0;Q<=143;)j[2*Q+1]=8,Q++,Te[8]++;for(;Q<=255;)j[2*Q+1]=9,Q++,Te[9]++;for(;Q<=279;)j[2*Q+1]=7,Q++,Te[7]++;for(;Q<=287;)j[2*Q+1]=8,Q++,Te[8]++;for(Se(j,h+1,Te),Q=0;Q<p;Q++)O[2*Q+1]=5,O[2*Q]=xe(Q,5);K=new J(j,C,f+1,h,b),q=new J(O,P,0,p,b),Y=new J(new Array(0),I,0,v,x)}(),Z=!0),W.l_desc=new H(W.dyn_ltree,K),W.d_desc=new H(W.dyn_dtree,q),W.bl_desc=new H(W.bl_tree,Y),W.bi_buf=0,W.bi_valid=0,ye(W)},s._tr_stored_block=z,s._tr_flush_block=function(W,Q,ue,de){var re,he,Te=0;0<W.level?(W.strm.data_type===2&&(W.strm.data_type=function(ve){var Oe,Le=4093624447;for(Oe=0;Oe<=31;Oe++,Le>>>=1)if(1&Le&&ve.dyn_ltree[2*Oe]!==0)return a;if(ve.dyn_ltree[18]!==0||ve.dyn_ltree[20]!==0||ve.dyn_ltree[26]!==0)return l;for(Oe=32;Oe<f;Oe++)if(ve.dyn_ltree[2*Oe]!==0)return l;return a}(W)),ae(W,W.l_desc),ae(W,W.d_desc),Te=function(ve){var Oe;for(M(ve,ve.dyn_ltree,ve.l_desc.max_code),M(ve,ve.dyn_dtree,ve.d_desc.max_code),ae(ve,ve.bl_desc),Oe=v-1;3<=Oe&&ve.bl_tree[2*R[Oe]+1]===0;Oe--);return ve.opt_len+=3*(Oe+1)+5+5+4,Oe}(W),re=W.opt_len+3+7>>>3,(he=W.static_len+3+7>>>3)<=re&&(re=he)):re=he=ue+5,ue+4<=re&&Q!==-1?z(W,Q,ue,de):W.strategy===4||he===re?(se(W,2+(de?1:0),3),X(W,j,O)):(se(W,4+(de?1:0),3),function(ve,Oe,Le,Ne){var _n;for(se(ve,Oe-257,5),se(ve,Le-1,5),se(ve,Ne-4,4),_n=0;_n<Ne;_n++)se(ve,ve.bl_tree[2*R[_n]+1],3);te(ve,ve.dyn_ltree,Oe-1),te(ve,ve.dyn_dtree,Le-1)}(W,W.l_desc.max_code+1,W.d_desc.max_code+1,Te+1),X(W,W.dyn_ltree,W.dyn_dtree)),ye(W),de&&ie(W)},s._tr_tally=function(W,Q,ue){return W.pending_buf[W.d_buf+2*W.last_lit]=Q>>>8&255,W.pending_buf[W.d_buf+2*W.last_lit+1]=255&Q,W.pending_buf[W.l_buf+W.last_lit]=255&ue,W.last_lit++,Q===0?W.dyn_ltree[2*ue]++:(W.matches++,Q--,W.dyn_ltree[2*(N[ue]+f+1)]++,W.dyn_dtree[2*V(Q)]++),W.last_lit===W.lit_bufsize-1},s._tr_align=function(W){se(W,2,3),oe(W,E,j),function(Q){Q.bi_valid===16?(ee(Q,Q.bi_buf),Q.bi_buf=0,Q.bi_valid=0):8<=Q.bi_valid&&(Q.pending_buf[Q.pending++]=255&Q.bi_buf,Q.bi_buf>>=8,Q.bi_valid-=8)}(W)}},{"../utils/common":41}],53:[function(n,r,s){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,s){(function(o){(function(a,l){if(!a.setImmediate){var c,u,d,f,h=1,p={},v=!1,g=a.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(a);b=b&&b.setTimeout?b:a,c={}.toString.call(a.process)==="[object process]"?function(T){process.nextTick(function(){x(T)})}:function(){if(a.postMessage&&!a.importScripts){var T=!0,S=a.onmessage;return a.onmessage=function(){T=!1},a.postMessage("","*"),a.onmessage=S,T}}()?(f="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",E,!1):a.attachEvent("onmessage",E),function(T){a.postMessage(f+T,"*")}):a.MessageChannel?((d=new MessageChannel).port1.onmessage=function(T){x(T.data)},function(T){d.port2.postMessage(T)}):g&&"onreadystatechange"in g.createElement("script")?(u=g.documentElement,function(T){var S=g.createElement("script");S.onreadystatechange=function(){x(T),S.onreadystatechange=null,u.removeChild(S),S=null},u.appendChild(S)}):function(T){setTimeout(x,0,T)},b.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var S=new Array(arguments.length-1),A=0;A<S.length;A++)S[A]=arguments[A+1];var C={callback:T,args:S};return p[h]=C,c(h),h++},b.clearImmediate=y}function y(T){delete p[T]}function x(T){if(v)setTimeout(x,0,T);else{var S=p[T];if(S){v=!0;try{(function(A){var C=A.callback,P=A.args;switch(P.length){case 0:C();break;case 1:C(P[0]);break;case 2:C(P[0],P[1]);break;case 3:C(P[0],P[1],P[2]);break;default:C.apply(l,P)}})(S)}finally{y(T),v=!1}}}}function E(T){T.source===a&&typeof T.data=="string"&&T.data.indexOf(f)===0&&x(+T.data.slice(f.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof cn<"u"?cn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(EG);var X9e=EG.exports;const Q9e=Ke(X9e);function Z9e(){const t=["Clsico","Moderno","Minimalista"],[e,n]=F.useState(()=>localStorage.getItem("selectedTemplate")||null),{userName:r,partnerName:s,weddingDate:o,venue:a,themeColor:l}=il(),[c,u]=F.useState(!1);F.useEffect(()=>{e?localStorage.setItem("selectedTemplate",e):localStorage.removeItem("selectedTemplate")},[e]);const d=()=>`<!DOCTYPE html><html lang="es"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Save the Date</title><style>body{font-family:sans-serif;text-align:center;padding:2rem;color:${l}}header{background-color:${l};color:#fff;padding:1rem}section{margin:2rem 0}</style></head><body><header><h1>Save the Date</h1><h2>${r} & ${s}</h2><p>Plantilla: ${e}</p></header><section><p>Nos casamos el ${o} en ${a}.</p></section><footer><p>Te esperamos!</p></footer></body></html>`,f=async()=>{const h=d(),p=new Q9e;p.file("index.html",h);const v=await p.generateAsync({type:"blob"});C9.saveAs(v,"wedding_site.zip")};return w.jsxs("div",{className:"p-6",children:[w.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Diseo Web"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:t.map((h,p)=>w.jsx("div",{className:`p-4 border rounded-lg cursor-pointer ${e===h?"border-blue-600 bg-blue-50":""}`,onClick:()=>n(h),children:w.jsx("p",{className:"text-lg font-medium",children:h})},p))}),e&&w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"mt-6 p-4 bg-white rounded shadow",children:[w.jsxs("h2",{className:"text-xl font-semibold",children:[r," & ",s]}),w.jsxs("p",{children:["Nos casamos el ",o," en ",a,"."]})]}),w.jsxs("div",{className:"flex space-x-2 mt-4",children:[w.jsx("button",{onClick:f,className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Descargar Sitio"}),w.jsx("button",{onClick:()=>u(!0),className:"bg-gray-600 text-white px-4 py-2 rounded",children:"Vista Previa"})]})]}),c&&w.jsx("div",{className:"mt-4",children:w.jsx("iframe",{srcDoc:d(),sandbox:"allow-same-origin",className:"w-full h-96 border"})})]})}function J9e(){const[t,e]=F.useState("notes"),[n,r]=F.useState([]),[s,o]=F.useState(""),[a,l]=F.useState([]),[c,u]=F.useState([]);return w.jsxs("div",{className:"p-6",children:[w.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Ideas"}),w.jsxs("div",{className:"flex space-x-4 mb-4",children:[w.jsx("button",{onClick:()=>e("notes"),className:`px-4 py-2 rounded ${t==="notes"?"bg-blue-600 text-white":""}`,children:"Notas"}),w.jsx("button",{onClick:()=>e("voices"),className:`px-4 py-2 rounded ${t==="voices"?"bg-blue-600 text-white":""}`,children:"Notas de Voz"}),w.jsx("button",{onClick:()=>e("photos"),className:`px-4 py-2 rounded ${t==="photos"?"bg-blue-600 text-white":""}`,children:"Fotos"})]}),t==="notes"&&w.jsxs("div",{children:[w.jsx("textarea",{value:s,onChange:d=>o(d.target.value),className:"w-full border rounded p-2 mb-2",placeholder:"Escribe tu nota..."}),w.jsx("button",{onClick:()=>{s&&(r(d=>[...d,s]),o(""))},className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Aadir Nota"}),w.jsx("ul",{className:"mt-4 list-disc list-inside",children:n.map((d,f)=>w.jsx("li",{children:d},f))})]}),t==="voices"&&w.jsxs("div",{children:[w.jsx("input",{type:"file",accept:"audio/*",onChange:d=>{const f=d.target.files[0];f&&l(h=>[...h,URL.createObjectURL(f)])}}),w.jsx("ul",{className:"mt-4 space-y-2",children:a.map((d,f)=>w.jsx("li",{children:w.jsx("audio",{controls:!0,src:d})},f))})]}),t==="photos"&&w.jsxs("div",{children:[w.jsx("input",{type:"file",accept:"image/*",onChange:d=>{const f=d.target.files[0];f&&u(h=>[...h,URL.createObjectURL(f)])}}),w.jsx("div",{className:"mt-4 grid grid-cols-3 gap-2",children:c.map((d,f)=>w.jsx("img",{src:d,alt:`Foto ${f}`,className:"w-full h-32 object-cover rounded"},f))})]})]})}function e7e(){return w.jsxs(xt,{className:"p-6 space-y-6",children:[w.jsx("h1",{className:"text-2xl font-semibold",children:"Buzn de correo"}),w.jsx("p",{children:"Aqu aparecern tus mensajes."})]})}function t7e(){const{isAuthenticated:t}=il();return t?w.jsx(mw,{}):w.jsx(cT,{to:"/",replace:!0})}function n7e(){return w.jsxs(Lce,{children:[w.jsx(YQ,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),w.jsx(dQ,{children:w.jsxs(iQ,{children:[w.jsx(Ct,{path:"/",element:w.jsx(fpe,{})}),w.jsx(Ct,{path:"/signup",element:w.jsx(hpe,{})}),w.jsx(Ct,{element:w.jsx(t7e,{}),children:w.jsxs(Ct,{element:w.jsx(dpe,{}),children:[w.jsx(Ct,{path:"home",element:w.jsx(wpe,{})}),w.jsx(Ct,{path:"tasks",element:w.jsx(PDe,{})}),w.jsx(Ct,{path:"finance",element:w.jsx(S8e,{})}),w.jsx(Ct,{path:"invitados",element:w.jsx(P8e,{})}),w.jsx(Ct,{path:"invitados/seating",element:w.jsx(B9e,{})}),w.jsx(Ct,{path:"invitados/invitaciones",element:w.jsx(U9e,{})}),w.jsx(Ct,{path:"proveedores",element:w.jsx(A8e,{})}),w.jsx(Ct,{path:"proveedores/contratos",element:w.jsx(z9e,{})}),w.jsxs(Ct,{path:"protocolo",element:w.jsx(H9e,{}),children:[w.jsx(Ct,{index:!0,element:w.jsx(cT,{to:"momentos-especiales",replace:!0})}),w.jsx(Ct,{path:"momentos-especiales",element:w.jsx(q9e,{})}),w.jsx(Ct,{path:"timing",element:w.jsx(G9e,{})}),w.jsx(Ct,{path:"checklist",element:w.jsx(K9e,{})}),w.jsx(Ct,{path:"ayuda-ceremonia",element:w.jsx(Y9e,{})})]}),w.jsx(Ct,{path:"perfil",element:w.jsx(I8e,{})}),w.jsx(Ct,{path:"buzon",element:w.jsx(e7e,{})}),w.jsx(Ct,{path:"diseno-web",element:w.jsx(Z9e,{})}),w.jsx(Ct,{path:"ideas",element:w.jsx(J9e,{})}),w.jsx(Ct,{path:"more",element:w.jsx(C8e,{}),children:w.jsx(Ct,{index:!0,element:w.jsx("p",{children:"Selecciona una seccin"})})}),w.jsx(Ct,{path:"*",element:w.jsx(cT,{to:"home",replace:!0})})]})})]})})]})}mE.createRoot(document.getElementById("root")).render(w.jsx(L.StrictMode,{children:w.jsx(n7e,{})}));
